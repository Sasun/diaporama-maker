!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={fromImage:"string",toImage:"string",toProjectUrl:"function",diaporamaZipUrl:"function",diaporamaJsonUrl:"function",bootstrapDiaporama:"function",saveDiaporama:"function",fetchDiaporama:"function",listItems:"function",uploadFiles:"function"};n.default=function(){if(!DiaporamaMakerAPI)throw new Error("DiaporamaMakerAPI is not defined");var e=[];for(var t in DiaporamaMakerAPI)t in r||e.push("DiaporamaMakerAPI."+t+" is unknown API.");for(var t in r)t in DiaporamaMakerAPI?typeof DiaporamaMakerAPI[t]!==r[t]&&e.push("DiaporamaMakerAPI."+t+" has wrong type: "+typeof DiaporamaMakerAPI[t]+" instead of "+r[t]):e.push("DiaporamaMakerAPI."+t+" is required.");if(e.length)throw new Error(e.join("\n"))},t.exports=n.default},{}],2:[function(e,t,n){"use strict";function r(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;return n===r&&(r=t.clientWidth),document.body.removeChild(t),n-r}t.exports={MIN_DRAG_THRESHOLD:10,DragItems:{LIBRARY_ITEMS:"L",SLIDE:"S"},SCROLL_BAR_W:r()}},{}],3:[function(e,t,n){"use strict";var r=e("vendor-prefix"),i=r("transform");t.exports=function(e){var t={position:"absolute"};return e&&(t[i]="translate("+e.x+"px,"+e.y+"px)",t.top=0,t.left=0,t.width=e.width+"px",t.height=e.height+"px"),t}},{"vendor-prefix":569}],4:[function(e,t,n){"use strict";function r(e,t){var n={};return n[s]="50% 50%",n[o]="rotate("+e+"deg)"+(t?" scale("+t+")":""),n}var i=e("vendor-prefix"),o=i("transform"),s=i("transform-origin");t.exports=r},{"vendor-prefix":569}],5:[function(e,t,n){"use strict";function r(e,t){var n={position:"absolute",top:0,left:0};return n[s]="0% 0%",n[o]="scale("+e+") translate("+Math.round(t[0])+"px,"+Math.round(t[1])+"px)",n}var i=e("vendor-prefix"),o=i("transform"),s=i("transform-origin");t.exports=r},{"vendor-prefix":569}],6:[function(e,t,n){"use strict";function r(e,t){var n={};return n[o]="translate("+e+"px,"+t+"px)",n}var i=e("vendor-prefix"),o=i("transform");t.exports=r},{"vendor-prefix":569}],7:[function(e,t,n){"use strict";var r=new window.Image;r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",t.exports=r},{}],8:[function(e,t,n){"use strict";function r(e,t){for(var n=document.createElement("canvas"),r=n.getContext("2d"),i=r.getImageData(0,0,e,t),o=0;4*e*t>o;o+=4)i.data[o]=Math.floor(256*Math.random()),i.data[o+1]=Math.floor(256*Math.random()),i.data[o+2]=Math.floor(256*Math.random()),i.data[o+3]=255;return r.putImageData(i,0,0),n}var i=e("glsl-transition-validator"),o=16,s=16,a=r(o,s),l=r(o,s),c=new i(a,l,o,s);t.exports=c},{"glsl-transition-validator":210}],9:[function(e,t,n){"use strict";var r={fetchImage:function(e){var t=new window.Image;if(this.img=t,e.image){this.curImgSrc=t.src=e.image;var n=this;t.onload=function(){n.onImageLoaded&&n.onImageLoaded(t),n.isMounted()&&n.forceUpdate()}}},componentWillMount:function(){this.fetchImage(this.props)},componentWillReceiveProps:function(e){this.curImgSrc&&this.curImgSrc===e.image||this.fetchImage(e)}};t.exports=r},{}],10:[function(e,t,n){"use strict";function r(e){this.message=e,this.stack=(new Error).stack}var i=e("q");r.prototype=new Error,r.prototype.name="UnmountedComponentError";var o={UnmountedComponentError:r,recoverUnmountedQ:function(e){if(!(e instanceof r))throw e},setStateQ:function(e){var t=i.defer();return this.isMounted()?this.setState(e,t.resolve):t.reject(new r("setStateQ: Component is not mounted")),t.promise},replaceStateQ:function(e){var t=i.defer();return this.isMounted()?this.replaceState(e,t.resolve):t.reject(new r("replaceStateQ: Component is not mounted")),t.promise},forceUpdateQ:function(){var e=i.defer();return this.isMounted()?this.forceUpdate(e.resolve):e.reject(new r("forceUpdateQ: Component is not mounted")),e.promise},watchQ:function(e){var t=this;return e.fin(function(){return t.forceUpdateQ().fail(function(e){if(e instanceof r)return i();throw e})})}};t.exports=o},{q:350}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=e("./genTimelineTransitionDefault"),o=r(i),s=e("lodash");t.exports=function(e,t){return s.extend({duration:4e3},t?s.cloneDeep(t):{},{transitionNext:o.default({},t&&t.transitionNext)},e)}},{"./genTimelineTransitionDefault":12,lodash:276}],12:[function(e,t,n){"use strict";var r=e("lodash");t.exports=function(e,t){return r.extend({duration:1e3},t?r.cloneDeep(t):{},e)}},{lodash:276}],13:[function(e,t,n){"use strict";function r(e){if(e.timeline)for(var t=0;t<e.timeline.length;++t)e.timeline[t].id=x();return e}function i(e,t,n){var r=e.timeline[t],i=e.timeline[n],o=i.transitionNext;return r.transitionNext?i.transitionNext=r.transitionNext:delete i.transitionNext,o?r.transitionNext=o:delete r.transitionNext,e}function o(e,t,n){var r=e.timeline[t];return e.timeline[t]=e.timeline[n],e.timeline[n]=r,e}function s(e){for(var t={},n=0;n<e.timeline.length;++n){var r=e.timeline[n];r.transitionNext&&r.transitionNext.name&&(t[r.transitionNext.name]=1)}return e.transitions=y.map(y.keys(t),function(e){return y.pick(b.byName(e),["glsl","uniforms","name"])}),e}function a(e,t){if(t){e.transitions||(e.transitions=[]);var n=y.findIndex(e.transitions,function(e){return e.name===t});if(-1===n){var r=y.pick(b.byName(t),["glsl","uniforms","name"]);r&&e.transitions.push(r)}}}function l(e,t){if(t&&e.transitions){for(var n=0;n<e.timeline.length;++n){var r=e.timeline[n];if(r.transitionNext&&r.transitionNext.name===t)return}var i=y.findIndex(e.transitions,function(e){return e.name===t});-1!==i&&e.transitions.splice(i,1)}}function c(e,t,n){t!==n&&(l(e,t),a(e,n))}function u(e,t,n){c(e,t&&t.name,n&&n.name)}function h(e,t,n){u(e,t&&t.transitionNext,n&&n.transitionNext)}function d(e,t){for(var n=e.timeline,r=0,i=0;i<n.length;++i){var o=n[i];r+=o.duration;var s=o.transitionNext,a=s&&s.duration||0;if(o.id===t)return{start:r,end:r+a};r+=a}}function f(e,t){for(var n=e.timeline,r=0,i=0;i<n.length;++i){var o=n[i];if(o.id===t)return{start:r,end:r+o.duration};r+=o.duration+(o.transitionNext&&o.transitionNext.duration||0)}}function p(e,t){for(var n=t.split("."),r=0;e&&r<n.length;++r)e=e[n[r]];return e}function g(e,t,n){var r,i=n.split(".");for(r=0;r<i.length-1;++r)e.hasOwnProperty(i[r])||(e[i[r]]={}),e=e[i[r]];e[i[r]]=t}function m(e,t){g(e,t,"generator.maker.defaultElement")}function v(e){return 100*Math.round(e/100)}var y=e("lodash"),b=e("../transitions"),w=e("./genTimelineElementDefault"),E=e("./genTimelineTransitionDefault"),C={},x=function(e){return function(){return++e}}(0);C.fromBootstrap=function(e){return r(s(e))},C.fromFetch=function(e){return r(e)},C.clean=function(e){var t=y.cloneDeep(e);if(t.timeline)for(var n=0;n<t.timeline.length;++n)delete t.timeline[n].id;return t},C.localize=function(e,t){if(!e)return null;var n=y.cloneDeep(e);return n.timeline.forEach(function(e){e.image&&(e.image=DiaporamaMakerAPI.toProjectUrl(e.image,t))}),n},C.timelineIndexOfId=function(e,t){for(var n=e.timeline,r=0;r<n.length;++r)if(n[r].id===t)return r;return-1},C.timelineTimeIntervalForItemPointer=function(e,t){return t.transition?d(e,t.id):f(e,t.id)},C.timelineForId=function(e,t){return e.timeline[C.timelineIndexOfId(e,t)]},C.timelineTransitionForId=function(e,t){var n=C.timelineIndexOfId(e,t);if(-1!==n){var r=e.timeline[n],i=e.timeline[n+1>=e.timeline.length?0:n+1];return{from:r,transitionNext:r.transitionNext,to:i}}},C.duration=function(e){for(var t=e.timeline,n=0,r=0;r<t.length;++r){var i=t[r],o=i.duration||0,s=i.transitionNext,a=s&&s.duration||0;n+=o+a}return n},C.lookupSegment=function(e,t){for(var n=e.timeline,r=0,i=0;i<n.length;++i){var o=n[i],s=o.duration||0,a=o.transitionNext,l=a&&a.duration||0;if(t>=r&&r+s>=t)return{id:o.id,transition:!1};if(r+=s,a){if(t>=r&&r+l>=t)return{id:o.id,transition:!0};r+=l}}return null},C.lookupBetweenImagePlace=function(e,t){for(var n=e.timeline,r=0,i=0;i<n.length;++i){var o=n[i],s=o.duration||0,a=o.transitionNext,l=a&&a.duration||0;if(t>=r&&r+s>=t)return r+s/2>=t?{id:o.id,before:!0}:{id:o.id,after:!0};if(r+=s,a){if(t>=r&&r+l>=t)return{id:o.id,after:!0};r+=l}}return null},C.getDefaultElement=function(e,t){var n=w(t||{},p(e,"generator.maker.defaultElement"));return n.slide2d&&delete n.kenburns,n},C.getDefaultTransition=function(e,t){return E(t||{},p(e,"generator.maker.defaultElement.transitionNext"))};var _=100,A=100,D={resizeRight:function(e,t,n){var r=C.timelineIndexOfId(e,t.id);if(-1!==r){var i=y.cloneDeep(e),o=i.timeline[r];if(t.transition){var s=v(Math.max(_,o.transitionNext.duration+n));if(o.transitionNext.duration===s)return;o.transitionNext.duration=s}else{var a=v(Math.max(A,o.duration+n));if(o.duration===a)return;o.duration=a}return i}},resizeLeft:function(e,t,n){var r=C.timelineIndexOfId(e,t.id);if(-1!==r&&(0!==r||t.transition)){var i=y.cloneDeep(e),o=i.timeline[r];if(t.transition){n=Math.max(A,v(o.duration+n))-o.duration,n=o.transitionNext.duration-Math.max(_,v(o.transitionNext.duration-n));var s=o.duration+n,a=o.transitionNext.duration-n;if(o.duration===s&&o.transitionNext.duration===a)return;o.duration=s,o.transitionNext.duration=a}else{var l=i.timeline[r-1],c=l.transitionNext?l.transitionNext.duration:l.duration;n=Math.max(_,v(c+n))-c,n=o.duration-Math.max(A,v(o.duration-n));var u=c+n,h=o.duration-n;if(c===u&&o.duration===h)return;l.transitionNext?l.transitionNext.duration=u:l.duration=u,o.duration=h}return i}},setDefaultElement:function(e,t){var n=y.cloneDeep(e);return m(n,t),n},setItem:function(e,t,n){var r=y.cloneDeep(e),i=t.id;if(t.transition){var o=C.timelineForId(r,i);n.duration<_&&(n.duration=_);var s=o.transitionNext;o.transitionNext=n,u(r,s,n)}else{var a=C.timelineIndexOfId(r,i);n.duration<A&&(n.duration=A);var l=r.timeline[a];r.timeline[a]=n,h(r,l,n)}return r},bootstrapTransition:function(e,t){return D.setItem(e,{id:t,transition:!0},C.getDefaultTransition(e))},bootstrapItem:function(e,t,n){return D.bootstrapImages(e,[t],n)},bootstrapItems:function(e,t,n){var r=y.cloneDeep(e),i=[],o=t.map(function(t){var n=C.getDefaultElement(e,t),r=n.transitionNext&&n.transitionNext.name;return r&&!y.contains(i,r)&&i.push(r),n.id=x(),delete n.title,n});if(n){if(n.after){var s=C.timelineIndexOfId(r,n.id)+1;Array.prototype.splice.apply(r.timeline,[s,0].concat(o))}else if(n.before){var l=C.timelineIndexOfId(r,n.id);Array.prototype.splice.apply(r.timeline,[l,0].concat(o))}}else r.timeline=r.timeline.concat(o);return i.forEach(function(e){a(r,e)}),r},removeItem:function(e,t){var n=C.timelineIndexOfId(e,t.id);if(-1!==n){var r=y.cloneDeep(e),i=r.timeline[n],o=i.transitionNext&&i.transitionNext.name;return t.transition?delete r.timeline[n].transitionNext:r.timeline.splice(n,1),l(r,o),r}},moveItemLeft:function(e,t){var n=C.timelineIndexOfId(e,t.id);if(0!==n){var r=y.cloneDeep(e);return i(r,n,n-1),t.transition||o(r,n,n-1),r}},moveItemRight:function(e,t){var n=C.timelineIndexOfId(e,t.id);if(n!==e.timeline.length-1){var r=y.cloneDeep(e);return i(r,n,n+1),t.transition||o(r,n,n+1),r}},moveItem:function(e,t,n){if(n){var r=y.cloneDeep(e),i=C.timelineIndexOfId(e,t.id),o=C.timelineIndexOfId(e,n.id);if(-1!==i&&-1!==o&&o!==i){var s=r.timeline[i];return i>o&&o++,n.before&&o--,r.timeline.splice(i,1),r.timeline.splice(o,0,s),r}}}};C.alterDiaporama=function(e,t,n,r){var i=D[t];if(!i)throw new Error("Action '"+t+"' not found.");return i(e,n,r)},t.exports=C},{"../transitions":14,"./genTimelineElementDefault":11,"./genTimelineTransitionDefault":12,lodash:276}],14:[function(e,t,n){"use strict";function r(e){return s.omit(e,function(e,t){return s.contains(c,t)||s.contains(u,e)})}function i(e,t){return e.filter(function(e){for(var t in e.uniforms)if("string"==typeof e.uniforms[t])return!1;return!0}).map(t).filter(function(e){return!!e})}var o=e("glsl-transitions"),s=e("lodash"),a=e("glsl-transition-fade"),l=e("../core/validator"),c=["progress","resolution","from","to"],u=["samplerCube"],h=i(o.sort(function(e,t){return t.stars-e.stars}),function(e){var t=l.forGlsl(e.glsl),n=t.compiles(),i=n?t.uniforms():{};return t.destroy(),n?s.extend({types:r(i)},e):void console.log("transition '"+e.name+"' failed to compile.")});h.push(s.extend({types:{}},a));var d=s.groupBy(h,"name");t.exports={collection:h,collectionForDiaporama:function e(t){var n={};t.timeline.forEach(function(e){var t=e.transitionNext&&e.transitionNext.name;t&&(n[t]=(n[t]||0)+1)});var r=(t.transitions||[]).filter(function(e){var t=d[e.name][0];return!t||t.glsl!==e.glsl||!s.isEqual(t.uniforms,e.uniforms)}).map(function(e){return s.extend({diverged:!0,id:""+Math.random(),name:"(no name)",owner:"(no owner)",stars:0},e)}),e=h.map(function(e){return s.extend({diverged:!1},e)}).concat(r).map(function(e){return s.extend({usedCount:n[e.name]||0},e)}).sort(function(e,t){return 100*(!!t.diverged-!!e.diverged)+1*(t.usedCount-e.usedCount)+.01*(t.stars-e.stars)});return e},byName:function(e){var t=d[e];return t&&t[0]||a}}},{"../core/validator":8,"glsl-transition-fade":189,"glsl-transitions":246,lodash:276}],15:[function(e,t,n){"use strict";var r=e("react"),i=e("../../../package.json"),o=e("../Button"),s=e("../Icon"),a=r.createClass({displayName:"AboutScreen",render:function(){return r.createElement("div",null,r.createElement("h2",null,"Welcome to Diaporama Maker Beta (",i.version,")"),r.createElement("p",{style:{margin:"1em 0"}},r.createElement("a",{target:"_blank",href:i.bugs.url},"We ",r.createElement(s,{name:"heart"})," to hear your feedbacks"),".  ",r.createElement("a",{target:"_blank",href:i.homepage},"Source Code")," is under ",i.license,"."),r.createElement("p",null,r.createElement(o,{color:"#000",colorHover:"#f90",target:"_blank",href:"http://gre.gitbooks.io/diaporama-maker/content/index.html"},"Getting Started"),r.createElement(o,{bg:"#000",color:"#fff",bgHover:"#f90",onClick:this.props.onDone},r.createElement(s,{name:"folder-open"})," Open Library")))}});t.exports=a},{"../../../package.json":570,"../Button":18,"../Icon":25,react:563}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return Math.max(800,window.innerWidth)}function o(){return Math.max(500,window.innerHeight)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=e("react"),l=r(a),c=e("lodash"),u=r(c),h=e("raf"),d=r(h),f=e("combokeys"),p=r(f),g=e("../../mixins/PromiseMixin"),m=r(g),v=e("../../models/Diaporama"),y=r(v),b=e("../../models/transitions"),w=r(b),E=e("../MainPanel"),C=r(E),x=e("../Viewer"),_=r(x),A=e("../Timeline"),D=r(A),F=e("../DragLayer"),S=r(F),T=e("../TransitionPickerOverlay"),R=r(T),k=e("../../checkAPI"),M=r(k),L=e("../../versionInfo"),B=r(L),O="library",I="library",P=l.default.createClass({displayName:"App",mixins:[m.default],propTypes:{maxUndos:l.default.PropTypes.number,maxRedos:l.default.PropTypes.number},getDefaultProps:function(){return{maxUndos:80,maxRedos:40}},getInitialState:function(){return{width:i(),height:o(),diaporama:void 0,diaporamaLocalized:null,history:[],undoHistory:[],panel:O,hoverTimeline:!1,windowFocus:!0,selectedItemPointer:null,time:0,playing:!1,error:null,pickingTransition:null,versionInfo:null}},componentWillMount:function(){var e=this;M.default(),B.default.then(function(t){return e.setState({versionInfo:t})})},componentDidMount:function(){this.historizeDebounced=u.default.debounce(this.historize,300),window.onerror=this.onError,window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),window.addEventListener("resize",this.onResize),this.sync(DiaporamaMakerAPI.fetchDiaporama()).done(),this.startMainLoop();var e=this.combokeys=new p.default(document);e.bind("space",function(e){e.preventDefault(),this.state.playing?this.onPause():this.onPlay()}.bind(this)),e.bind("command+z",function(){return this.undo(),!1}.bind(this)),e.bind("command+shift+z",function(){return this.redo(),!1}.bind(this)),e.bind(["backspace","del"],function(){return this.alterSelection("removeItem"),!1}.bind(this)),e.bind(["left"],function(){return this.onSelectionLeft(),!1}.bind(this)),e.bind(["command+left"],function(){return this.alterSelection("moveItemLeft"),!1}.bind(this)),e.bind(["right"],function(){return this.onSelectionRight(),!1}.bind(this)),e.bind(["command+right"],function(){return this.alterSelection("moveItemRight"),!1}.bind(this))},componentWillUnmount:function(){window.onerror=null,window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),window.removeEventListener("resize",this.onResize),this.combokeys.reset(),this.stopMainLoop()},render:function(){var e=this.state,t=e.width,n=e.height,r=e.diaporama,i=e.diaporamaLocalized,o=e.panel,a=e.selectedItemPointer,c=e.time,u=e.hoverTimeline,h=e.pickingTransition,d=e.versionInfo;if(void 0===r)return l.default.createElement("div",null,"Loading...");var f=void 0,p=void 0;t/2>2*n/3?(p=Math.round(n/2),f=Math.round(4*p/3)):(f=Math.round(t/2),p=Math.round(3*f/4)),p=Math.max(n-300,p),f=Math.max(t-820,Math.min(p,f));var g={x:t-f,y:0,width:f,height:p},m={x:0,y:0,width:t-f,height:p},v={x:0,y:p,width:t,height:n-p},y=void 0;if(d){var b=d.outdated,E={position:"fixed",bottom:"-2px",right:"-2px",zIndex:2,padding:"2px 6px",borderRadius:"2px",font:"lighter 12px sans-serif",opacity:.6,textDecoration:"none",background:b?"#faa":"#000",color:b?"#d00":"#fff"};y=b?l.default.createElement("a",{style:E,href:"https://github.com/gre/diaporama-maker"},"new version: ",d.latestVersion):l.default.createElement("span",{style:E},d.currentVersion)}var x=void 0;if(h){var A=814,F=460;x=l.default.createElement(R.default,s({},h,{bounds:[Math.round((t-A)/2),Math.round((n-F)/2),A,F],transitionCollection:w.default.collectionForDiaporama(r),onClose:this.onTransitionPickerOverlayClose}))}return l.default.createElement("div",null,y,x,l.default.createElement(S.default,null),l.default.createElement(C.default,{bound:m,mode:o,error:this.state.error,selectedItemPointer:a,diaporama:r,alterSelection:this.alterSelection,alterDiaporama:this.alterDiaporama,onNav:this.onNav,time:c,openTransitionPicker:this.openTransitionPicker}),l.default.createElement(_.default,{time:c,bound:g,diaporama:i,onPause:this.onPause,onPlay:this.onPlay,playing:this.state.playing}),l.default.createElement(D.default,{ref:"timeline",time:c,hover:u,bound:v,diaporama:r,selectedItemPointer:a,alterDiaporama:this.alterDiaporama,alterSelection:this.alterSelection,onSelect:this.timelineSelect,onHoverEnter:this.onTimelineHoverEnter,onHoverLeave:this.onTimelineHoverLeave,onHoverMove:this.onTimelineHover}))},onError:function(e){this.setState({panel:"error",error:e})},onFocus:function(){this.state.windowFocus||this.setState({windowFocus:!0})},onBlur:function(){this.state.windowFocus&&this.setState({windowFocus:!1})},onResize:function(){this.resize(i(),o())},sync:function(e){var t=this;return e.then(function(e){return t.setState({diaporama:e,diaporamaLocalized:y.default.localize(e),history:[],undoHistory:[]}),e},function(){})},saveDiaporama:function(e){e&&(this.historizeDebounced(this.state.diaporama),this._save(e))},_save:function(e){this.setState({diaporama:e,diaporamaLocalized:y.default.localize(e)}),DiaporamaMakerAPI.saveDiaporama(e).done()},bootstrap:function(e){this.sync(DiaporamaMakerAPI.bootstrapDiaporama(e)).then(this.saveDiaporama.bind(this))},resize:function(e,t){this.setState({width:e,height:t})},redo:function(){if(!(this.state.undoHistory.length<=0)){var e=u.default.clone(this.state.history),t=u.default.clone(this.state.undoHistory),n=t.pop();e.push(this.state.diaporama),e.length>=this.props.maxUndos&&(e=u.default.rest(e)),this.setState({history:e,undoHistory:t}),this._save(n)}},undo:function(){if(!(this.state.history.length<=0)){var e=u.default.clone(this.state.history),t=u.default.clone(this.state.undoHistory),n=e.pop();t.push(this.state.diaporama),t.length>=this.props.maxRedos&&(t=u.default.rest(t)),this.setState({history:e,undoHistory:t}),this._save(n)}},historize:function(e){var t=u.default.clone(this.state.history),n=[];t.push(e),t.length>=this.props.maxUndos&&(t=u.default.rest(t)),this.setState({history:t,undoHistory:n})},panelForPointer:function(e){var t=this.state.diaporama;if(e.transition)return"editTransition";var n=y.default.timelineForId(t,e.id);return n.image?"editImage":n.slide2d?"editSlide2d":I},timelineSelect:function(e,t){this.setState({panel:e?t?this.state.panel:this.panelForPointer(e):0===this.state.panel.indexOf("edit")?I:this.state.panel,selectedItemPointer:e})},alterDiaporama:function(e,t,n){var r=y.default.alterDiaporama(this.state.diaporama,e,t,n);r&&this.saveDiaporama(r)},alterSelection:function(e,t){var n=this.state.selectedItemPointer;n&&("removeItem"===e&&this.timelineSelect(null),this.alterDiaporama(e,n,t))},stopMainLoop:function(){this._stop=!0},startMainLoop:function(){var e,t=this,n=0;!function r(i){if(!t._stop){d.default(r),e||(e=i);var o=i-e;if(e=i,t.state.windowFocus){var s=t.state.panel,a=t.state.selectedItemPointer,l=t.state.diaporama;if(t.refs.timeline&&t.refs.timeline.update(i,o),t.state.playing){var c,u,h;"editTransition"===s?(u=y.default.timelineTimeIntervalForItemPointer(l,a),u&&(h=u.end-u.start,n=(n+o/h)%1,c=u.start+h*n,t.setState({time:c}))):"editImage"===s?(u=y.default.timelineTimeIntervalForItemPointer(l,a),u&&(h=u.end-u.start,n=(h*n+o)/h%1,c=u.start+h*n,t.setState({time:c}))):t.setState({time:(t.state.time+o)%y.default.duration(l)})}}}}()},onSelectionLeft:function(){var e=this.state.selectedItemPointer;if(e){var t=y.default.timelineIndexOfId(this.state.diaporama,e.id)-1,n=this.state.diaporama.timeline[t];n&&this.timelineSelect(u.default.defaults({id:n.id},e||{}))}},onSelectionRight:function(){var e=this.state.selectedItemPointer,t=e?y.default.timelineIndexOfId(this.state.diaporama,e.id)+1:0,n=this.state.diaporama.timeline[t];n&&this.timelineSelect(u.default.defaults({id:n.id},e||{}))},onTimelineHoverEnter:function(){this.setState({hoverTimeline:!0})},onTimelineHoverLeave:function(){this.setState({hoverTimeline:!1})},onTimelineHover:function(e){this.state.playing||this.state.time===e||this.setState({time:e})},onNav:function(e){this.setState({panel:e})},onPause:function(){this.setState({playing:!1})},onPlay:function(){this.setState({playing:!0})},onTransitionPickerOverlayClose:function(){this.setState({pickingTransition:null})},openTransitionPicker:function(e,t){var n=this;this.setState({pickingTransition:{onSelectTransition:function(e){n.setState({pickingTransition:null}),t(e)},images:e}})}});t.exports=P},{"../../checkAPI":1,"../../mixins/PromiseMixin":10,"../../models/Diaporama":13,"../../models/transitions":14,"../../versionInfo":51,"../DragLayer":21,"../MainPanel":31,"../Timeline":38,"../TransitionPickerOverlay":46,"../Viewer":50,combokeys:104,lodash:276,raf:353,react:563}],17:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function s(e,t){return e&&t?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),u=e("bezier-easing-picker"),h=r(u),d=e("bezier-easing-editor"),f=r(d),p={displayName:!1},g={},m={},v=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return o(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.value,r=t.onChange,i=t.width,o=t.height,a=t.progress;return r!==e.onChange||i!==e.width||o!==e.height||a!==e.progress||!s(n,e.value)}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.onChange,r=e.width,i=e.height,o=e.progress,s=5,a=Math.floor((i-4*s)/5),l=i,u=r-a,d=i,v=20+Math.max(0,d-u)/2,y=20+Math.max(0,u-d)/2,b={display:"inline-block",width:r+"px",height:i+"px"};return c.default.createElement("div",{style:b},c.default.createElement(h.default,{value:t,onChange:n,width:a,height:l,itemStyles:p,hoverItemStyles:g,selectedItemStyles:m,interMargin:s,itemsPerRow:1}),c.default.createElement(f.default,{value:t,onChange:n,width:u,height:d,handleRadius:8,padding:[v+10,y,v+20,y+10],progress:o,handleColor:"#0af",progressColor:"#fc0"}))}}]),t}(c.default.Component);n.default=v,t.exports=n.default},{"bezier-easing-editor":64,"bezier-easing-picker":70,react:563}],18:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,s=n;a=c=l=void 0,r=!1;var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;e=c,t=o,n=s,r=!0}},a=e("react"),l=e("lodash"),c={color:"#000",bg:"#fff",fontSize:"1em"},u={onClick:a.PropTypes.func,color:a.PropTypes.string,bg:a.PropTypes.string,colorHover:a.PropTypes.string,bgHover:a.PropTypes.string,fontSize:a.PropTypes.string},h=function(e){function t(e){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={hover:!1},this.onClick=this.onClick.bind(this),this.hoverEnter=this.hoverEnter.bind(this),this.hoverLeave=this.hoverLeave.bind(this)}return i(t,e),o(t,[{key:"hoverEnter",value:function(){this.setState({hover:!0})}},{key:"hoverLeave",value:function(){this.setState({hover:!1})}},{key:"onClick",value:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.color,r=e.colorHover,i=e.bg,o=e.bgHover,s=e.fontSize,c=e.onClick,u=e.href,h=e.style,d=e.target,f=e.download,p=this.state.hover,g=l.extend({padding:"0.2em 0.8em",border:0,borderRadius:4,cursor:"pointer",fontSize:s,fontWeight:700,color:r&&p?r:n,background:o&&p?o:i,textDecoration:"none"},h),m={target:d,download:f,href:u,style:g,onClick:c?this.onClick:void 0,onMouseEnter:this.hoverEnter,onMouseLeave:this.hoverLeave};return a.createElement("a",m,t)}}]),t}(a.Component);n.default=h,h.propTypes=u,h.defaultProps=c,t.exports=n.default},{lodash:276,react:563}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,s=n;a=c=l=void 0,r=!1;var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;e=c,t=o,n=s,r=!0}},l=e("react"),c=r(l),u=e("../TransitionCustomizer"),h=r(u),d=e("../ImageCustomizer"),f=r(d),p=e("../../models/Diaporama"),g=r(p),m=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.onImageChange=this.onImageChange.bind(this),this.onTransitionChange=this.onTransitionChange.bind(this)}return o(t,e),s(t,[{key:"onImageChange",value:function(e){this.props.alterDiaporama("setDefaultElement",e)}},{key:"onTransitionChange",value:function(e){var t=this.props,n=t.alterDiaporama,r=t.diaporama,i=g.default.getDefaultElement(r,{transitionNext:e});n("setDefaultElement",i)}},{key:"render",value:function(){var e=this.props,t=e.diaporama,n=e.width,r=e.openTransitionPicker,i=g.default.getDefaultElement(t);return c.default.createElement("div",null,c.default.createElement("h3",null,"Default Element"),c.default.createElement(f.default,{value:i,onChange:this.onImageChange,width:n,displayDuration:!0}),c.default.createElement("h3",null,"Default Transition"),c.default.createElement(h.default,{value:i.transitionNext,onChange:this.onTransitionChange,width:n,images:[DiaporamaMakerAPI.fromImage,DiaporamaMakerAPI.toImage],animated:!1,openTransitionPicker:r,displayDuration:!0}))}}]),t}(c.default.Component);n.default=m,t.exports=n.default},{"../../models/Diaporama":13,"../ImageCustomizer":26,"../TransitionCustomizer":44,react:563}],20:[function(e,t,n){"use strict";t.exports=e("diaporama-react")},{"diaporama-react":138}],21:[function(e,t,n){"use strict";var r=e("react"),i=e("lodash"),o=e("react-dnd").DragLayerMixin,s=e("../../constants").DragItems,a=e("../LibraryItemThumbnail"),l=e("../../core/translateStyle"),c=r.createClass({displayName:"DragLayer",mixins:[o],render:function(){var e=this.getDragLayerState();if(e.isDragging){var t={position:"absolute",top:0,left:0,zIndex:9999,pointerEvents:"none"};switch(e.draggedItemType){case s.SLIDE:return i.extend(t,l(e.currentOffsetFromClient.x-100,e.currentOffsetFromClient.y-75)),r.createElement(a,{style:t,width:200,height:160,item:e.draggedItem,dragging:!0});case s.LIBRARY_ITEMS:var n=e.draggedItem.primary,o=e.draggedItem.all;return i.extend(t,l(e.currentOffset.x,e.currentOffset.y)),r.createElement(a,{style:t,width:120,height:100,item:n,stack:o,dragging:!0})}}return r.createElement("div",null)}});t.exports=c},{"../../constants":2,"../../core/translateStyle":6,"../LibraryItemThumbnail":30,lodash:276,react:563,"react-dnd":364}],22:[function(e,t,n){"use strict";var r=e("react"),i=r.createClass({displayName:"DurationInput",onChange:function(e){this.props.onChange&&this.props.onChange(1e3*parseFloat(e.target.value))},getDefaultProps:function(){return{min:.1,step:.1,max:10,value:1,width:400}},render:function(){var e=this.props.width,t=Math.floor(e/2),n=40,i=this.props.value/1e3;return r.createElement("p",null,r.createElement("label",{style:{width:e+"px"}},r.createElement("strong",{style:{width:e/2+"px",display:"inline-block",textAlign:"right"}},this.props.title)," ",r.createElement("span",{style:{width:t+"px"}},r.createElement("input",{style:{width:n+"px"},type:"number",min:this.props.min,step:this.props.step,max:this.props.max,value:i,onChange:this.onChange})," ",r.createElement("span",null,"seconds"),this.props.children)));
}});t.exports=i},{react:563}],23:[function(e,t,n){"use strict";var r=e("react/addons"),i=r.addons.PureRenderMixin,o=e("../Icon"),s=e("../../../package.json"),a=r.createClass({displayName:"ErrorScreen",mixins:[i],render:function(){var e=this.props.error;e&&e.stack&&console.log(e.stack);var t=e.message||e;e instanceof window.XMLHttpRequest&&(t=e.status+" "+e.statusText);var n={textDecoration:"none",color:"#f90"},i="https://github.com/gre/diaporama-maker/issues/new?title="+encodeURIComponent("Crash Report: "+t)+"&body="+encodeURIComponent("<Provide any extra detail>\n\n**Version:**\n```\n"+s.version+"\n```\n**Log detail:**\n```\n"+(e&&e.stack||e+"\n"+t)+"\n```");return r.createElement("div",null,r.createElement("h2",null,r.createElement(o,{name:"meh-o"})," Oops"),r.createElement("strong",null,r.createElement("code",null,t)),r.createElement("p",null,r.createElement("a",{style:n,href:""},r.createElement(o,{name:"refresh"})," Reload")),r.createElement("p",null,r.createElement("a",{target:"_blank",style:n,href:i},r.createElement(o,{name:"heart"})," Report this Bug")))}});t.exports=a},{"../../../package.json":570,"../Icon":25,"react/addons":391}],24:[function(e,t,n){"use strict";var r=e("lodash"),i=e("react"),o=e("../Icon"),s=e("../Button"),a=i.createClass({displayName:"Select",onChange:function(e){e.preventDefault(),this.props.onChange(e.target.value)},render:function(){var e=this.props.value,t=r.map(this.props.options,function(e,t){return i.createElement("option",{key:t,value:t},e)});return i.createElement("select",{value:e,onChange:this.onChange},t)}}),l=i.createClass({displayName:"GenerateScreen",getInitialState:function(){return{zipIncludesWeb:!0,quality:"high"}},downloadZipLink:function(){var e=this.state,t=e.quality,n=e.zipIncludesWeb;return DiaporamaMakerAPI.diaporamaZipUrl({quality:t,zipIncludesWeb:n})},onZipIncludesWebChange:function(e){var t=e.target.checked;this.setState({zipIncludesWeb:t})},onQualityChange:function(e){this.setState({quality:e})},render:function(){var e=DiaporamaMakerAPI.diaporamaJsonUrl(),t=this.downloadZipLink(),n={low:"Low",medium:"Medium",high:"High",original:"Original"},r={margin:"8px 40px"};return i.createElement("div",null,i.createElement("h3",null,"diaporama.json"),i.createElement("div",{style:r},i.createElement("p",null,i.createElement(s,{download:!0,href:e,color:"#fff",bg:"#000",bgHover:"#f90"},i.createElement(o,{name:"download"}),"  Download"))),i.createElement("h3",null,"ZIP Export"),i.createElement("div",{style:r},i.createElement("p",null,i.createElement("label",null,"Image Quality: ",i.createElement(a,{options:n,value:this.state.quality,onChange:this.onQualityChange}))),i.createElement("p",null,i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.zipIncludesWeb,onChange:this.onZipIncludesWebChange}),"  includes web slideshow (",i.createElement("code",null,"index.html")," and ",i.createElement("code",null,"diaporama.bundle.js"),")")),i.createElement("p",null,i.createElement(s,{download:!0,href:t,color:"#fff",bg:"#000",bgHover:"#f90"},i.createElement(o,{name:"download"}),"  Download"))))}});t.exports=l},{"../Button":18,"../Icon":25,lodash:276,react:563}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var i=e,o=t,s=n;a=c=l=void 0,r=!1;var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;e=c,t=o,n=s,r=!0}},c=e("react"),u=r(c),h=e("lodash"),d=r(h),f=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={hover:!1},this.hoverEnter=this.hoverEnter.bind(this),this.hoverLeave=this.hoverLeave.bind(this)}return o(t,e),a(t,[{key:"hoverEnter",value:function(){this.setState({hover:!0})}},{key:"hoverLeave",value:function(){this.setState({hover:!1})}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.color,r=e.size,i=e.onClick,o=e.colorHover,a=e.name,l=this.state.hover,c=t||{};n&&(c.color=n),r&&(c.fontSize=r+"px"),i&&(c.cursor="pointer"),o&&l&&(c.color=o);var h=d.default.clone(this.props);return delete h.style,delete h.color,delete h.size,delete h.name,delete h.colorHover,h.onMouseEnter=this.hoverEnter,h.onMouseLeave=this.hoverLeave,u.default.createElement("i",s({className:"fa fa-"+a,style:c},h))}}]),t}(u.default.Component);n.default=f,t.exports=n.default},{lodash:276,react:563}],26:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=e("react"),o=r(i),s=e("lodash"),a=r(s),l=e("../BezierEditorAndPicker"),c=r(l),u=e("bezier-easing"),h=r(u),d=e("../DurationInput"),f=r(d),p=e("../Icon"),g=r(p),m=e("../Button"),v=r(m),y=e("kenburns-editor"),b={fitcenter:{title:"Fit Center",render:function(){return o.default.createElement("blockquote",null,o.default.createElement("strong",null,"Fit Center")," preserves the image ratio regardless of the diaporama resolution. It uses the biggest centered crop of the image.")}},kenburns:{title:"KenBurns effect",render:function(){var e=this.props,t=e.value,n=e.width,r=e.progress,i=t.image&&DiaporamaMakerAPI.toProjectUrl(t.image)||DiaporamaMakerAPI.fromImage,s=10,a=Math.floor(.5*n),l=n-a,u=Math.min(240,l),h=this.easing&&this.easing(r)||r;return o.default.createElement("div",null,o.default.createElement("div",{key:"l",style:{display:"inline-block",marginRight:s+"px"}},o.default.createElement(y.KenburnsEditor,{value:t.kenburns,onChange:this.onChangeKenburns,width:a-s,height:u,image:i,background:"#000",progress:h,fromColor:[0,170,255],toColor:[255,170,0],progressColor:[0,0,0],overlayFill:"rgba(0,0,0,0.5)",centerTextStyle:{textShadow:"0px 1px 0px #fff"}})),o.default.createElement("div",{key:"r",style:{display:"inline-block"}},o.default.createElement(c.default,{value:t.kenburns.easing,onChange:this.onChangeKenburnsEasing,width:l-10,height:u,progress:r})))}}},w=Object.keys(b),E=o.default.createClass({displayName:"ImageCustomizer",propTypes:{value:o.default.PropTypes.object.isRequired,onChange:o.default.PropTypes.func.isRequired,width:o.default.PropTypes.number.isRequired,displayDuration:o.default.PropTypes.bool},onChangeKenburns:function(e){var t=this.props.value;this.props.onChange(a.default.defaults({kenburns:a.default.extend({},t.kenburns,e)},t))},onChangeKenburnsEasing:function(e){var t=this.props.value;this.props.onChange(a.default.defaults({kenburns:a.default.defaults({easing:e},t.kenburns)},t))},onChangeDuration:function(e){this.props.onChange(a.default.defaults({duration:e},this.props.value))},selectMode:function(e,t){t.preventDefault();var n=a.default.clone(this.props.value);"kenburns"===e?n.kenburns={from:[1,[.5,.5]],to:[.75,[.5,.5]]}:delete n.kenburns,this.props.onChange(n)},onRemove:function(e){e.preventDefault(),this.props.onRemove()},componentWillMount:function(){this.genEasing(this.props)},genEasing:function(e){var t=this.props.value.kenburns&&this.props.value.kenburns.easing,n=e.value.kenburns&&e.value.kenburns.easing;n?this.easing&&a.default.isEqual(n,t)||(this.easing=h.default.apply(null,n)):this.easing=null},componentWillReceiveProps:function(e){this.genEasing(e)},render:function e(){var t=this.props,n=t.value,r=t.width,i=t.displayDuration,s="kenburns"in n?"kenburns":"fitcenter",a=[],l=0;for(var c in b){var u=b[c],h=c===s,d=0===l,p=++l===w.length,m=d?"4px":"0px",y=p?"4px":"0px",E={borderRadius:m+" "+y+" "+y+" "+m},C=o.default.createElement(v.default,{key:c,color:h?"#fff":"#000",bg:h?"#000":"#ccc",bgHover:h?"#000":"#eee",onClick:this.selectMode.bind(null,c),style:E},o.default.createElement(g.default,{name:"crop"})," ",u.title);a.push(C)}var e=b[s].render;return o.default.createElement("div",null,i?o.default.createElement(f.default,{title:"Image Duration:",value:n.duration,onChange:this.onChangeDuration,width:r}):void 0,o.default.createElement("div",null,a),e?e.call(this):void 0)}});t.exports=E},{"../BezierEditorAndPicker":17,"../Button":18,"../DurationInput":22,"../Icon":25,"bezier-easing":71,"kenburns-editor":267,lodash:276,react:563}],27:[function(e,t,n){"use strict";var r=e("react"),i=e("lodash"),o=e("rect-crop"),s=e("../../core/scaleTranslateStyle"),a=e("../../mixins/ImageHolderMixin"),l=r.createClass({displayName:"Thumbnail",mixins:[a],propTypes:{zoom:r.PropTypes.number,center:r.PropTypes.array,image:r.PropTypes.string,width:r.PropTypes.number,height:r.PropTypes.number},getDefaultProps:function(){return{zoom:1,center:[.5,.5]}},render:function(){var e=this.props,t=i.extend({position:"relative",overflow:"hidden",background:"#000",width:e.width+"px",height:e.height+"px"},this.props.style||{});if(!this.img.width)return r.createElement("div",{style:t});var n=o(e.zoom,e.center)(e,this.img),a=s(e.width/n[2],[-n[0],-n[1]]);return r.createElement("div",{style:t},r.createElement("img",{src:e.image,style:a}))}});t.exports=l},{"../../core/scaleTranslateStyle":5,"../../mixins/ImageHolderMixin":9,lodash:276,react:563,"rect-crop":565}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("react"),l=r(a),c=e("../ImageThumbnail"),u=r(c),h=e("../Slide2d"),d=r(h),f=e("../UploadingImageThumbnail"),p=r(f),g=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.width,r=e.height,i=e.style;if(t.upload){var o=t.upload,s=o.dataURL,a=o.loaded,c=o.total;return l.default.createElement(p.default,{image:s,progress:c>0?a/c:void 0,style:i,width:n,height:r})}return t.image?l.default.createElement(u.default,{image:DiaporamaMakerAPI.toProjectUrl(t.image),style:i,width:n,height:r}):t.slide2d?l.default.createElement(d.default,{value:t.slide2d,style:i,width:n,height:r}):l.default.createElement("div",{style:i},l.default.createElement("span",{style:{font:"8px normal monospace"}},"No Preview"))}}]),t}(l.default.Component);n.default=g,g.defaultProps={style:{}},t.exports=n.default},{"../ImageThumbnail":27,"../Slide2d":33,"../UploadingImageThumbnail":49,react:563}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return c.default.findIndex(e,function(e){return e.id===t.id})}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=e("react"),a=r(s),l=e("lodash"),c=r(l),u=e("combokeys"),h=r(u),d=e("react-dnd"),f=e("../../core/boundToStyle"),p=r(f),g=e("../LibraryItemThumbnail"),m=r(g),v=e("../../mixins/PromiseMixin"),y=r(v),b=e("../../../common/acceptedImageMimetypes.json"),w=r(b),E=e("../../constants"),C=140,x=100,_=4,A=7,D=4,F=C+2*_,S=x+2*_,T=[{id:"_empty_slide",title:"Empty Slide",slide2d:{background:"#eee",size:[800,600],draws:[{fillStyle:"#000",font:"bold 80px Arial",textAlign:"center"},["fillText","Big Text Title...",400,200],{fillStyle:"#666",font:"italic 40px Arial",textAlign:"center"},["fillText","Sub Title...",400,300]]}}],R=a.default.createClass({displayName:"Library",mixins:[y.default,d.DragDropMixin],statics:{configureDragDrop:function(e){e(d.NativeDragItemTypes.FILE,{dropTarget:{acceptDrop:function(e,t){var n=t.files.filter(function(e){return-1!==w.default.indexOf(e.type)}),r=n.map(function(t){var n={id:"upload:"+t.name,title:t.name,upload:{dataURL:null,loaded:0,total:0}},r=new window.FileReader;return r.onload=function(t){if(e.isMounted()){var r=t.target.result,i=c.default.map(e.state.uploading,function(e){if(e.id===n.id){var t=c.default.cloneDeep(e);return t.upload.dataURL=r,t}return e});e.setState({uploading:i})}},r.readAsDataURL(t),n});e.setState({uploading:e.state.uploading.concat(r)}),DiaporamaMakerAPI.uploadFiles(n).progress(function(t){var n=c.default.map(e.state.uploading,function(e){if(c.default.any(r,function(t){return t.id===e.id})){var n=c.default.cloneDeep(e);return n.upload.loaded=t.loaded,n.upload.total=t.total,n}return e});e.setState({uploading:n})}).then(function(t){var n=c.default.difference(r.map(function(e){return e.title}),t.files);n.length&&swal({title:"File Upload",text:"Some files failed to upload: <ul>"+n.map(function(e){return"<li>"+e+"</li>"}).join("")+"</ul><p>Make sure the filename does not already exists and that they are not too big.</p>",type:"warning",html:!0}),e.sync()},function(e){console.log(e),swal({title:"File Upload Error",text:e.responseText,type:"error",html:!0})}).done(function(){var t=c.default.filter(e.state.uploading,function(e){return!c.default.any(r,function(t){return t.id===e.id})});e.setState({uploading:t})})}}})}},getInitialState:function(){return{slides:[],images:[],uploading:[],selected:[],down:null,move:null}},getGridItems:function(){var e=this.state,t=e.slides,n=e.images,r=e.uploading;return t.concat(r).concat(n)},getDragItems:function(e){var t=c.default.uniq((e?[e]:[]).concat(this.state.selected),function(e){return e.id});return{primary:e,all:t}},selectAll:function(){var e=this.state,t=e.slides,n=e.images,r=t.concat(n);this.setState({selected:r})},unselectAll:function(){this.setState({selected:[]})},tapItem:function(e){var t=c.default.clone(this.state.selected),n=i(t,e);-1===n?t.push(e):t.splice(n,1),this.setState({selected:t})},componentWillUnmount:function(){this.combokeys.reset()},componentDidMount:function(){this.sync();var e=this.combokeys=new h.default(document);e.bind("command+a",function(){return this.selectAll(),!1}.bind(this)),e.bind("command+shift+a",function(){return this.unselectAll(),!1}.bind(this))},getEventPosition:function(e){var t=this.getDOMNode().getBoundingClientRect(),n=this.refs.scrollcontainer.getDOMNode(),r=e.clientX-t.left,i=e.clientY-t.top,o=n.scrollTop;return i+=o,[r,i]},positionToGrid:function(e){return[Math.floor((e[0]-A)/F),Math.floor((e[1]-D)/S)]},getGridWidth:function(){return Math.floor((this.props.width-A-E.SCROLL_BAR_W)/F)},selectionMouseDown:function(e){this.setState({down:this.getEventPosition(e),selected:[]})},selectionMouseMove:function(e){for(var t=this.getGridItems(),n=this.state.down,r=this.getEventPosition(e),i=this.positionToGrid(n),o=this.positionToGrid(r),s=this.getGridWidth(),a=Math.max(0,Math.min(i[0],o[0])),l=Math.max(0,Math.min(i[1],o[1])),c=Math.abs(i[0]-o[0]),u=Math.abs(i[1]-o[1]),h=Math.min(a+c,s-1),d=l+u,f=[],p=a;h>=p;++p)for(var g=l;d>=g;++g){var m=p+g*s,v=t[m];v&&f.push(v)}this.setState({move:r,selected:f})},selectionMouseUp:function(){this.setState({down:null,move:null})},selectionMouseLeave:function(){this.setState({down:null,move:null})},sync:function(){DiaporamaMakerAPI.listItems().then(function(e){var t=e.filter(function(e){return!!e.image}),n=T.concat(e.filter(function(e){return!!e.slide2d}));return{images:t,slides:n}}).then(this.setStateQ).fail(this.recoverUnmountedQ).done()},componentWillUpdate:function(){this.scrollTop=this.refs.scrollcontainer?this.refs.scrollcontainer.getDOMNode().scrollTop:0},render:function(){var e=this.props,t=e.width,n=e.height,r=e.usedImages,s=this.state,l=s.down,u=s.move,h=this.scrollTop,f=n,g=void 0;if(l&&u){var v=Math.min(l[0],u[0]),y=Math.min(l[1],u[1])-h,b=Math.abs(l[0]-u[0]),w=Math.abs(l[1]-u[1]);g=c.default.extend({zIndex:100,pointerEvents:"none",display:"block",border:"1px solid #fc0",background:"rgba(255,200,0,0.4)"},p.default({x:v,y:y,width:b,height:w}))}else g={display:"none"};var E={position:"relative",padding:"1px 5px",height:f+"px",width:t+"px",background:"#fff",overflow:"auto"},_={zIndex:l?101:0,position:"absolute",left:0,top:0,width:t+"px",height:n+"px"},A=this.getGridWidth(),T=this.getGridItems().map(function(e,t){var n=t%A,o=Math.floor(t/A),s={position:"absolute",top:D+S*o+"px",left:F*n+"px"};return a.default.createElement(m.default,{key:e.id,width:C,height:x,style:s,item:e,used:c.default.filter(r,function(t){return t&&e.image&&t===e.image}).length,getDragItems:this.getDragItems,onDropped:this.unselectAll,onClick:this.tapItem.bind(null,e),selected:-1!==i(this.state.selected,e)})},this),R=void 0;return R=l?{onMouseMove:this.selectionMouseMove,onMouseUp:this.selectionMouseUp,onMouseLeave:this.selectionMouseLeave}:{onMouseDown:this.selectionMouseDown},a.default.createElement("div",o({},this.dropTargetFor(d.NativeDragItemTypes.FILE),{className:"library",style:{width:t+"px",height:n+"px"}}),a.default.createElement("div",{ref:"scrollcontainer",style:E},T),a.default.createElement("div",o({style:_},R)),a.default.createElement("div",{style:g}))}});t.exports=R},{"../../../common/acceptedImageMimetypes.json":52,"../../constants":2,"../../core/boundToStyle":3,"../../mixins/PromiseMixin":10,"../LibraryItemThumbnail":30,combokeys:104,lodash:276,react:563,"react-dnd":364}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("react"),s=r(o),a=e("lodash"),l=r(a),c=e("../ItemThumbnail"),u=r(c),h=e("../../constants"),d=e("react-dnd"),f=e("../../core/transparent.gif"),p=r(f),g=e("../../core/centeredRotate"),m=r(g),v=e("css-cursor"),y=r(v),b=s.default.createClass({displayName:"LibraryItemThumbnail",mixins:[d.DragDropMixin],statics:{configureDragDrop:function(e){e(h.DragItems.LIBRARY_ITEMS,{dragSource:{beginDrag:function(e){var t=e.props.getDragItems(e.props.item);return{item:t,dragPreview:p.default,effectsAllowed:["none","copy"]}},endDrag:function(e){e.props.onDropped()}}})}},getDefaultProps:function(){return{used:0}},getInitialState:function(){return{hover:!1}},onMouseEnter:function(){this.setState({hover:!0})},onMouseLeave:function(){this.setState({hover:!1})},render:function(){var e=this.props,t=e.width,n=e.height,r=e.item,o=e.used,a=e.dragging,c=e.stack,d=e.selected,f=this.state.hover,p=r.title,g=a?1:2,v=20,b=n-2*g,w=t-2*g,E=l.default.extend({position:"relative",width:t+"px",height:n+"px"},this.props.style||{}),C={position:"relative",zIndex:3,opacity:d?.6:o?.5:1,cursor:a?y.default("grabbing"):y.default("grab")},x={backgroundColor:d?"#FC0":"#000",border:g+"px solid",borderColor:d?"#FC0":"#000"},_={position:"absolute",top:"6px",right:"6px",color:"#fff",zIndex:4,fontSize:"0.8em"},A={position:"absolute",left:"2%",bottom:"2px",zIndex:3,display:f?"inline-block":"none",width:"96%",height:v+"px",fontSize:"0.8em",fontWeight:300,color:d?"#000":"#fff",opacity:.9,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},D=a?{}:this.dragSourceFor(h.DragItems.LIBRARY_ITEMS),F=[];if(c)for(var S=0;S<c.length&&6>S;++S){var T=c[S];if(T!==r){var R=l.default.extend({zIndex:-1,position:"absolute",border:"1px solid #000",left:"0px",top:"0px",opacity:.6},m.default(Math.round(101*S%19-10),1+.01*Math.round(383*S%11)));F.push(s.default.createElement("div",{key:"stack-"+S,style:R},s.default.createElement(u.default,{item:r,width:w,height:b})))}}return s.default.createElement("div",{title:p,style:E,onClick:this.props.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o?s.default.createElement("span",{style:_},o,"×"):void 0,s.default.createElement("div",i({style:x},D),s.default.createElement(u.default,{item:r,style:C,width:w,height:b})),F,a||!p?void 0:s.default.createElement("span",{style:A},p))}});t.exports=b},{"../../constants":2,"../../core/centeredRotate":4,"../../core/transparent.gif":7,"../ItemThumbnail":28,"css-cursor":137,lodash:276,react:563,"react-dnd":364}],31:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return Math.max(0,Math.min((n-e)/(t-e),1))}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=e("react"),a=r(s),l=e("lodash"),c=r(l),u=e("react-dnd"),h=e("../../constants"),d=e("../../models/Diaporama"),f=r(d),p=e("../../core/boundToStyle"),g=r(p),m=e("../Library"),v=r(m),y=e("../Icon"),b=r(y),w=e("../TransitionCustomizer"),E=r(w),C=e("../ImageCustomizer"),x=r(C),_=e("../SlideCustomizer"),A=r(_),D=e("../GenerateScreen"),F=r(D),S=e("../ErrorScreen"),T=r(S),R=e("../AboutScreen"),k=r(R),M=e("../Config"),L=r(M),B=e("../TimelineElementInfo"),O=r(B),I={about:{accessible:function(){return!0},icon:"info-circle",iconStyle:{position:"absolute",bottom:5},title:"About",render:function(){return a.default.createElement(k.default,{onDone:this.props.onNav.bind(null,"library")})}},error:{accessible:function(){return!1},icon:"bug",title:"Error",render:function(){return a.default.createElement(T.default,{error:this.props.error})}},config:{accessible:function(){return!0},icon:"cogs",title:"Configuration",render:function(e,t){var n=this.props,r=n.diaporama,i=n.alterDiaporama,o=n.openTransitionPicker;return a.default.createElement(L.default,{width:e,height:t,diaporama:r,alterDiaporama:i,openTransitionPicker:o})}},library:{accessible:function(){return!0},icon:"folder-open",title:"Library",internalScroll:!0,render:function(e,t){var n=this.props,r=n.diaporama,i=n.alterDiaporama;return a.default.createElement(v.default,{width:e,height:t,usedImages:c.default.pluck(r.timeline,"image"),alterDiaporama:i})}},generate:{accessible:function(){return!0},icon:"download",title:"Save / Generate",render:function(e,t){var n=this.props.diaporama;return a.default.createElement(F.default,{width:e,height:t,diaporama:n})}},editSlide2d:{accessible:function(e){var t=e.selectedItemPointer,n=e.diaporama;if(!t||t.transition)return!1;var r=f.default.timelineForId(n,t.id);return!!r.slide2d},icon:"newspaper-o",title:"Edit Slide",render:function(e,t){var n=this.props,r=n.selectedItemPointer,i=n.diaporama,o=n.alterSelection,s=f.default.timelineForId(i,r.id);return s?a.default.createElement(A.default,{value:s.slide2d,key:r.id,onChange:function(e){o("setItem",c.default.extend({},s,{slide2d:e}))},width:e,height:t}):a.default.createElement("div",null,"Slide Removed.")}},editImage:{accessible:function(e){var t=e.selectedItemPointer,n=e.diaporama;if(!t||t.transition)return!1;var r=f.default.timelineForId(n,t.id);return!!r.image},icon:"picture-o",title:"Edit Image",render:function(e){var t=this.props,n=t.selectedItemPointer,r=t.diaporama,o=t.alterSelection,s=t.time,l=f.default.timelineForId(r,n.id),c=f.default.timelineTimeIntervalForItemPointer(r,n),u=i(c.start,c.end,s);return l?a.default.createElement("div",{style:{paddingTop:"5px"}},a.default.createElement(x.default,{value:l,onChange:o.bind(null,"setItem"),width:e,onRemove:o.bind(null,"removeItem"),progress:u}),a.default.createElement(O.default,{value:l})):a.default.createElement("div",null,"Slide Removed.")}},editTransition:{accessible:function(e){var t=e.selectedItemPointer;return t&&t.transition},icon:"magic",title:"Edit Transition",render:function(e){var t=this.props,n=t.selectedItemPointer,r=t.diaporama,o=t.time,s=t.alterSelection,l=t.openTransitionPicker,c=f.default.timelineTransitionForId(r,n.id),u=f.default.timelineTimeIntervalForItemPointer(r,n),h=i(u.start,u.end,o);return c&&c.transitionNext?a.default.createElement("div",{style:{paddingTop:"5px"}},a.default.createElement(E.default,{value:c.transitionNext,onChange:s.bind(null,"setItem"),width:e,images:[DiaporamaMakerAPI.fromImage,DiaporamaMakerAPI.toImage],progress:h,onRemove:s.bind(null,"removeItem"),openTransitionPicker:l})):a.default.createElement("div",null,"Transition Removed.")}}},P=a.default.createClass({displayName:"MainPanel",mixins:[u.DragDropMixin],statics:{configureDragDrop:function(e){e(h.DragItems.SLIDE,{dropTarget:{getDropEffect:function(){return"move"},acceptDrop:function(e,t){e.props.alterDiaporama("removeItem",t)}}})}},render:function(){var e=this.props,t=e.bound,n=e.mode,r=e.onNav,i=40,s=t.width-i,l=t.height,u=I[n],d=u&&u.internalScroll,f=u&&u.render&&u.render.call(this,s-(d?0:h.SCROLL_BAR_W),l),p=c.default.extend({borderTop:"1px solid #ccc",borderBottom:"1px solid #eee"},g.default(t)),m=c.default.extend({overflow:d?"none":"auto"},g.default({x:i,y:0,width:s,height:l})),v=c.default.extend({padding:"8px",fontSize:"24px"},g.default({x:0,y:0,width:i,height:t.height})),y=c.default.map(I,function(t,i){var o=i===n,s=t.accessible(e)?r.bind(null,i):void 0;if(!o&&!s)return void 0;var l=t.iconStyle||{};return a.default.createElement(b.default,{style:l,title:t.title,key:i,name:t.icon,color:o?"#000":"#999",colorHover:o?"#000":"#f90",onClick:s})});return a.default.createElement("div",{style:p},a.default.createElement("nav",{style:v},y),a.default.createElement("div",o({},this.dropTargetFor(h.DragItems.SLIDE),{style:m}),f))}});t.exports=P},{"../../constants":2,"../../core/boundToStyle":3,"../../models/Diaporama":13,"../AboutScreen":15,"../Config":19,"../ErrorScreen":23,"../GenerateScreen":24,"../Icon":25,"../ImageCustomizer":26,"../Library":29,"../SlideCustomizer":34,"../TimelineElementInfo":40,"../TransitionCustomizer":44,lodash:276,react:563,"react-dnd":364}],32:[function(e,t,n){"use strict";var r=e("brace"),i=e("react");t.exports=i.createClass({displayName:"exports",propTypes:{mode:i.PropTypes.string,theme:i.PropTypes.string,name:i.PropTypes.string,height:i.PropTypes.string,width:i.PropTypes.string,fontSize:i.PropTypes.number,showGutter:i.PropTypes.bool,onChange:i.PropTypes.func,value:i.PropTypes.string,onLoad:i.PropTypes.func,maxLines:i.PropTypes.number,readOnly:i.PropTypes.bool,highlightActiveLine:i.PropTypes.bool,showPrintMargin:i.PropTypes.bool},getDefaultProps:function(){return{name:"brace-editor",mode:"",theme:"",height:"500px",width:"500px",value:"",fontSize:12,showGutter:!0,onChange:null,onLoad:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0}},onChange:function(){var e=this.editor.getValue();this.props.onChange&&this.props.onChange(e)},componentDidMount:function(){this.editor=r.edit(this.props.name),this.editor.getSession().setMode("ace/mode/"+this.props.mode),this.editor.setTheme("ace/theme/"+this.props.theme),this.editor.setFontSize(this.props.fontSize),this.editor.on("change",this.onChange),this.editor.setValue(this.props.value),this.editor.renderer.setShowGutter(this.props.showGutter),this.editor.setOption("maxLines",this.props.maxLines),this.editor.setOption("readOnly",this.props.readOnly),this.editor.setOption("highlightActiveLine",this.props.highlightActiveLine),this.editor.setShowPrintMargin(this.props.setShowPrintMargin),this.props.defaultValue&&this.editor.setValue(this.props.defaultValue,-1),this.props.onLoad&&this.props.onLoad(this.editor)},componentWillReceiveProps:function(e){this.editor=r.edit(e.name),this.editor.getSession().setMode("ace/mode/"+e.mode),this.editor.setTheme("ace/theme/"+e.theme),this.editor.setFontSize(e.fontSize),this.editor.setOption("maxLines",e.maxLines),this.editor.setOption("readOnly",e.readOnly),this.editor.setOption("highlightActiveLine",e.highlightActiveLine),this.editor.setShowPrintMargin(e.setShowPrintMargin),e.value&&this.editor.getValue()!==e.value&&this.editor.setValue(e.value,-1),this.editor.renderer.setShowGutter(e.showGutter),e.onLoad&&e.onLoad(this.editor)},render:function(){var e={width:this.props.width,height:this.props.height};return i.createElement("div",{id:this.props.name,onChange:this.onChange,style:e})}})},{brace:72,react:563}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("react"),l=r(a),c=e("slide2d"),u=r(c),h=e("lodash"),d=r(h),f=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.ctx=u.default(l.default.findDOMNode(this).getContext("2d")),this.ctx.render(this.props.value)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.width,r=t.height,i=t.style,o=t.value;return n!==e.width||r!==e.height||o!==e.value||!d.default.isEqual(i,e.style)}},{key:"componentDidUpdate",value:function(){this.ctx.render(this.props.value)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.style,i=window.devicePixelRatio||1,o=d.default.extend({width:t+"px",height:n+"px"},r);return l.default.createElement("canvas",{width:t*i,height:n*i,style:o})}}]),t}(l.default.Component);n.default=f,t.exports=n.default},{lodash:276,react:563,slide2d:567}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,s=n;a=c=l=void 0,r=!1;var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;e=c,t=o,n=s,r=!0}},l=e("slide2d"),c=r(l),u=e("react"),h=r(u),d=e("../ReactAce"),f=r(d),p=e("json-beautify"),g=r(p);e("brace"),e("brace/mode/json"),e("brace/theme/solarized_dark");var m=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.onChange=this.onChange.bind(this),this.slide2d=c.default(document.createElement("canvas").getContext("2d")),this.state={error:null}}return o(t,e),s(t,[{key:"onChange",value:function(e){try{var t=JSON.parse(e);this.slide2d.render(t),this.props.onChange(t),this.setState({error:null})}catch(e){console.log(e),this.setState({error:e})}}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.value,i=this.state.error,o=20,s={width:t+"px",height:o+"px",background:"#002B36",color:"#f33"
};return h.default.createElement("div",null,h.default.createElement(f.default,{mode:"json",theme:"solarized_dark",onChange:this.onChange,defaultValue:g.default(r,null,2,80),name:"slide_customizer",width:t+"px",height:n-o+"px"}),h.default.createElement("div",{style:s},i&&i.toString()||""))}}]),t}(h.default.Component);n.default=m,t.exports=n.default},{"../ReactAce":32,brace:72,"brace/mode/json":73,"brace/theme/solarized_dark":75,"json-beautify":257,react:563,slide2d:567}],35:[function(e,t,n){"use strict";var r=e("react"),i=r.createClass({displayName:"TimelineCursor",getDefaultProps:function(){return{headerHeight:26}},render:function(){var e=this.props.time,t=this.props.timeScale,n=e*t,i={position:"absolute",zIndex:30,left:Math.round(n)+"px",top:0,width:"2px",height:"100%",background:"rgba(0,0,0,0.3)",pointerEvents:"none"},o={position:"absolute",left:0,top:0,width:"2px",height:this.props.headerHeight+"px",background:"#fc0"};return r.createElement("div",{style:i},r.createElement("div",{style:o}))}});t.exports=i},{react:563}],36:[function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=e("react"),o=e("lodash"),s=e("../../core/boundToStyle"),a=e("../../core/transparent.gif"),l=e("./TimelineSelectionResizeHandle"),c=e("../../constants").DragItems,u=e("react-dnd").DragDropMixin,h=i.createClass({displayName:"TimelineSelection",mixins:[u],propTypes:{itemPointer:i.PropTypes.object.isRequired,item:i.PropTypes.object.isRequired,x:i.PropTypes.number.isRequired,width:i.PropTypes.number.isRequired,height:i.PropTypes.number.isRequired,alterDiaporama:i.PropTypes.func.isRequired,timeScale:i.PropTypes.number.isRequired,onClick:i.PropTypes.func},statics:{configureDragDrop:function(e){e(c.SLIDE,{dragSource:{beginDrag:function(e){return{item:e.props.item,dragPreview:a,effectsAllowed:["none","move"]}}}})}},render:function(){var e=this.props.timeScale,t=this.props.alterDiaporama,n=this.props.item,a=this.props.itemPointer,u=this.props.x,h=this.props.width,d=this.props.height,f=20,p=o.extend({zIndex:50,backgroundColor:"rgba(200, 130, 0, 0.3)",border:"2px solid #fc0"},s({x:u,y:0,width:h,height:d})),g=o.extend({zIndex:51},s({x:f,y:0,width:h-2*f,height:d})),m={textAlign:"center",position:"absolute",bottom:"6px",width:h-2*f+"px",font:"normal 12px monospace",color:"#fc0",textShadow:"0px 0px 1px rgba(0,0,0,1)"};return i.createElement("div",{style:p},i.createElement(l,{left:!0,width:f,height:d,onResize:t.bind(null,"resizeLeft",a),referenceValue:a.transition?n.duration:-n.duration,timeScale:e}),i.createElement("div",r({style:g,onClick:this.props.onClick},this.dragSourceFor(c.SLIDE)),a.transition?void 0:i.createElement("span",{style:m},n.duration/1e3,"s")),i.createElement(l,{left:!1,width:f,height:d,onResize:t.bind(null,"resizeRight",a),referenceValue:a.transition?n.transitionNext.duration:n.duration,timeScale:e}))}});t.exports=h},{"../../constants":2,"../../core/boundToStyle":3,"../../core/transparent.gif":7,"./TimelineSelectionResizeHandle":37,lodash:276,react:563,"react-dnd":364}],37:[function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=e("react"),o=e("../Icon"),s=i.createClass({displayName:"TimelineSelectionResizeHandle",propTypes:{left:i.PropTypes.bool.isRequired,width:i.PropTypes.number.isRequired,height:i.PropTypes.number.isRequired,timeScale:i.PropTypes.number.isRequired,onResize:i.PropTypes.func.isRequired,referenceValue:i.PropTypes.number.isRequired},getInitialState:function(){return{down:null}},onMouseDown:function(e){this.setState({down:{clientX:e.clientX,referenceValue:this.props.referenceValue}})},onMouseMove:function(e){var t=this.state.down,n=t.referenceValue-this.props.referenceValue,r=e.clientX-t.clientX,i=r/this.props.timeScale;this.props.onResize(n+i)},onMouseUp:function(){this.setState({down:null})},onMouseLeave:function(){this.setState({down:null})},render:function(){var e=this.props.left,t=this.props.width,n=this.props.height,s=this.state.down?200:0;t+=2*s;var a={zIndex:51+(this.state.down?1:0),position:"absolute",top:0,width:t+"px",height:n+"px",padding:"0px "+s+"px",cursor:"ew-resize"};e?a.left=-s:a.right=-s;var l=32,c={position:"absolute",top:Math.floor((n-l)/2)+"px",color:"#fc0"};e?c.left=2+s:c.right=2+s;var u={onMouseDown:this.onMouseDown};return this.state.down&&(u.onMouseMove=this.onMouseMove,u.onMouseUp=this.onMouseUp,u.onMouseLeave=this.onMouseLeave),i.createElement("div",r({style:a},u),i.createElement(o,{style:c,size:l,name:e?"angle-left":"angle-right"}))}});t.exports=s},{"../Icon":25,react:563}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=Math.abs(e-t)/n;return r*Math.exp(-(i*i))}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=e("react"),a=r(s),l=e("lodash"),c=r(l),u=e("../../core/boundToStyle"),h=r(u),d=e("../../mixins/PromiseMixin"),f=r(d),p=e("../TimelineGrid"),g=r(p),m=e("../TimelineElement"),v=r(m),y=e("../TimelineZoomControls"),b=r(y),w=e("../TimelineTransition"),E=r(w),C=e("./TimelineSelection"),x=r(C),_=e("../../models/Diaporama"),A=r(_),D=e("../Icon"),F=r(D),S=e("./TimelineCursor"),T=r(S),R=e("../../constants"),k=e("react-dnd"),M=function(e){return{leave:function(e){e._dragOverX=null,e.setState({hoverPlace:null})},over:function(t){var n=e.getInitialOffsetFromClient(),r=e.getCurrentOffsetDelta();t._dragOverX=n.x+r.x;var i=t.timeForClientX(n.x+r.x),o=A.default.lookupBetweenImagePlace(t.props.diaporama,i);c.default.isEqual(t.state.place,o)||t.setState({hoverPlace:o})},acceptDrop:function(e){e._dragOverX=null,e.setState({hoverPlace:null})}}},L=a.default.createClass({displayName:"Timeline",mixins:[f.default,k.DragDropMixin],propTypes:{diaporama:a.default.PropTypes.object.isRequired,alterDiaporama:a.default.PropTypes.func.isRequired,selectedItemPointer:a.default.PropTypes.object},statics:{configureDragDrop:function(e,t){var n=M(t);e(R.DragItems.SLIDE,{dropTarget:{enter:n.enter,leave:n.leave,over:n.over,getDropEffect:function(){return"move"},acceptDrop:function(e,r){n.acceptDrop(e);var i=t.getInitialOffsetFromClient(),o=t.getCurrentOffsetDelta(),s=e.timeForClientX(i.x+o.x),a=A.default.lookupBetweenImagePlace(e.props.diaporama,s);e.props.alterDiaporama("moveItem",r,a)}}}),e(R.DragItems.LIBRARY_ITEMS,{dropTarget:{enter:n.enter,leave:n.leave,over:n.over,getDropEffect:function(){return"copy"},acceptDrop:function(e,r){var i=r.all;n.acceptDrop(e);var o=t.getInitialOffsetFromClient(),s=t.getCurrentOffsetDelta(),a=e.timeForClientX(o.x+s.x),l=A.default.lookupBetweenImagePlace(e.props.diaporama,a);e.props.alterDiaporama("bootstrapItems",i,l)}}})}},collidesPosition:function(e){var t=this.getDOMNode(),n=t.getBoundingClientRect();return e[1]<n.top||e[1]>n.bottom?null:{time:this.eventPositionToTime(e)}},getInitialState:function(){return{hoverPlace:null,mouseDown:null,timeScale:.1}},setTimeScale:function(e){this.setState({timeScale:e})},getEventPosition:function(e){var t=this.getDOMNode().getBoundingClientRect(),n=this.refs.scrollcontainer.getDOMNode(),r=n.scrollLeft,i=e.clientX-t.left+r,o=e.clientY-t.top;return[i,o]},getEventStats:function(e){return{at:this.getEventPosition(e),time:Date.now()}},eventPositionToTime:function(e){return e[0]/this.state.timeScale},timeForClientX:function(e){var t=this.refs.scrollcontainer.getDOMNode(),n=t.scrollLeft;return(e+n)/this.state.timeScale},onMouseMove:function(e){var t=this.props.onHoverMove;if(t){var n=this.getEventStats(e);t(this.eventPositionToTime(n.at))}},onMouseEnter:function(){this.props.onHoverEnter()},onMouseLeave:function(){this.props.onHoverLeave()},onClick:function(e){var t=this.getEventPosition(e),n=A.default.lookupSegment(this.props.diaporama,this.eventPositionToTime(t));n&&(c.default.isEqual(n,this.props.selectedItemPointer)?this.props.onSelect(null):this.props.onSelect(n))},componentWillMount:function(){this._dragOverX=null},componentWillReceiveProps:function(e){var t=this.props;if(e.selectedItemPointer&&(!c.default.isEqual(t.selectedItemPointer,e.selectedItemPointer)||this.props.diaporama!==e.diaporama)){var n=this.refs.scrollcontainer.getDOMNode(),r=this.state.timeScale,i=n.scrollLeft,o=n.clientWidth,s=o/r,a=i/r,l=a+s,u=A.default.timelineTimeIntervalForItemPointer(e.diaporama,e.selectedItemPointer);u&&(u.end<a?n.scrollLeft=i-r*s*Math.ceil((a-u.end)/s):l<u.start&&(n.scrollLeft=i+r*s*Math.ceil((u.start-l)/s)))}},update:function(e,t){var n=this._dragOverX;if(null!==n){var r=this.refs.scrollcontainer.getDOMNode(),o=r.clientWidth,s=10,a=o/4,l=2,c=-i(n,s,a,l)+i(n,o-s,a,l);r.scrollLeft+=c*t}},render:function(){for(var e=this.props.diaporama,t=e.timeline,n=this.props.bound,r=this.props.time,i=this.props.selectedItemPointer,s=this.state.hoverPlace,l=this.state.timeScale,u=4,d=n.height-u-R.SCROLL_BAR_W,f=18,p=d-f,m=c.default.extend({background:"#fcfcfc"},h.default(n)),y={background:m.background},w={position:"absolute",right:"4px",top:"0px",zIndex:8},C={background:"#333",position:"relative",top:f+"px",height:p+"px",zIndex:2},_={position:"absolute",zIndex:1,top:u+"px",left:"0px",width:n.width+"px",height:n.height-u+"px",overflow:"auto"},A=void 0,D=[],S=0,k=0,M=0;M<t.length;++M){var L=t[M],B=t[M+1],O=s&&(s.after&&L.id===s.id||s.before&&B&&B.id===s.id),I=L.transitionNext&&L.transitionNext.duration?Math.round(l*L.transitionNext.duration):0,P=Math.round(l*L.duration),$=I/2+k/2+P,j=i&&i.id===L.id;if(j){var N=i.transition,U=N?S+$-I/2:S+k/2,z=N?I:P;A=a.default.createElement(x.default,{key:"tl-selection",itemPointer:i,item:L,x:U,width:z,height:p,onClick:this.onClick,timeScale:l,alterDiaporama:this.props.alterDiaporama})}if(D.push(a.default.createElement(v.default,{selected:j&&!i.transition,x:S,width:$,height:p,item:L,key:L.id,onClick:this.onClick})),L.transitionNext)D.push(a.default.createElement(E.default,{key:L.id+"@t",selected:j&&i.transition,xcenter:S+$,width:I,height:p,transition:L.transitionNext,onClick:this.onClick}));else{var W=S+$,H=50,V=h.default({x:W-H/2,y:(p-H)/2,width:H,height:H});V.zIndex=40,D.push(a.default.createElement(F.default,{key:L.id+"@t",style:V,title:"Add a transition",name:"magic",color:"#fff",size:H,onClick:this.props.alterDiaporama.bind(null,"bootstrapTransition",L.id)}))}if(k=I,S+=$,O){var q=2,G=6,K={background:"#fc0",position:"absolute",top:"-"+G+"px",left:Math.round(S-q)+"px",height:p+G+"px",width:2*q+"px",zIndex:52},Y={position:"absolute",top:"-14px",left:-10+q+"px",color:"#fc0",fontSize:20};D.push(a.default.createElement("div",{key:"cursor",style:K},a.default.createElement(F.default,{style:Y,name:"chevron-down"})))}}S+=k/2,A&&D.push(A);var X=Math.max(S,n.width);return C.width=X+"px",a.default.createElement("div",o({style:m},this.dropTargetFor(R.DragItems.LIBRARY_ITEMS,R.DragItems.SLIDE),{onMouseMove:this.onMouseMove,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),a.default.createElement("div",{style:w},a.default.createElement(b.default,{value:l,onChange:this.setTimeScale,style:y})),a.default.createElement("div",{style:_,ref:"scrollcontainer"},a.default.createElement("div",{style:C},D),a.default.createElement(g.default,{timeScale:l,width:X,height:d}),a.default.createElement(T.default,{time:r,timeScale:l,headerHeight:f})))}});t.exports=L},{"../../constants":2,"../../core/boundToStyle":3,"../../mixins/PromiseMixin":10,"../../models/Diaporama":13,"../Icon":25,"../TimelineElement":39,"../TimelineGrid":41,"../TimelineTransition":42,"../TimelineZoomControls":43,"./TimelineCursor":35,"./TimelineSelection":36,lodash:276,react:563,"react-dnd":364}],39:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("react"),s=r(o),a=e("lodash"),l=r(a),c=e("../../core/translateStyle"),u=r(c),h=e("../ItemThumbnail"),d=r(h),f=e("../../constants"),p=e("react-dnd"),g=e("../../core/transparent.gif"),m=r(g),v=s.default.createClass({displayName:"TimelineElement",mixins:[p.DragDropMixin],statics:{configureDragDrop:function(e){e(f.DragItems.SLIDE,{dragSource:{beginDrag:function(e){return{item:e.props.item,dragPreview:m.default,effectsAllowed:["none","move"]}}}})}},shouldComponentUpdate:function(e){var t=this.props,n=t.x,r=t.width,i=t.height,o=t.item,s=t.onClick;return n!==e.x||r!==e.width||i!==e.height||s!==e.onClick||!l.default.isEqual(o,e.item)},render:function(){var e=this.props,t=e.x,n=e.width,r=e.height,o=e.item,a=e.onClick,c=this.getDragState(f.DragItems.SLIDE),h=l.default.extend({position:"absolute",top:0,left:0,zIndex:1,opacity:c.isDragging?.5:1},u.default(t,0));return s.default.createElement("div",i({style:h,onClick:a},this.dragSourceFor(f.DragItems.SLIDE)),s.default.createElement(d.default,{item:o,width:n,height:r}))}});t.exports=v},{"../../constants":2,"../../core/translateStyle":6,"../../core/transparent.gif":7,"../ItemThumbnail":28,lodash:276,react:563,"react-dnd":364}],40:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,s=n;a=c=l=void 0,r=!1;var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;e=c,t=o,n=s,r=!0}},l=e("react"),c=r(l),u=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.loadImage(e)}return o(t,e),s(t,[{key:"loadImage",value:function(e){var t=this,n=e.value.image;this.img&&(delete this.img.src,delete this.img.onload),this.img=new window.Image,this.img.src=DiaporamaMakerAPI.toProjectUrl(n,!0),this.img.onload=function(){return t.forceUpdate()}}},{key:"componentWillUpdate",value:function(e){this.img&&this.props.value.image===e.value.image||this.loadImage(e)}},{key:"render",value:function(){var e=this.props.value,t=this.img,n=t.width,r={textAlign:"center"},i={margin:0,display:"inline-block",marginRight:"20px",fontSize:"1em",color:"#999"},o={display:"inline-block",boxSizing:"border-box",padding:"0 5px 0 0",margin:0,fontWeight:"bold",textAlign:"right"},s={display:"inline-block",boxSizing:"border-box",padding:0,margin:0,fontFamily:"monospace",minWidth:"80px",textAlign:"left"};return c.default.createElement("div",{style:r},c.default.createElement("dl",{style:i},c.default.createElement("dt",{style:o},"File:"),c.default.createElement("dd",{style:s},e.image)),c.default.createElement("dl",{style:i},c.default.createElement("dt",{style:o},"Size:"),n?c.default.createElement("dd",{style:s},t.width,"×",t.height):c.default.createElement("dd",{style:s},"...")))}}]),t}(c.default.Component);n.default=u,t.exports=n.default},{react:563}],41:[function(e,t,n){"use strict";function r(e){for(var t=0;t<u.length&&u[++t]*e<h;);return t--,u.slice(t,t+3)}var i=e("react/addons"),o=i.addons.PureRenderMixin,s=[function(){return""},function(e){return e/1e3+""},function(e){return e/1e3+"s"}],a=[{alignmentBaseline:"text-after-edge",textAnchor:"middle",fill:"#000",fontSize:8},{alignmentBaseline:"text-after-edge",textAnchor:"middle",fill:"#000",fontSize:8},{alignmentBaseline:"text-after-edge",textAnchor:"middle",fill:"#000",fontSize:10}],l=[{stroke:"rgba(0,0,0,0.1)",strokeWidth:1},{stroke:"rgba(0,0,0,0.5)",strokeWidth:1},{stroke:"rgba(0,0,0,1.0)",strokeWidth:1}],c=[4,4,6],u=[100,500,1e3,5e3,1e4,2e4,6e4],h=20,d=i.createClass({displayName:"TimelineGrid",mixins:[o],render:function(){for(var e=this.props,t=e.timeScale,n=e.width,o=e.height,u={position:"absolute",top:0,left:0},h=n/t,d=r(t),f=d[0],p=[],g=[],m=0;h>m;m+=f){for(var v=0;v<d.length&&m%d[++v]===0;);v--;var y=s[v](m),b=Math.round(m*t),w=16-c[v];y&&p.push(i.createElement("text",{key:"t"+m,style:a[v],x:b,y:w},y)),g.push(i.createElement("line",{key:"l"+m,style:l[v],x1:b,y1:w,x2:b,y2:o}))}return i.createElement("svg",{style:u,width:n,height:o},i.createElement("g",null,g),i.createElement("g",null,p))}});t.exports=d},{"react/addons":391}],42:[function(e,t,n){"use strict";var r=e("react"),i=e("lodash"),o=e("../../core/boundToStyle"),s=r.createClass({displayName:"SvgCrossFadeBackground",shouldComponentUpdate:function(e){var t=this.props,n=t.width,r=t.height,o=t.easing;return n!==e.width||r!==e.height||!i.isEqual(o,e.easing)},getDefaultProps:function(){return{easing:[0,0,1,1]}},render:function(){var e=this.props,t=e.width,n=e.height,i=e.easing,o=["M",0,n,"C",Math.round(t*i[0]),Math.round(n*(1-i[1])),Math.round(t*i[2]),Math.round(n*(1-i[3])),t,0,"L",0,0,"C",Math.round(t*i[0]),Math.round(n*i[1]),Math.round(t*i[2]),Math.round(n*i[3]),t,n,"Z"].join(" "),s={strokeWidth:1,stroke:"#333",fill:"rgba(0, 0, 0, 0.5)"};return r.createElement("svg",{width:t,height:n},r.createElement("path",{style:s,d:o}))}}),a=r.createClass({displayName:"TimelineTransition",shouldComponentUpdate:function(e){var t=this.props,n=t.onClick,r=t.xcenter,o=t.width,s=t.height,a=t.transition;return n!==e.onClick||r!==e.xcenter||o!==e.width||s!==e.height||a.name!==e.transition.name||a.duration!==e.transition.duration||!i.isEqual(a.easing,e.transition.easing)},render:function(){var e=this.props,t=e.xcenter,n=e.width,a=e.height,l=e.transition,c=e.onClick,u=Math.min(100,a),h=Math.max(u,n),d=Math.floor(t-h/2),f=i.extend({color:"#fff",overflow:"hidden",zIndex:2,backgroundColor:"rgba(0, 0, 0, 0.1)"},o({x:d,y:0,width:h,height:a})),p={position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",textAlign:"center",zIndex:3},g=o({x:(h-n)/2,y:0,width:n,height:a}),m={marginTop:"4px",font:"normal 12px monospace",color:"#fff"};return r.createElement("div",{style:f,onClick:c},r.createElement("div",{style:p},r.createElement("div",{style:m},r.createElement("p",null,l.name||"fade"),r.createElement("p",null,l.duration/1e3+"s"))),r.createElement("div",{style:g},r.createElement(s,{width:n,height:a,easing:l.easing})))}});t.exports=a},{"../../core/boundToStyle":3,lodash:276,react:563}],43:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=e("react/addons"),o=r(i),s=e("../Icon"),a=r(s),l=o.default.createClass({displayName:"TimelineZoomControls",mixins:[o.default.addons.PureRenderMixin],getDefaultProps:function(){return{mult:1.5}},increment:function(){this.props.onChange(this.props.value*this.props.mult)},decrement:function(){this.props.onChange(this.props.value/this.props.mult)},render:function(){var e=this.props.style;return o.default.createElement("div",{style:e},o.default.createElement(a.default,{onClick:this.decrement,name:"search-minus"}),o.default.createElement(a.default,{style:{marginLeft:"5px"},onClick:this.increment,name:"search-plus"}))}});t.exports=l},{"../Icon":25,"react/addons":391}],44:[function(e,t,n){"use strict";var r=e("react"),i=e("lodash"),o=e("bezier-easing"),s=e("../DurationInput"),a=e("../../models/transitions"),l=e("../TransitionPicker"),c=e("../BezierEditorAndPicker"),u=e("glsl-uniforms-editor"),h=(e("../Icon"),r.createClass({displayName:"TransitionCustomizer",propTypes:{value:r.PropTypes.object,onChange:r.PropTypes.func,width:r.PropTypes.number,images:r.PropTypes.arrayOf(r.PropTypes.string),progress:r.PropTypes.number,openTransitionPicker:r.PropTypes.func,displayDuration:r.PropTypes.bool},getDefaultProps:function(){return{width:300,progress:0}},onDurationChange:function(e){this.props.onChange(i.defaults({duration:e},this.props.value))},onEasingChange:function(e){this.props.onChange(i.defaults({easing:e},this.props.value))},onTransitionChange:function(e){this.props.onChange(i.defaults({name:e},this.props.value))},onUniformsChange:function(e){this.props.onChange(i.defaults({uniforms:e},this.props.value))},render:function(){var e=this.props,t=e.value,n=e.width,h=e.images,d=e.progress,f=e.openTransitionPicker,p=e.displayDuration,g=a.byName(t.name),m=10,v=Math.floor(.5*n),y=n-v,b=Math.min(200,y),w=i.extend({},g.uniforms,t.uniforms);return r.createElement("div",null,p?r.createElement(s,{value:t.duration,onChange:this.onDurationChange,width:n,title:"Transition Duration:"}):void 0,r.createElement("div",{style:{display:"inline-block",marginRight:m+"px"}},r.createElement(l,{value:g,onChange:this.onTransitionChange,width:v-m,height:b,overlayBounds:[0,0,n,Math.max(b,.6*n)],transitionUniforms:w,transitionDuration:t.duration,transitionEasing:t.easing?o.apply(null,t.easing):o.css.linear,images:h,openTransitionPicker:f})),r.createElement("div",{style:{display:"inline-block"}},r.createElement(c,{value:t.easing,onChange:this.onEasingChange,width:y-10,height:b,progress:d})),i.keys(g.types).length?r.createElement(u,{style:{margin:"10px auto 0 auto"},values:w,types:g.types,onChange:this.onUniformsChange}):void 0)}}));t.exports=h},{"../../models/transitions":14,"../BezierEditorAndPicker":17,"../DurationInput":22,"../Icon":25,"../TransitionPicker":45,"bezier-easing":71,"glsl-uniforms-editor":256,lodash:276,react:563}],45:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return isNaN(e)?100:0>=e?100:e}var o=e("../Transitions/VignetteInnerInfos"),s=r(o),a=e("react"),l=e("glsl-transition-vignette"),c=e("../Icon"),u=a.createClass({displayName:"TransitionPicker",propTypes:{value:a.PropTypes.shape({name:a.PropTypes.string,glsl:a.PropTypes.string,uniforms:a.PropTypes.object,id:a.PropTypes.string}).isRequired,onChange:a.PropTypes.func.isRequired,transitionDuration:a.PropTypes.number,transitionEasing:a.PropTypes.func,transitionUniforms:a.PropTypes.object,images:a.PropTypes.arrayOf(a.PropTypes.string),openTransitionPicker:a.PropTypes.func.isRequired},onTransitionOpenPicker:function(){var e=this.props,t=e.openTransitionPicker,n=e.images,r=e.onChange;t(n,r)},render:function(){var e=this.props.images,t=this.props.value,n=this.props.width,r=this.props.height,o=r/2,u={position:"absolute",left:(n-o)/2+"px",top:(r-o)/2+"px",textShadow:"0px 0.5px 1px #000"};return a.createElement(l,{transitionDuration:i(this.props.transitionDuration),transitionEasing:this.props.transitionEasing,autostart:!1,controlsMode:"hover",glsl:t.glsl,uniforms:this.props.transitionUniforms||t.uniforms,images:e,width:n,height:r},a.createElement(s.default,{transition:t}),a.createElement(c,{name:"pencil-square",size:o,color:"#fff",onClick:this.onTransitionOpenPicker,style:u}))}});t.exports=u},{"../Icon":25,"../Transitions/VignetteInnerInfos":47,"glsl-transition-vignette":220,react:563}],46:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("react"),l=r(a),c=e("../Transitions"),u=r(c),h={onClose:a.PropTypes.func.isRequired,onSelectTransition:a.PropTypes.func.isRequired,bounds:a.PropTypes.arrayOf(a.PropTypes.number).isRequired,images:a.PropTypes.array.isRequired,transitionCollection:a.PropTypes.array.isRequired},d=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.onSelectTransition,r=e.bounds,i=e.images,o=e.transitionCollection,s={position:"relative"},a={position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"block",zIndex:1e3,background:"rgba(0,0,0,0.5)"},c={position:"absolute",left:r[0]+"px",top:r[1]+"px",background:"#fff",zIndex:1001};return l.default.createElement("div",{style:s},l.default.createElement("div",{style:a,onClick:t}),l.default.createElement("div",{style:c},l.default.createElement(u.default,{width:r[2],height:r[3],images:i,onTransitionSelected:n,transitionCollection:o,onClose:t})))}}]),t}(l.default.Component);n.default=d,d.propTypes=h,t.exports=n.default},{"../Transitions":48,react:563}],47:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("react"),l=r(a),c=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.transition,t={position:"absolute",width:"100%",height:"100%"},n="rgba(0,0,0,0), rgba(0,0,0,0.8) 25%, rgba(0,0,0,0.8)",r={textDecoration:"none",color:"#fff",fontSize:"0.8em",fontWeight:400,textShadow:"0px 0.5px 1px #000",position:"absolute",top:0,left:0,overflow:"hidden",width:"100%",padding:"2px 6px 6px 6px",whiteSpace:"nowrap",background:"linear-gradient(0deg, "+n+")"},i={textDecoration:"none",fontWeight:"300",fontSize:"0.7em",color:"#fff",textShadow:"0px 0px 1px #000",position:"absolute",bottom:0,left:0,padding:"6px 6px 2px 6px",textAlign:"center",width:"100%",overflow:"hidden",whiteSpace:"nowrap",background:"linear-gradient(180deg, "+n+")"},o={position:"absolute",top:"1px",right:"3px",color:"#fc0",zIndex:3,fontSize:"0.8em"},s={position:"absolute",top:"1px",right:"3px",color:"#f00",zIndex:3,fontSize:"0.8em",textTransform:"uppercase",fontFamily:"monospace"};return l.default.createElement("div",{style:t},l.default.createElement("a",{style:r,href:e.id?"https://glsl.io/transition/"+e.id:void 0,target:"_blank"},e.name),l.default.createElement("a",{style:i,href:"https://glsl.io/user/"+e.owner,target:"_blank"},"by ",l.default.createElement("em",null,e.owner)),e.usedCount?l.default.createElement("span",{style:o},e.usedCount,"×"):void 0,e.diverged?l.default.createElement("span",{style:s},"diverged"):void 0)}}]),t}(l.default.Component);n.default=c,t.exports=n.default},{react:563}],48:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),l.default.chain(e.split(" ")).map(function(e){return e.trim()}).filter().every(function(e){return-1!==t.indexOf(e)}).value()}var o=e("react"),s=r(o),a=e("lodash"),l=r(a),c=e("glsl-transition-vignette-grid"),u=r(c),h=e("glsl-transition-vignette"),d=r(h),f=e("../Icon"),p=r(f),g=e("./VignetteInnerInfos"),m=r(g),v=e("../../constants"),y=256,b=200,w=3,E=2,C=w*E,x=s.default.createClass({displayName:"Transitions",getInitialState:function(){return{page:0,q:""}},nextPage:function(e){var t=Math.min(this.state.page+1,e-1);this.state.page!==t&&this.setState({page:t})},prevPage:function(){var e=Math.max(0,this.state.page-1);this.state.page!==e&&this.setState({page:e})},onTypeahead:function(e){this.setState({q:e.target.value,page:0})},render:function(){var e=this.props,t=e.onTransitionSelected,n=e.width,r=e.height,o=e.images,a=e.transitionCollection,c=this.state,h=c.page,f=c.q,g=r-30,E=Math.min(Math.floor((n-2-v.SCROLL_BAR_W)/w-14),y),x=Math.floor(b*E/y),_=Math.floor(x/2),A=l.default.filter(a,function(e){return i(f,e.owner)||i(f,e.name)}),D=Math.ceil(A.length/C),F=A.slice(h*C,(h+1)*C),S={position:"relative"},T={display:"inline-block"},R={fontSize:"1.2em",display:"inline-block"},k={margin:"0 8px",padding:"0px",fontSize:"16px",lineHeight:"30px",width:Math.min(250,n-300)+"px",height:"30px"},M={position:"absolute",top:"4px",right:"8px",padding:"4px",fontSize:"1.2em"},L={overflow:"auto",padding:"1px 5px",height:g+"px"},B={position:"absolute",left:(E-_)/2+"px",top:(x-_)/2+"px"},O=function(e,n){var r=function(){return t(e.name)};return s.default.createElement(d.default,e,s.default.createElement(m.default,{transition:n}),s.default.createElement(p.default,{name:"check-square",color:"#fff",size:_,onClick:r,style:B}))},I=s.default.createElement(u.default,{transitions:F,images:o,vignetteWidth:E,vignetteHeight:x,vignetteMargin:[4,6],renderVignette:O});return s.default.createElement("div",{style:{width:n+"px",height:r+"px"}},s.default.createElement("header",{style:S},s.default.createElement("h2",{style:T},"Transitions"),s.default.createElement("input",{style:k,type:"search",placeholder:"Search...",value:f,onChange:this.onTypeahead}),s.default.createElement("nav",{style:R},s.default.createElement(p.default,{name:"caret-square-o-left",onClick:this.prevPage.bind(this,D)})," ",h+1," / ",D," ",s.default.createElement(p.default,{name:"caret-square-o-right",onClick:this.nextPage.bind(this,D)})),s.default.createElement(p.default,{style:M,name:"times-circle",onClick:this.props.onClose})),s.default.createElement("div",{style:L},I))}});t.exports=x},{"../../constants":2,"../Icon":25,"./VignetteInnerInfos":47,"glsl-transition-vignette":220,"glsl-transition-vignette-grid":214,lodash:276,react:563}],49:[function(e,t,n){"use strict";var r=e("react"),i=e("lodash"),o=e("rect-crop"),s=e("../../core/scaleTranslateStyle"),a=e("../../mixins/ImageHolderMixin"),l=r.createClass({displayName:"UploadingImageThumbnail",mixins:[a],propTypes:{zoom:r.PropTypes.number,center:r.PropTypes.array,image:r.PropTypes.string,width:r.PropTypes.number,height:r.PropTypes.number,progress:r.PropTypes.number},getDefaultProps:function(){return{zoom:1,center:[.5,.5]}},render:function(){var e=this.props,t=e.zoom,n=e.center,a=e.width,l=e.height,c=e.image,u=e.progress,h=i.extend({position:"relative",overflow:"hidden",background:"#000",width:a+"px",height:l+"px"},this.props.style||{}),d={width:a+"px",position:"absolute",top:"2px",left:0,zIndex:4};if(!this.img.width)return r.createElement("div",{style:h});var f=o(t,n)({width:a,height:l},this.img),p=s(a/f[2],[-f[0],-f[1]]);return r.createElement("div",{style:h},r.createElement("img",{src:c,style:p}),r.createElement("progress",{style:d,value:u}))}});t.exports=l},{"../../core/scaleTranslateStyle":5,"../../mixins/ImageHolderMixin":9,lodash:276,react:563,"rect-crop":565}],50:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);
}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,s=n;a=c=l=void 0,r=!1;var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;e=c,t=o,n=s,r=!0}},l=e("react"),c=r(l),u=e("lodash"),h=r(u),d=e("../../core/boundToStyle"),f=r(d),p=e("../DiaporamaElement"),g=r(p),m=e("../Icon"),v=r(m),y=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={hover:!1},this.hoverEnter=this.hoverEnter.bind(this),this.hoverLeave=this.hoverLeave.bind(this)}return o(t,e),s(t,[{key:"hoverEnter",value:function(){this.setState({hover:!0})}},{key:"hoverLeave",value:function(){this.setState({hover:!1})}},{key:"render",value:function(){var e=this.props,t=e.bound,n=e.playing,r=this.state.hover,i=h.default.extend({background:"#000",color:"#fff"},f.default(t)),o={zIndex:3,position:"absolute",top:0,left:0},s=40,a={position:"absolute",left:(t.width-s)/2+"px",top:(t.height-s)/2+"px"},l={position:"absolute",right:"5px",top:"5px"},u={zIndex:2,opacity:r?1:0,transition:r?"opacity 0.5s":"",background:"rgba(0,0,0,0.3)",textAlign:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%"};return c.default.createElement("div",{style:i},c.default.createElement(g.default,{width:t.width,height:t.height,data:this.props.diaporama,currentTime:this.props.time,loop:!0}),c.default.createElement("div",{onMouseEnter:this.hoverEnter,onMouseLeave:this.hoverLeave,style:u},c.default.createElement("h2",{style:o},"Viewer"),c.default.createElement("a",{href:"/preview/",target:"_blank"},c.default.createElement(v.default,{title:"preview",style:l,size:32,name:"external-link",colorHover:"#fa0",color:"#fff"})),n?c.default.createElement(v.default,{style:a,size:s,onClick:this.props.onPause,name:"pause",colorHover:"#fd3",color:"#fa0"}):c.default.createElement(v.default,{style:a,size:s,onClick:this.props.onPlay,name:"play",colorHover:"#fd3",color:"#fa0"})))}}]),t}(c.default.Component);n.default=y,t.exports=n.default},{"../../core/boundToStyle":3,"../DiaporamaElement":20,"../Icon":25,lodash:276,react:563}],51:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("qajax"),o=r(i),s=e("../package.json"),a=r(s),l=o.default.getJSON("/registry");n.default=l.then(function(e){var t=a.default.version,n=e["dist-tags"].latest;return{registry:e,currentVersion:t,latestVersion:n,outdated:n!==a.default.version}}),t.exports=n.default},{"../package.json":570,qajax:351}],52:[function(e,t,n){t.exports=["image/png","image/jpg","image/jpeg"]},{}],53:[function(e,t,n){"use strict";var r=e("lodash");t.exports=function(e,t){var n=e.lastIndexOf(".");return-1===n?!1:r.contains(t,e.slice(n+1))}},{lodash:276}],54:[function(e,t,n){"use strict";var r=e("./fileInExtensions"),i="jpg|jpeg|png".split("|");t.exports=function(e){return r(e.toLowerCase(),i)}},{"./fileInExtensions":53}],55:[function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}t.exports=Object.assign||function(e,t){for(var n,i,o=r(e),s=1;s<arguments.length;s++){n=arguments[s],i=Object.keys(Object(n));for(var a=0;a<i.length;a++)o[i[a]]=n[i[a]]}return o}},{}],56:[function(e,t,n){(function(n){"use strict";function r(e,t,n){return function(r,i,s,a){return void 0!==r[i]?r[e]?t&&t(r,i,n,a):new Error("You have provided a `"+i+"` prop to `"+n+"` without an `"+e+"` handler. This will render a read-only field. If the field should be mutable use `"+o(i)+"`. Otherwise, set `"+e+"`"):void 0}}function i(e){return 0===f[0]&&f[1]>=13?e:e.type}function o(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function s(e,t,n){return function(){for(var r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];t&&t.call.apply(t,[e].concat(i)),n&&n.call.apply(n,[e].concat(i))}}function a(e,t,n){return l(e,t.bind(null,n=n||(Array.isArray(e)?[]:{}))),n}function l(e,t,n){if(Array.isArray(e))return e.forEach(t,n);for(var r in e)c(e,r)&&t.call(n,e[r],r,e)}function c(e,t){return e?Object.prototype.hasOwnProperty.call(e,t):!1}var u=e("./util/babelHelpers.js"),h=e("react"),d=e("react/lib/invariant"),f=h.version.split(".").map(parseFloat);t.exports=function(e,t,c){function f(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;r>o;o++)i[o-2]=arguments[o];var i,s=t[e],a=s&&p(this.props,e);if(this.props[s]){var l;this._notifying=!0,(l=this.props[s]).call.apply(l,[this,n].concat(i)),this._notifying=!1}return this.setState(function(){var t={};return t[e]=n,t}()),!a}function p(e,t){return void 0!==e[t]}var g=e.displayName||e.name||"Component",m={};return"production"!==n.env.NODE_ENV&&i(e).propTypes&&(m=a(t,function(t,n,s){var a=i(e).propTypes[s];d("string"==typeof n&&n.trim().length,"Uncontrollable - [%s]: the prop `%s` needs a valid handler key name in order to make it uncontrollable",e.displayName,s),t[s]=r(n,a,e.displayName),void 0!==a&&(t[o(s)]=a)},{})),g=g[0].toUpperCase()+g.substr(1),c=c||{},h.createClass({displayName:"Uncontrolled"+g,propTypes:m,getInitialState:function(){var e=this.props,n=Object.keys(t);return a(n,function(t,n){t[n]=e[o(n)]},{})},shouldComponentUpdate:function(){return!this._notifying},render:function(){var n=this,r={};return l(t,function(e,t){r[t]=p(n.props,t)?n.props[t]:n.state[t],r[e]=f.bind(n,t)}),r=u._extends({},this.props,r),l(c,function(e,t){return r[t]=s(n,e,r[t])}),h.createElement(e,r)}})}}).call(this,e("_process"))},{"./util/babelHelpers.js":57,_process:85,react:563,"react/lib/invariant":541}],57:[function(e,t,n){!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("object"==typeof n?n:e.babelHelpers={})}(this,function(e){var t=e;t._extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}})},{}],58:[function(e,t,n){"use strict";function r(e,t,n){return e*(1-n)+t*n}var i=function(e){return e&&e.__esModule?e.default:e},o=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i&&i.writable)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=i(e("react")),u=function(e){function t(e){l(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.x=this.x.bind(this),this.y=this.y.bind(this)}return a(t,e),o(t,{shouldComponentUpdate:{value:function(e){var t=this.props,n=t.xFrom,r=t.yFrom,i=t.xTo,o=t.yTo;return e.xFrom!==n||e.yFrom!==r||e.xTo!==i||e.yTo!==o}},x:{value:function(e){return Math.round(r(this.props.xFrom,this.props.xTo,e))}},y:{value:function(e){return Math.round(r(this.props.yFrom,this.props.yTo,e))}}}),t}(c.Component);t.exports=u},{react:563}],59:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],i=e[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i&&i.writable)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=r(e("react")),h=r(e("object-assign")),d=u.PropTypes,f=u.Component,p=r(e("./Grid")),g=r(e("./Handle")),m=r(e("./Progress")),v=r(e("./Curve")),y={value:d.array,onChange:d.func,width:d.number,height:d.number,padding:d.array,handleRadius:d.number,style:d.object,progress:d.number,handleStroke:d.number,background:d.string,gridColor:d.string,curveColor:d.string,curveWidth:d.number,handleColor:d.string,color:d.string,textStyle:d.object,progressColor:d.string,readOnly:d.bool},b={value:[.25,.25,.75,.75],width:300,height:300,padding:[25,5,25,18],progress:0,background:"#fff",color:"#000",gridColor:"#eee",curveColor:"#333",progressColor:"#ccc",handleColor:"#f00",curveWidth:2,handleRadius:5,handleStroke:2,textStyle:{fontFamily:"sans-serif",fontSize:"10px"},pointers:{down:"none",hover:"pointer",def:"default"}},w=function(e){function t(e){l(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={down:0,hover:0},this.x=this.x.bind(this),this.y=this.y.bind(this),this.onDownLeave=this.onDownLeave.bind(this),this.onDownMove=this.onDownMove.bind(this),this.onDownUp=this.onDownUp.bind(this),this.onEnterHandle1=this.onEnterHandle.bind(this,1),this.onEnterHandle2=this.onEnterHandle.bind(this,2),this.onLeaveHandle1=this.onLeaveHandle.bind(this,1),this.onLeaveHandle2=this.onLeaveHandle.bind(this,2),this.onDownHandle1=this.onDownHandle.bind(this,1),this.onDownHandle2=this.onDownHandle.bind(this,2)}return a(t,e),o(t,{render:{value:function(){var e=this,t=e.x,n=e.y,r=this.props,i=r.value,o=r.width,s=r.height,a=r.handleRadius,l=r.style,d=r.progress,f=r.handleStroke,w=r.background,E=r.gridColor,C=r.curveColor,x=r.curveWidth,_=r.handleColor,A=r.textStyle,D=r.progressColor,F=r.readOnly,S=r.pointers,T=this.state,R=T.down,k=T.hover,M={xFrom:t(0),yFrom:n(0),xTo:t(1),yTo:n(1)},L=h({},y.pointers,S),B=h({background:w,cursor:R?L.down:k?L.hover:L.def,userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},l),O=F||!R?{}:{onMouseMove:this.onDownMove,onMouseUp:this.onDownUp,onMouseLeave:this.onDownLeave},I=F||R?{}:{onMouseDown:this.onDownHandle1,onMouseEnter:this.onEnterHandle1,onMouseLeave:this.onLeaveHandle1},P=F||R?{}:{onMouseDown:this.onDownHandle2,onMouseEnter:this.onEnterHandle2,onMouseLeave:this.onLeaveHandle2};return u.createElement("svg",c({style:B,width:o,height:s},O),u.createElement(p,c({},M,{background:w,gridColor:E,textStyle:h({},b.textStyle,A)})),u.createElement(m,c({},M,{value:i,progress:d,progressColor:D})),u.createElement(v,c({},M,{value:i,curveColor:C,curveWidth:x})),this.props.children,F?void 0:u.createElement("g",null,u.createElement(g,c({},M,I,{index:0,xval:i[0],yval:i[1],handleRadius:a,handleColor:_,down:1===R,hover:1===k,handleStroke:f,background:w})),u.createElement(g,c({},M,P,{index:1,xval:i[2],yval:i[3],handleRadius:a,handleColor:_,down:2===R,hover:2===k,handleStroke:f,background:w}))))}},onDownLeave:{value:function(e){this.state.down&&(this.onDownMove(e),this.setState({down:null}))}},onDownHandle:{value:function(e,t){t.preventDefault(),this.setState({hover:null,down:e})}},onEnterHandle:{value:function(e){this.state.down||this.setState({hover:e})}},onLeaveHandle:{value:function(){this.state.down||this.setState({hover:null})}},onDownMove:{value:function(e){if(this.state.down){e.preventDefault();var t=2*(this.state.down-1),n=[].concat(this.props.value),r=this.positionForEvent(e),o=i(r,2),s=o[0],a=o[1];n[t]=this.inversex(s),n[t+1]=this.inversey(a),this.props.onChange(n)}}},onDownUp:{value:function(){this.setState({down:0})}},positionForEvent:{value:function(e){var t=u.findDOMNode(this).getBoundingClientRect();return[e.clientX-t.left,e.clientY-t.top]}},x:{value:function(e){var t=this.props.padding,n=this.props.width-t[1]-t[3];return Math.round(t[3]+e*n)}},inversex:{value:function(e){var t=this.props.padding,n=this.props.width-t[1]-t[3];return Math.max(0,Math.min((e-t[3])/n,1))}},y:{value:function(e){var t=this.props.padding,n=this.props.height-t[0]-t[2];return Math.round(t[0]+(1-e)*n)}},inversey:{value:function(e){var t=this.props,n=t.height,r=t.handleRadius,i=t.padding,o=2*r,s=n-i[0]-i[2];return e=Math.max(o,Math.min(e,n-o)),1-(e-i[0])/s}}}),t}(f);t.exports=w,w.propTypes=y,w.defaultProps=b},{"./Curve":60,"./Grid":61,"./Handle":62,"./Progress":63,"object-assign":55,react:563}],60:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i&&i.writable)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=r(e("react")),c=r(e("./BezierComponent")),u=function(e){function t(){a(this,t),null!=e&&e.apply(this,arguments)}return s(t,e),i(t,{shouldComponentUpdate:{value:function(e){if(o(Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e))return!0;var n=this.props,r=n.curveColor,i=n.curveWidth,s=n.value;return e.curveColor!==r||e.curveWidth!==i||e.value!==s}},render:{value:function(){var e=this.props,t=e.curveColor,n=e.curveWidth,r=e.value,i=this,o=i.x,s=i.y,a=o(0),c=s(0),u=o(1),h=s(1),d=o(r[0]),f=s(r[1]),p=o(r[2]),g=s(r[3]),m="M"+a+","+c+" C"+d+","+f+" "+p+","+g+" "+u+","+h;return l.createElement("path",{fill:"none",stroke:t,strokeWidth:n,d:m})}}}),t}(c);t.exports=u},{"./BezierComponent":58,react:563}],61:[function(e,t,n){"use strict";function r(e,t,n){for(var r=[],i=e;t>i;i+=n)r.push(i);return r}function i(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i in e)if(e[i]!==t[i])return!1;return!0}var o=function(e){return e&&e.__esModule?e.default:e},s=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i&&i.writable)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)},l=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},c=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=o(e("react")),h=o(e("object-assign")),d=o(e("./BezierComponent")),f=function(e){function t(){c(this,t),null!=e&&e.apply(this,arguments)}return l(t,e),s(t,{gridX:{value:function(e){var t=1/e;return r(0,1,t).map(this.x)}},gridY:{value:function(e){var t=1/e;return r(0,1,t).map(this.y)}},shouldComponentUpdate:{value:function(e){if(a(Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e))return!0;var n=this.props,r=n.background,o=n.gridColor,s=n.textStyle;return e.background!==r||e.gridColor!==o||!i(e.textStyle,s)}},render:{value:function(){var e=this,t=e.x,n=e.y,r=this.props,i=r.background,o=r.gridColor,s=r.textStyle,a=t(0),l=n(0),c=t(1),d=n(1),f=this.gridX(2),p=this.gridY(2),g=this.gridX(10),m=this.gridY(10),v="M"+a+","+l+" L"+a+","+d+" L"+c+","+d+" L"+c+","+l+" Z",y=g.map(function(e){return"M"+e+","+l+" L"+e+","+d}).concat(m.map(function(e){return"M"+a+","+e+" L"+c+","+e})).join(" "),b=f.map(function(e){return"M"+e+","+l+" L"+e+","+d}).concat(p.map(function(e){return"M"+a+","+e+" L"+c+","+e})).concat(["M"+a+","+l+" L"+c+","+d]).join(" "),w=m.map(function(e,t){var n=3+(t%5===0?2:0);return"M"+a+","+e+" L"+(a-n)+","+e}).join(" "),E=g.map(function(e,t){var n=3+(t%5===0?2:0);return"M"+e+","+l+" L"+e+","+(l+n)}).join(" ");return u.createElement("g",null,u.createElement("path",{fill:i,d:v}),u.createElement("path",{strokeWidth:"1px",stroke:o,d:y}),u.createElement("path",{strokeWidth:"2px",stroke:o,d:b}),u.createElement("path",{strokeWidth:"1px",stroke:o,d:w}),u.createElement("text",{style:h({textAnchor:"end"},s),transform:"rotate(-90)",x:-this.y(1),y:this.x(0)-8},"Progress Percentage"),u.createElement("path",{strokeWidth:"1px",stroke:o,d:E}),u.createElement("text",{style:h({dominantBaseline:"text-before-edge"},s),textAnchor:"end",x:this.x(1),y:this.y(0)+5},"Time Percentage"))}}}),t}(d);t.exports=f},{"./BezierComponent":58,"object-assign":55,react:563}],62:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i&&i.writable)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=r(e("react")),c=r(e("./BezierComponent")),u=function(e){function t(){a(this,t),null!=e&&e.apply(this,arguments)}return s(t,e),i(t,{shouldComponentUpdate:{value:function(e){if(o(Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e))return!0;var n=this.props,r=n.index,i=n.handleRadius,s=n.handleColor,a=n.hover,l=n.down,c=n.background,u=n.handleStroke,h=n.xval,d=n.yval,f=n.onMouseEnter,p=n.onMouseLeave,g=n.onMouseDown;return e.index!==r||e.handleRadius!==i||e.handleColor!==s||e.hover!==a||e.down!==l||e.background!==c||e.handleStroke!==u||e.xval!==h||e.yval!==d||e.onMouseDown!==g||e.onMouseLeave!==p||e.onMouseEnter!==f}},render:{value:function(){var e=this,t=e.x,n=e.y,r=this.props,i=r.index,o=r.handleRadius,s=r.handleColor,a=r.hover,c=r.down,u=r.background,h=r.handleStroke,d=r.xval,f=r.yval,p=r.onMouseEnter,g=r.onMouseLeave,m=r.onMouseDown,v=t(i),y=n(i),b=t(d),w=n(f),E=Math.atan2(w-y,b-v),C=b-o*Math.cos(E),x=w-o*Math.sin(E);return l.createElement("g",null,l.createElement("line",{stroke:s,strokeWidth:a||c?1+h:h,x1:C,y1:x,x2:v,y2:y}),l.createElement("circle",{cx:b,cy:w,r:o,stroke:s,strokeWidth:a||c?2*h:h,fill:c?u:s,onMouseEnter:p,onMouseLeave:g,onMouseDown:m}))}}}),t}(c);t.exports=u},{"./BezierComponent":58,react:563}],63:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i&&i.writable)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=r(e("react")),c=r(e("bezier-easing")),u=r(e("./BezierComponent")),h=function(e){function t(e){a(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.genEasing(e.value)}return s(t,e),i(t,{genEasing:{value:function(e){this.easing=c.apply(null,e)}},shouldComponentUpdate:{value:function(e){if(o(Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e))return!0;var n=this.props,r=n.value,i=n.progress,s=n.progressColor;return e.progress!==i||e.progressColor!==s||e.value!==r}},componentWillUpdate:{value:function(e){this.props.value!==e.value&&this.genEasing(e.value)}},render:{value:function(){var e=this.props,t=e.progress,n=e.progressColor;if(!t)return l.createElement("path",null);var r=this.x(0),i=this.y(0),o=this.x(t),s=this.y(this.easing?this.easing(t):0),a="M"+o+","+i+" L"+o+","+s+" L"+r+","+s;return l.createElement("path",{fill:"none",strokeWidth:"1px",stroke:n,d:a})}}}),t}(u);t.exports=h},{"./BezierComponent":58,"bezier-easing":71,react:563}],64:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(e("./BezierEditor")),o=r(e("uncontrollable"));t.exports=o(i,{value:"onChange"})},{"./BezierEditor":59,uncontrollable:56}],65:[function(e,t,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],66:[function(e,t,n){arguments[4][56][0].apply(n,arguments)},{"./util/babelHelpers.js":67,_process:85,dup:56,react:563,"react/lib/invariant":541}],67:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],68:[function(e,t,n){"use strict";function r(e,t){return e&&t?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}var i=function(e){return e&&e.__esModule?e.default:e},o=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i&&i.writable)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=i(e("react")),u=i(e("./Item")),h=i(e("object-assign")),d=c.PropTypes,f=d.arrayOf(d.number),p=d.shape({rectColor:d.string,rectBorderRadius:d.number,curveColor:d.string,curveWidth:d.number,curveDotSize:d.number,curvePadding:d.number,handleColor:d.string,handleWidth:d.number,handleDotSize:d.number,displayName:d.bool,nameColor:d.string,nameSize:d.string,nameFamily:d.string,nameYPercent:d.number,namePadding:d.number}),g={value:f,onChange:d.func,width:d.number,height:d.number,items:d.arrayOf(d.shape({value:f.isRequired,name:d.string})),itemsPerRow:d.number,style:d.object,interMargin:d.number,itemStyles:p,hoverItemStyles:p,selectedItemStyles:p},m={items:[{value:[0,0,1,1],name:"linear"},{value:[.25,.1,.25,1],name:"ease"},{value:[.42,0,1,1],name:"ease-in"},{value:[.42,0,.58,1],name:"ease-in-out"},{value:[0,0,.58,1],name:"ease-out"}],width:300,height:60,itemsPerRow:5,style:{},interMargin:4,itemStyles:{rectColor:"#eee",rectBorderRadius:4,curveColor:"#0af",curveWidth:2,curveDotSize:4,curvePadding:6,handleColor:"#ddd",handleWidth:1,handleDotSize:2,displayName:!0,nameColor:"#bbb",nameSize:"10px",nameFamily:"sans-serif",nameYPercent:1,namePadding:4},hoverItemStyles:{rectColor:"#ddd",handleColor:"#ccc",curveColor:"#09e",nameColor:"#09e"},selectedItemStyles:{rectColor:"#4CF",handleColor:"rgba(255,255,255,0.3)",curveColor:"#fff",nameColor:"#fff"}},v=function(e){function t(e){l(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={hover:null}}return a(t,e),o(t,{onItemHoverEnter:{value:function(e){this.setState({hover:e})}},onItemHoverLeave:{value:function(){this.setState({hover:null})}},onItemClick:{value:function(e,t){t.preventDefault(),this.props.onChange(e)}},render:{value:function(){var e=this.props,t=e.value,n=e.items,i=e.width,o=e.height,s=e.itemsPerRow,a=e.style,l=e.interMargin,d=e.itemStyles,f=e.hoverItemStyles,p=e.selectedItemStyles,g=this.state.hover,v=n.length;if(0===v)return c.createElement("svg",{style:a,width:i,height:o});var y=Math.ceil(v/s),b=Math.floor((i-(s-1)*l)/s),w=Math.floor((o-(y-1)*l)/y),E=n.map(function(e,n){var i=(b+l)*(n%s),o=(w+l)*Math.floor(n/s),a=r(e.value,t),v=g&&r(e.value,g),y=[m.itemStyles],E=[d];v&&(y.push(m.hoverItemStyles),E.push(f)),a&&(y.push(m.selectedItemStyles),E.push(p));var C=h.apply(null,[{}].concat(y).concat(E));return c.createElement(u,{key:n,x:i,y:o,width:b,height:w,padding:4,value:e.value,name:e.name,styles:C,onClick:this.onItemClick.bind(this,e.value),onMouseEnter:this.onItemHoverEnter.bind(this,e.value),onMouseLeave:this.onItemHoverLeave.bind(this)})},this);return c.createElement("svg",{style:a,width:i,height:o},E)}}}),t}(c.Component);t.exports=v,v.propTypes=g,v.defaultProps=m},{"./Item":69,"object-assign":65,react:563}],69:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i&&i.writable)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=r(e("react")),c=function(e){function t(e){a(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return s(t,e),i(t,{x:{value:function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){var t=this.props,n=t.width,r=t.styles,i=r.curvePadding;return i+e*(n-2*i)})},y:{value:function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){var t=this.props,n=t.height,r=t.styles,i=r.curvePadding;return i+(1-e)*(n-2*i)})},render:{value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.value,s=e.name,a=e.onClick,c=e.onMouseEnter,u=e.onMouseLeave,h=e.styles,d=h.rectColor,f=h.rectBorderRadius,p=h.curveColor,g=h.curveWidth,m=h.curveDotSize,v=h.handleColor,y=h.handleWidth,b=h.handleDotSize,w=h.displayName,E=h.nameColor,C=h.nameSize,x=h.nameFamily,_=h.nameYPercent,A=h.namePadding,D=this.x(0),F=this.y(0),S=this.x(1),T=this.y(1),R=this.x(o[0]),k=this.y(o[1]),M=this.x(o[2]),L=this.y(o[3]),B=["M"+[D,F],"C"+[R,k],""+[M,L],""+[S,T]].join(" "),O={cursor:"pointer",userSelect:"none",WebkitUserSelect:"none"};return l.createElement("g",{style:O,onClick:a,onMouseEnter:c,onMouseLeave:u,transform:"translate("+t+","+n+")"},l.createElement("rect",{fill:d,x:0,y:0,width:r,height:i,rx:f,ry:f}),w?l.createElement("text",{x:r/2,y:A+Math.floor((i-2*A)*_),style:{fontFamily:x,fontSize:C,textAnchor:"middle",fill:E}},s):void 0,l.createElement("line",{stroke:v,strokeWidth:y,x1:D,x2:R,y1:F,y2:k}),l.createElement("line",{stroke:v,strokeWidth:y,x1:S,x2:M,y1:T,y2:L}),l.createElement("circle",{fill:v,cx:R,cy:k,r:b}),l.createElement("circle",{fill:v,cx:M,cy:L,r:b}),l.createElement("path",{fill:"none",stroke:p,strokeWidth:g,d:B}),l.createElement("circle",{fill:p,cx:D,cy:F,r:m}),l.createElement("circle",{fill:p,cx:S,cy:T,r:m}))}}}),t}(l.Component);t.exports=c},{react:563}],70:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(e("./BezierEasingPicker")),o=r(e("uncontrollable"));t.exports=o(i,{value:"onChange"})},{"./BezierEasingPicker":68,uncontrollable:66}],71:[function(e,t,n){!function(e){"object"==typeof n?t.exports=e():"function"==typeof define&&define.amd?define([],e):window.BezierEasing=e()}(function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function r(r,i,o){return((e(i,o)*r+t(i,o))*r+n(i))*r}function i(r,i,o){return 3*e(i,o)*r*r+2*t(i,o)*r+n(i)}function o(e,t,n,i,o){var s,a,l=0;do a=t+(n-t)/2,s=r(a,i,o)-e,s>0?n=a:t=a;while(Math.abs(s)>u&&++l<h);return a}function s(e,t,n,s){function a(t,o){for(var s=0;l>s;++s){var a=i(o,e,n);if(0===a)return o;var c=r(o,e,n)-t;o-=c/a}return o}function u(){for(var t=0;d>t;++t)v[t]=r(t*f,e,n)}function h(t){for(var r=0,s=1,l=d-1;s!=l&&v[s]<=t;++s)r+=f;--s;var u=(t-v[s])/(v[s+1]-v[s]),h=r+u*f,p=i(h,e,n);return p>=c?a(t,h):0===p?h:o(t,r,r+f,e,n)}function g(){y=!0,(e!=t||n!=s)&&u()}if(4!==arguments.length)throw new Error("BezierEasing requires 4 arguments.");for(var m=0;4>m;++m)if("number"!=typeof arguments[m]||isNaN(arguments[m])||!isFinite(arguments[m]))throw new Error("BezierEasing arguments should be integers.");if(0>e||e>1||0>n||n>1)throw new Error("BezierEasing x values must be in [0, 1] range.");var v=p?new Float32Array(d):new Array(d),y=!1,b=function(i){return y||g(),e===t&&n===s?i:0===i?0:1===i?1:r(h(i),t,s)};b.getControlPoints=function(){return[{x:e,y:t},{x:n,y:s}]};var w=[e,t,n,s],E="BezierEasing("+w+")";b.toString=function(){return E};var C="cubic-bezier("+w+")";return b.toCSS=function(){return C},b}var a=this,l=4,c=.001,u=1e-7,h=10,d=11,f=1/(d-1),p="Float32Array"in a;return s.css={ease:s(.25,.1,.25,1),linear:s(0,0,1,1),"ease-in":s(.42,0,1,1),"ease-out":s(0,0,.58,1),"ease-in-out":s(.42,0,.58,1)},s})},{}],72:[function(e,t,n){!function(){function e(e){var t=n;e&&(n[e]||(n[e]={}),t=n[e]),t.define&&t.define.packaged||(r.original=t.define,t.define=r,t.define.packaged=!0),t.acequire&&t.acequire.packaged||(o.original=t.acequire,t.acequire=o,t.acequire.packaged=!0)}var t="ace",n=function(){return this}();if(n||"undefined"==typeof window||(n=window),t||"undefined"==typeof acequirejs){var r=function(e,t,n){return"string"!=typeof e?void(r.original?r.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(n=t),void(r.modules[e]||(r.payloads[e]=n,r.modules[e]=null)))};r.modules={},r.payloads={};var i=function(e,t,n){if("string"==typeof t){var r=a(e,t);if(void 0!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],s=0,l=t.length;l>s;++s){var c=a(e,t[s]);if(void 0==c&&o.original)return;i.push(c)}return n&&n.apply(null,i)||!0}},o=function(e,t){var n=i("",e,t);return void 0==n&&o.original?o.original.apply(this,arguments):n},s=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return s(e,n[0])+"!"+s(e,n[1])}if("."==t.charAt(0)){var r=e.split("/").slice(0,-1).join("/");for(t=r+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},a=function(e,t){t=s(e,t);var n=r.modules[t];if(!n){if(n=r.payloads[t],"function"==typeof n){var o={},a={id:t,uri:"",exports:o,
packaged:!0},l=function(e,n){return i(t,e,n)},c=n(l,o,a);o=c||a.exports,r.modules[t]=o,delete r.payloads[t]}n=r.modules[t]=o||n}return n};e(t)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,n){"use strict";function r(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function i(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}var o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},s=void 0===o.exec.call(/()??/,"")[1],a=function(){var e=/^/g;return o.test.call(e,""),!e.lastIndex}();a&&s||(RegExp.prototype.exec=function(e){var t,n,l=o.exec.apply(this,arguments);if("string"==typeof e&&l){if(!s&&l.length>1&&i(l,"")>-1&&(n=RegExp(this.source,o.replace.call(r(this),"g","")),o.replace.call(e.slice(l.index),n,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)t=this._xregexp.captureNames[c-1],t&&(l[t]=l[c]);!a&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},a||(RegExp.prototype.test=function(e){var t=o.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,n){function r(){}function i(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}function o(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=p.call(arguments,1),i=function(){if(this instanceof i){var r=t.apply(this,n.concat(p.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(p.call(arguments)))};return t.prototype&&(r.prototype=t.prototype,i.prototype=new r,r.prototype=null),i});var s,a,l,c,u,h=Function.prototype.call,d=Array.prototype,f=Object.prototype,p=d.slice,g=h.bind(f.toString),m=h.bind(f.hasOwnProperty);if((u=m(f,"__defineGetter__"))&&(s=h.bind(f.__defineGetter__),a=h.bind(f.__defineSetter__),l=h.bind(f.__lookupGetter__),c=h.bind(f.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];return n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length,t+1==n.length?!0:void 0}()){var v=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?v.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(p.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:0>e&&(e=Math.max(n+e,0)),n>e+t||(t=n-e);var r=this.slice(e,e+t),i=p.call(arguments,2),o=i.length;if(e===n)o&&this.push.apply(this,i);else{var s=Math.min(t,n-e),a=e+s,l=a+o-s,c=n-a,u=n-s;if(a>l)for(var h=0;c>h;++h)this[l+h]=this[a+h];else if(l>a)for(h=c;h--;)this[l+h]=this[a+h];if(o&&e===u)this.length=u,this.push.apply(this,i);else for(this.length=u+o,h=0;o>h;++h)this[e+h]=i[h]}return r};Array.isArray||(Array.isArray=function(e){return"[object Array]"==g(e)});var y=Object("a"),b="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=O(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if("[object Function]"!=g(e))throw new TypeError;for(;++i<o;)i in n&&e.call(r,n[i],i,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=O(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0,i=Array(r),o=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var s=0;r>s;s++)s in n&&(i[s]=e.call(o,n[s],s,t));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=O(this),r=b&&"[object String]"==g(this)?this.split(""):n,i=r.length>>>0,o=[],s=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var a=0;i>a;a++)a in r&&(t=r[a],e.call(s,t,a,n)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=O(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var o=0;r>o;o++)if(o in n&&!e.call(i,n[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=O(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var o=0;r>o;o++)if(o in n&&e.call(i,n[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=O(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}for(;r>o;o++)o in n&&(i=e.call(void 0,i,n[o],o,t));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=O(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do o in this&&(i=e.call(void 0,i,n[o],o,t));while(o--);return i}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=b&&"[object String]"==g(this)?this.split(""):O(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=o(arguments[1])),r=r>=0?r:Math.max(0,n+r);n>r;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=b&&"[object String]"==g(this)?this.split(""):O(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:f)}),!Object.getOwnPropertyDescriptor){var w="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(w+e);if(m(e,t)){var n,r,i;if(n={enumerable:!0,configurable:!0},u){var o=e.__proto__;e.__proto__=f;var r=l(e,t),i=c(e,t);if(e.__proto__=o,r||i)return r&&(n.get=r),i&&(n.set=i),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var E;E=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=E();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var C=i({}),x="undefined"==typeof document||i(document.createElement("div"));if(!C||!x)var _=Object.defineProperty}if(!Object.defineProperty||_){var A="Property description must be an object: ",D="Object.defineProperty called on non-object: ",F="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(D+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(A+n);if(_)try{return _.call(Object,e,t,n)}catch(e){}if(m(n,"value"))if(u&&(l(e,t)||c(e,t))){var r=e.__proto__;e.__proto__=f,delete e[t],e[t]=n.value,e.__proto__=r}else e[t]=n.value;else{if(!u)throw new TypeError(F);m(n,"get")&&s(e,t,n.get),m(n,"set")&&a(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)m(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";m(e,t);)t+="?";e[t]=!0;var n=m(e,t);return delete e[t],n}),!Object.keys){var S=!0,T=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],R=T.length;for(var k in{toString:null})S=!1;Object.keys=function e(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var e=[];for(var n in t)m(t,n)&&e.push(n);if(S)for(var r=0,i=R;i>r;r++){var o=T[r];m(t,o)&&e.push(o)}return e}}Date.now||(Date.now=function(){return(new Date).getTime()});var M="	\n\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||M.trim()){M="["+M+"]";var L=new RegExp("^"+M+M+"*"),B=new RegExp(M+M+"*$");String.prototype.trim=function(){return String(this).replace(L,"").replace(B,"")}}var O=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,n){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,t,n){"use strict";var r="http://www.w3.org/1999/xhtml";t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||r,e):document.createElement(e)},t.hasCssClass=function(e,t){var n=(e.className||"").split(/\s+/g);return-1!==n.indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var i=n.indexOf(t);if(-1==i)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;r<n.length;)if(n[r++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;r<n.length;)if(n[r++].id===e)return!0;return!1},t.importCssString=function(e,n,i){if(i=i||document,n&&t.hasCssString(n,i))return null;var o;i.createStyleSheet?(o=i.createStyleSheet(),o.cssText=e,n&&(o.owningElement.id=n)):(o=i.createElementNS?i.createElementNS(r,"style"):i.createElement("style"),o.appendChild(i.createTextNode(e)),n&&(o.id=n),t.getDocumentHead(i).appendChild(o))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var r=t.createElement("link");r.rel="stylesheet",r.href=e,t.getDocumentHead(n).appendChild(r)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},"undefined"!=typeof document&&(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var o=e.documentElement;o.appendChild(r);var s=n.offsetWidth;i.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=r.clientWidth),o.removeChild(r),s-a},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow})}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t,n){"use strict";e("./fixoldbrowsers");var r=e("./oop"),i=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return r.mixin(n,n.MODIFIER_KEYS),r.mixin(n,n.PRINTABLE_KEYS),r.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter(function(e){return t&n.KEY_MODS[e]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,n){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var r=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((i.match(/rv\:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isTouchPad=i.indexOf("TouchPad")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function r(e,t,n){var r=s(t);if(!o.isMac&&a){if((a[91]||a[92])&&(r|=8),a.altGr){if(3==(3&r))return;a.altGr=0}if(18===n||17===n){var c="location"in t?t.location:t.keyLocation;if(17===n&&1===c)1==a[n]&&(l=t.timeStamp);else if(18===n&&3===r&&2===c){var u=t.timestamp-l;50>u&&(a.altGr=!0)}}}if(n in i.MODIFIER_KEYS&&(n=-1),8&r&&(91===n||93===n)&&(n=-1),!r&&13===n){var c="location"in t?t.location:t.keyLocation;if(3===c&&(e(t,r,-n),t.defaultPrevented))return}if(o.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return r||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS?e(t,r,n):!1}var i=e("./keys"),o=e("./useragent");t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var r=function(){n.call(e,window.event)};n._wrapper=r,e.attachEvent("on"+t,r)}},t.removeListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):void(e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n))},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,r){function i(e){n&&n(e),r&&r(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",i,!0),t.removeListener(document,"dragstart",i,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",i,!0),t.addListener(document,"dragstart",i,!0),i},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,r,i){var s,a,l,c=0,u={2:"dblclick",3:"tripleclick",4:"quadclick"};t.addListener(e,"mousedown",function(e){if(0!==t.getButton(e)?c=0:e.detail>1?(c++,c>4&&(c=1)):c=1,o.isIE){var h=Math.abs(e.clientX-s)>5||Math.abs(e.clientY-a)>5;(!l||h)&&(c=1),l&&clearTimeout(l),l=setTimeout(function(){l=null},n[c-1]||600),1==c&&(s=e.clientX,a=e.clientY)}if(e._clicks=c,r[i]("mousedown",e),c>4)c=0;else if(c>1)return r[i](u[c],e)}),o.isOldIE&&t.addListener(e,"dblclick",function(e){c=2,l&&clearTimeout(l),l=setTimeout(function(){l=null},n[c-1]||600),r[i]("mousedown",e),r[i](u[c],e)})};var s=!o.isMac||!o.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};t.getModifierString=function(e){return i.KEY_MODS[s(e)]};var a=null,l=0;if(t.addCommandKeyListener=function(e,n){var i=t.addListener;if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var s=null;i(e,"keydown",function(e){s=e.keyCode}),i(e,"keypress",function(e){return r(n,e,s)})}else{var l=null;i(e,"keydown",function(e){a[e.keyCode]=(a[e.keyCode]||0)+1;var t=r(n,e,e.keyCode);return l=e.defaultPrevented,t}),i(e,"keypress",function(e){l&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),l=null)}),i(e,"keyup",function(e){a[e.keyCode]=null}),a||(a=Object.create(null),i(window,"focus",function(e){a=Object.create(null)}))}},window.postMessage&&!o.isOldIE){var c=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+c;t.addListener(n,"message",function i(o){o.data==r&&(t.stopPropagation(o),t.removeListener(n,"message",i),e())}),n.postMessage(r,"*")}}t.nextFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;r>n;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function(e){if("object"!=typeof e||!e)return e;var n=e.constructor;if(n===RegExp)return e;var r=n();for(var i in e)"object"==typeof e[i]?r[i]=t.deepCopy(e[i]):r[i]=e[i];return r},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=i.isChrome<18,l=i.isIE,c=function(e,t){function n(e){if(!g){if(g=!0,F)t=0,n=e?0:h.value.length-1;else var t=e?2:1,n=2;try{h.setSelectionRange(t,n)}catch(e){}g=!1}}function c(){g||(h.value=d,i.isWebKit&&w.schedule())}function u(){clearTimeout(N),N=setTimeout(function(){m&&(h.style.cssText=m,m=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},i.isOldIE?200:0)}var h=o.createElement("textarea");h.className="ace_text-input",i.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.setAttribute("wrap","off"),h.setAttribute("autocorrect","off"),h.setAttribute("autocapitalize","off"),h.setAttribute("spellcheck",!1),h.style.opacity="0",i.isOldIE&&(h.style.top="-1000px"),e.insertBefore(h,e.firstChild);var d="",f=!1,p=!1,g=!1,m="",v=!0;try{var y=document.activeElement===h}catch(e){}r.addListener(h,"blur",function(e){t.onBlur(e),y=!1}),r.addListener(h,"focus",function(e){y=!0,t.onFocus(e),n()}),this.focus=function(){return m?h.focus():(h.style.position="fixed",h.style.top="-1000px",h.focus(),void setTimeout(function(){h.style.position=""},0))},this.blur=function(){h.blur()},this.isFocused=function(){return y};var b=s.delayedCall(function(){y&&n(v)}),w=s.delayedCall(function(){g||(h.value=d,y&&n())});i.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,b.schedule())}),c(),y&&t.onFocus();var E=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!h.setSelectionRange&&h.createTextRange&&(h.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},E=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return t&&t.parentElement()==e?t.text==e.value:!1}),i.isOldIE){var C=!1,x=function(e){if(!C){var t=h.value;if(!g&&t&&t!=d){if(e&&t==d[0])return _.schedule();T(t),C=!0,c(),C=!1}}},_=s.delayedCall(x);r.addListener(h,"propertychange",x);var A={13:1,27:1};r.addListener(h,"keyup",function(e){return!g||h.value&&!A[e.keyCode]||setTimeout($,0),(h.value.charCodeAt(0)||0)<129?_.call():void(g?P():I())}),r.addListener(h,"keydown",function(e){_.schedule(50)})}var D=function(e){f?f=!1:E(h)?(t.selectAll(),n()):F&&n(t.selection.isEmpty())},F=null;this.setInputHandler=function(e){F=e},this.getInputHandler=function(){return F};var S=!1,T=function(e){F&&(e=F(e),F=null),p?(n(),e&&t.onPaste(e),p=!1):e==d.charAt(0)?S?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==d?e=e.substr(2):e.charAt(0)==d.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),S&&(S=!1)},R=function(e){if(!g){var t=h.value;T(t),c()}},k=function(e,t){var n=e.clipboardData||window.clipboardData;if(n&&!a){var r=l?"Text":"text/plain";return t?n.setData(r,t)!==!1:n.getData(r)}},M=function(e,i){var o=t.getCopyText();return o?void(k(e,o)?(i?t.onCut():t.onCopy(),r.preventDefault(e)):(f=!0,h.value=o,h.select(),setTimeout(function(){f=!1,c(),n(),i?t.onCut():t.onCopy()}))):r.preventDefault(e)},L=function(e){M(e,!0)},B=function(e){M(e,!1)},O=function(e){var o=k(e);"string"==typeof o?(o&&t.onPaste(o),i.isIE&&setTimeout(n),r.preventDefault(e)):(h.value="",p=!0)};r.addCommandKeyListener(h,t.onCommandKey.bind(t)),r.addListener(h,"select",D),r.addListener(h,"input",R),r.addListener(h,"cut",L),r.addListener(h,"copy",B),r.addListener(h,"paste",O),"oncut"in h&&"oncopy"in h&&"onpaste"in h||r.addListener(e,"keydown",function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:B(e);break;case 86:O(e);break;case 88:L(e)}});var I=function(e){g||!t.onCompositionStart||t.$readOnly||(g={},t.onCompositionStart(),setTimeout(P,0),t.on("mousedown",$),t.selection.isEmpty()||(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},P=function(){if(g&&t.onCompositionUpdate&&!t.$readOnly){var e=h.value.replace(/\x01/g,"");if(g.lastValue!==e&&(t.onCompositionUpdate(e),g.lastValue&&t.undo(),g.lastValue=e,g.lastValue)){var n=t.selection.getRange();t.insert(g.lastValue),t.session.markUndoGroup(),g.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},$=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=g;g=!1;var r=setTimeout(function(){r=null;var e=h.value.replace(/\x01/g,"");g||(e==n.lastValue?c():!n.lastValue&&e&&(c(),T(e)))});F=function(e){return r&&clearTimeout(r),e=e.replace(/\x01/g,""),e==n.lastValue?"":(n.lastValue&&r&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",$),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range)}},j=s.delayedCall(P,50);r.addListener(h,"compositionstart",I),i.isGecko?r.addListener(h,"text",function(){j.schedule()}):(r.addListener(h,"keyup",function(){j.schedule()}),r.addListener(h,"keydown",function(){j.schedule()})),r.addListener(h,"compositionend",$),this.getElement=function(){return h},this.setReadOnly=function(e){h.readOnly=e},this.onContextMenu=function(e){S=!0,n(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,n){if(n||!i.isOldIE){m||(m=h.style.cssText),h.style.cssText=(n?"z-index:100000;":"")+"height:"+h.style.height+";"+(i.isIE?"opacity:0.1;":"");var s=t.container.getBoundingClientRect(),a=o.computedStyle(t.container),l=s.top+(parseInt(a.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),d=s.bottom-l-h.clientHeight-2,f=function(e){h.style.left=e.clientX-c-2+"px",h.style.top=Math.min(e.clientY-l-2,d)+"px"};f(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),i.isWin&&!i.isOldIE&&r.capture(t.container,f,u))}},this.onContextMenuClose=u;var N,U=function(e){t.textInput.onContextMenu(e),u()};r.addListener(t.renderer.scroller,"contextmenu",U),r.addListener(h,"contextmenu",U)};t.TextInput=c}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function i(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return 0>n?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var s=(e("../lib/dom"),e("../lib/event"),e("../lib/useragent"),0);(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,i=e.getButton();if(0!==i){var o=r.getSelectionRange(),s=o.isEmpty();return r.$blockScrolling++,s&&r.selection.moveToPosition(n),r.$blockScrolling--,void r.textInput.onContextMenu(e.domEvent)}return this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var r=this.$clickSelection.comparePoint(n);
if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var i=o(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(n.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(i.start),a=this.$clickSelection.comparePoint(i.end);if(-1==s&&0>=a)t=this.$clickSelection.end,(i.end.row!=r.row||i.end.column!=r.column)&&(r=i.start);else if(1==a&&s>=0)t=this.$clickSelection.start,(i.start.row!=r.row||i.start.column!=r.column)&&(r=i.end);else if(-1==s&&1==a)r=i.end,t=i.start;else{var l=o(this.$clickSelection,r);r=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>s||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return i||200>n?(this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(r.prototype),t.DefaultHandlers=r}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,n){"use strict";function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var i=(e("./lib/oop"),e("./lib/dom"));(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){i.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(r.prototype),t.Tooltip=r}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,n){"use strict";function r(e){function t(){var t=h.getDocumentPosition().row,i=l.$annotations[t];if(!i)return n();var o=s.session.getLength();if(t==o){var a=s.renderer.pixelToScreenCoordinates(0,h.y).row,u=h.$pos;if(a>s.session.documentToScreenRow(u.row,u.column))return n()}if(d!=i)if(d=i.text.join("<br/>"),c.setHtml(d),c.show(),s.on("mousewheel",n),e.$tooltipFollowsMouse)r(h);else{var f=l.$cells[s.session.documentToScreenRow(t,0)].element,p=f.getBoundingClientRect(),g=c.getElement().style;g.left=p.right+"px",g.top=p.bottom+"px"}}function n(){u&&(u=clearTimeout(u)),d&&(c.hide(),d=null,s.removeEventListener("mousewheel",n))}function r(e){c.setPosition(e.x,e.y)}var s=e.editor,l=s.renderer.$gutterLayer,c=new i(s.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(s.isFocused()&&0==t.getButton()){var n=l.getRegion(t);if("foldWidgets"!=n){var r=t.getDocumentPosition().row,i=s.session.selection;if(t.getShiftKey())i.selectTo(r,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(r)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var u,h,d;e.editor.setDefaultHandler("guttermousemove",function(i){var s=i.domEvent.target||i.domEvent.srcElement;return o.hasCssClass(s,"ace_fold-widget")?n():(d&&e.$tooltipFollowsMouse&&r(i),h=i,void(u||(u=setTimeout(function(){u=null,h&&!e.isMousePressed?t():n()},50))))}),a.addListener(s.renderer.$gutter,"mouseout",function(e){h=null,d&&!u&&(u=setTimeout(function(){u=null,n()},50))}),s.on("changeSession",n)}function i(e){l.call(this,e)}var o=e("../lib/dom"),s=e("../lib/oop"),a=e("../lib/event"),l=e("../tooltip").Tooltip;s.inherits(i,l),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),o=this.getHeight();e+=15,t+=15,e+i>n&&(e-=e+i-n),t+o>r&&(t-=20+o),l.prototype.setPosition.call(this,e,t)}}.call(i.prototype),t.GutterHandler=r}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function r(e){function t(e,t){var n=Date.now(),r=!t||e.row!=t.row,o=!t||e.column!=t.column;if(!S||r||o)m.$blockScrolling+=1,m.moveCursorToPosition(e),m.$blockScrolling-=1,S=n,T={x:w,y:E};else{var s=i(T.x,T.y,w,E);s>u?S=null:n-S>=c&&(m.renderer.scrollCursorIntoView(),S=null)}}function n(e,t){var n=Date.now(),r=m.renderer.layerConfig.lineHeight,i=m.renderer.layerConfig.characterWidth,o=m.renderer.scroller.getBoundingClientRect(),s={x:{left:w-o.left,right:o.right-w},y:{top:E-o.top,bottom:o.bottom-E}},a=Math.min(s.x.left,s.x.right),c=Math.min(s.y.top,s.y.bottom),u={row:e.row,column:e.column};2>=a/i&&(u.column+=s.x.left<s.x.right?-3:2),1>=c/r&&(u.row+=s.y.top<s.y.bottom?-1:1);var h=e.row!=u.row,d=e.column!=u.column,f=!t||e.row!=t.row;h||d&&!f?F?n-F>=l&&m.renderer.scrollCursorIntoView(u):F=n:F=null}function r(){var e=_;_=m.renderer.screenToTextCoordinates(w,E),t(_,e),n(_,e)}function h(){x=m.selection.toOrientedRange(),b=m.session.addMarker(x,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(C),r(),C=setInterval(r,20),k=0,s.addListener(document,"mousemove",f)}function d(){clearInterval(C),m.session.removeMarker(b),b=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(x),m.$blockScrolling-=1,m.isFocused()&&!D&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),x=null,_=null,k=0,F=null,S=null,s.removeListener(document,"mousemove",f)}function f(){null==M&&(M=setTimeout(function(){null!=M&&b&&d()},20))}function p(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function g(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],r=a.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o="none";return r&&t.indexOf(i)>=0?o="copy":n.indexOf(i)>=0?o="move":t.indexOf(i)>=0&&(o="copy"),o}var m=e.editor,v=o.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(t){e[t]=this[t]},this),m.addEventListener("mousedown",this.onMouseDown.bind(e));var b,w,E,C,x,_,A,D,F,S,T,R=m.container,k=0;this.onDragStart=function(e){if(this.cancelDrag||!R.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}x=m.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",a.isOpera&&(m.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),a.isOpera&&m.container.removeChild(v),n.clearData(),n.setData("Text",m.session.getTextRange()),D=!0,this.setState("drag")},this.onDragEnd=function(e){if(R.draggable=!1,D=!1,this.setState(null),!m.getReadOnly()){var t=e.dataTransfer.dropEffect;A||"move"!=t||m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){return!m.getReadOnly()&&p(e.dataTransfer)?(w=e.clientX,E=e.clientY,b||h(),k++,e.dataTransfer.dropEffect=A=g(e),s.preventDefault(e)):void 0},this.onDragOver=function(e){return!m.getReadOnly()&&p(e.dataTransfer)?(w=e.clientX,E=e.clientY,b||(h(),k++),null!==M&&(M=null),e.dataTransfer.dropEffect=A=g(e),s.preventDefault(e)):void 0},this.onDragLeave=function(e){return k--,0>=k&&b?(d(),A=null,s.preventDefault(e)):void 0},this.onDrop=function(e){if(_){var t=e.dataTransfer;if(D)switch(A){case"move":x=x.contains(_.row,_.column)?{start:_,end:_}:m.moveText(x,_);break;case"copy":x=m.moveText(x,_,!0)}else{var n=t.getData("Text");x={start:_,end:m.session.insert(_,n)},m.focus(),A=null}return d(),s.preventDefault(e)}},s.addListener(R,"dragstart",this.onDragStart.bind(e)),s.addListener(R,"dragend",this.onDragEnd.bind(e)),s.addListener(R,"dragenter",this.onDragEnter.bind(e)),s.addListener(R,"dragover",this.onDragOver.bind(e)),s.addListener(R,"dragleave",this.onDragLeave.bind(e)),s.addListener(R,"drop",this.onDrop.bind(e));var M=null}function i(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var o=e("../lib/dom"),s=e("../lib/event"),a=e("../lib/useragent"),l=200,c=200,u=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var n=a.isWin?"default":"move";e.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(a.isIE&&"dragReady"==this.state){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if("dragWait"===this.state){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton(),i=e.domEvent.detail||1;if(1===i&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),t.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var s=t.container;s.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(r.prototype),t.DragdropHandler=r}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement("script");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){(n||!i.readyState||"loaded"==i.readyState||"complete"==i.readyState)&&(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,n){"use strict";var r={},i=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;t&&this.addEventListener(e,function r(){n.removeEventListener(e,r),t.apply(null,arguments)})},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var o=i.indexOf(t);-1!=o&&i.splice(o,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t){n[e];r&&this.setDefaultHandler(e,r.pop())}else if(r){var i=r.indexOf(t);-1!=i&&r.splice(i,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"no use strict";function r(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function i(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var o=e("./oop"),s=e("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return r('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:r('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){o.implement(this,s),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)}),o.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=r,this.reportError=i}).call(l.prototype),t.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,n){"no use strict";function r(r){if(c.packaged=r||e.packaged||n.packaged||l.define&&define.packaged,!l.document)return"";for(var o={},s="",a=document.currentScript||document._currentScript,u=a&&a.ownerDocument||document,h=u.getElementsByTagName("script"),d=0;d<h.length;d++){var f=h[d],p=f.src||f.getAttribute("src");if(p){for(var g=f.attributes,m=0,v=g.length;v>m;m++){var y=g[m];0===y.name.indexOf("data-ace-")&&(o[i(y.name.replace(/^data-ace-/,""))]=y.value)}var b=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(s=b[1])}}s&&(o.base=o.base||s,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var w in o)"undefined"!=typeof o[w]&&t.set(w,o[w])}function i(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var o=e("./lib/lang"),s=(e("./lib/oop"),e("./lib/net")),a=e("./lib/app_config").AppConfig;n.exports=t=new a;var l=function(){return this}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return c[e]},t.set=function(e,t){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);c[e]=t},t.all=function(){return o.copyObject(c)},t.moduleUrl=function(e,t){if(c.$moduleUrls[e])return c.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var r="snippets"==t?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(o,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var s=c[t+"Path"];return null==s?s=c.basePath:"/"==r&&(t=r=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return c.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{i=e(n)}catch(e){}if(i&&!t.$loading[n])return r&&r(i);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var a=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach(function(t){t&&t(e)})})};return t.get("packaged")?void s.loadScript(t.moduleUrl(n,o),a):a()}},r(!0),t.init=r}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("../config"),u=function(e){var t=this;this.editor=e,new o(this),new s(this),new l(this);var n=function(t){document.hasFocus&&document.hasFocus()||window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();r.addListener(a,"click",this.onMouseEvent.bind(this,"click")),r.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),r.addMultiMouseDownListener(a,[400,300,250],this,"onMouseEvent"),e.renderer.scrollBarV&&(r.addMultiMouseDownListener(e.renderer.scrollBarV.inner,[400,300,250],this,"onMouseEvent"),r.addMultiMouseDownListener(e.renderer.scrollBarH.inner,[400,300,250],this,"onMouseEvent"),i.isIE&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n),r.addListener(e.renderer.scrollBarH.element,"mousedown",n))),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"));var c=e.renderer.$gutter;r.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),r.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),r.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),r.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),r.addListener(a,"mousedown",n),r.addListener(c,"mousedown",function(t){return e.focus(),r.preventDefault(t)}),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),o=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?o.setCursorStyle("default"):o.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var o=this,s=function(e){if(e){if(i.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new a(e,o.editor),o.$mouseMoved=!0}},l=function(e){clearInterval(u),c(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e)},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});o.$onCaptureMouseMove=s,o.releaseMouse=r.capture(this.editor.container,s,l);var u=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(u.prototype),c.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,n){"use strict";function r(e){e.on("click",function(t){var n=t.getDocumentPosition(),r=e.session,i=r.getFoldAt(n.row,n.column,1);i&&(t.getAccelKey()?r.removeFold(i):r.expandFold(i),t.stop())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session,o=i.getParentFoldRangeData(r,!0),s=o.range||o.firstRange;if(s){r=s.start.row;var a=i.getFoldAt(r,i.getLine(r).length,1);a?i.removeFold(a):(i.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}})}t.FoldHandler=r}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1==t?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r),!(o&&o.command&&(s="null"==o.command?!0:a.exec(o.command,this.$editor,o.args,r),s&&r&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),s))););return s},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){var t=this.$callKeyboardHandlers(-1,e);t||this.$editor.commands.exec("insertstring",this.$editor,e)}}).call(o.prototype),t.KeyBinding=o}),ace.define("ace/range",["require","exports","module"],function(e,t,n){"use strict";var r=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(r.row,r.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(r.row,r.column),-1==t?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return 0==this.compare(e,t)?this.isStart(e,t)?!1:!0:!1},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)var r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=r,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){r.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+e);var t=this.getSelectionAnchor(),n=this.getSelectionLead(),r=this.isBackwards();r&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),
(r||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,t===!0?new s(r,0,n,this.session.getLine(n).length):new s(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),o=i.match(/^\s*/);o[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=o[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,n=this.lead.column,r=this.doc.getLine(t),i=r.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(t,n,1);return o?void this.moveCursorTo(o.end.row,o.end.column):((e=this.session.nonTokenRe.exec(i))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=r.substring(n)),n>=r.length?(this.moveCursorTo(t,r.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight())):((e=this.session.tokenRe.exec(i))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n)))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return void this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var o,s=i.stringReverse(r);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(o=this.session.nonTokenRe.exec(s))&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=n?(this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft())):((o=this.session.tokenRe.exec(s))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n))},this.$shortWordEndIndex=function(e){var t,n,r=0,i=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,t=this.session.tokenRe.exec(e))r=this.session.tokenRe.lastIndex;else{for(;(n=e[r])&&i.test(n);)r++;if(1>r)for(o.lastIndex=0;(n=e[r])&&!o.test(n);)if(o.lastIndex=0,r++,i.test(n)){if(r>2){r--;break}for(;(n=e[r])&&i.test(n);)r++;if(r>2)break}}return o.lastIndex=0,r},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var o=this.doc.getLength();do e++,r=this.doc.getLine(e);while(o>e&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var s=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do t--,r=this.doc.getLine(t);while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var r=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&r.row++,this.moveCursorTo(r.row,r.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e.call(null,this);var n=this.getCursor();return s.fromPoints(t,n)}catch(e){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e.isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,n){"use strict";var r=e("./config"),i=2e3,o=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],r=[],i=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(h>1?c.onMatch=this.$applyToken:c.onMatch=c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+i+1)}):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[i]=l,i+=h,r.push(u),c.onMatch||(c.onMatch=null)}}r.length||(o[0]=0,r.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)},this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var r=[],i=0,o=n.length;o>i;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,o=r.length;o>i;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,o,s,a,l){return r?r="]"!=a:a?r=!0:s?(n==i.stack&&(i.end=l+1,i.stack=-1),n--):o&&(n++,1!=o.length&&(i.stack=n,i.start=l)),e}),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);t=n[0],"#tmp"===t&&(n.shift(),t=n.shift())}else var n=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(e);){var f=s.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=e.substring(u,m-g.length);d.type==f?d.value+=v:(d.type&&c.push(d),d={type:f,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){p=o[s[y]],f=p.onMatch?p.onMatch(g,r,n):p.token,p.next&&(r="string"==typeof p.next?p.next:p.next(r,n),o=this.states[r],o||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),s=this.matchMappings[r],u=m,a=this.regExps[r],a.lastIndex=m);break}if(g)if("string"==typeof f)p&&p.merge===!1||d.type!==f?(d.type&&c.push(d),d={type:f,value:g}):d.value+=g;else if(f){d.type&&c.push(d),d={type:null,value:""};for(var y=0;y<f.length;y++)c.push(f[y])}if(u==e.length)break;if(u=m,h++>i){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=2e3),type:"overflow"};r="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=r.reportError}).call(o.prototype),t.Tokenizer=o}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var o=r[i];(o.next||o.onMatch)&&("string"!=typeof o.next?o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState):0!==o.next.indexOf(t)&&(o.next=t+o.next))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,o){var s="function"==typeof e?(new e).getRules():e;if(i)for(var a=0;a<i.length;a++)i[a]=t+i[a];else{i=[];for(var l in s)i.push(t+l)}if(this.addRules(s,t),n)for(var c=Array.prototype[o?"push":"unshift"],a=0;a<i.length;a++)c.apply(this.$rules[i[a]],r.deepCopy(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(o){var s=i[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var u=l.stateName;u||(u=l.token,"string"!=typeof u&&(u=u[0]||""),i[u]&&(u+=r++)),i[u]=c,l.next=u,n(u)}else"pop"==c&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var h in l.rules)i[h]?i[h].push&&i[h].push.apply(i[h],l.rules[h]):i[h]=l.rules[h];if(l.include||"string"==typeof l)var d=l.include||l,f=i[d];else Array.isArray(l)&&(f=l);if(f){var p=[a,1].concat(f);l.noEscape&&(p=p.filter(function(e){return!e.next})),s.splice.apply(s,p),a--,f=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var r=0,i=this.$rules;Object.keys(i).forEach(n,this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return Object.keys(e).forEach(function(t){var o=e[t];n&&(o=o.toLowerCase());for(var s=o.split(r||"|"),a=s.length;a--;)i[s[a]]=t}),Object.getPrototypeOf(i)&&(i.__proto__=null),this.$keywordList=Object.keys(i),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(r.prototype),t.Behaviour=r}),ace.define("ace/unicode",["require","exports","module"],function(e,t,n){"use strict";function r(e){var n=/\w{4}/g;for(var r in e)t.packages[r]=e[r].replace(n,"\\u$&")}t.packages={},r({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/token_iterator",["require","exports","module"],function(e,t,n){"use strict";var r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n}}).call(r.prototype),t.TokenIterator=r}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var r=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour").Behaviour,s=e("../unicode"),a=e("../lib/lang"),l=e("../token_iterator").TokenIterator,c=e("../range").Range,u=function(){this.HighlightRules=i,this.$behaviour=new o};(function(){this.tokenRe=new RegExp("^["+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules,this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){function i(e){for(var t=n;r>=t;t++)e(o.getLine(t),t)}var o=t.doc,s=!0,l=!0,c=1/0,u=t.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var d=this.lineCommentStart.map(a.escapeRegExp).join("|"),f=this.lineCommentStart[0];else var d=a.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;d=new RegExp("^(\\s*)(?:"+d+") ?"),h=t.getUseSoftTabs();var p=function(e,t){var n=e.match(d);if(n){var r=n[1].length,i=n[0].length;y(e,r,i)||" "!=n[0][i-1]||i--,o.removeInLine(t,r,i)}},g=f+" ",m=function(e,t){(!s||/\S/.test(e))&&(y(e,c,c)?o.insertInLine({row:t,column:c},g):o.insertInLine({row:t,column:c},f))},v=function(e,t){return d.test(e)},y=function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%u!=0)return!1;for(var r=0;" "==e.charAt(n++);)r++;return u>2?r%u!=u-1:r%u==0}}else{if(!this.blockComment)return!1;var f=this.blockComment.start,b=this.blockComment.end,d=new RegExp("^(\\s*)(?:"+a.escapeRegExp(f)+")"),w=new RegExp("(?:"+a.escapeRegExp(b)+")\\s*$"),m=function(e,t){v(e,t)||(!s||/\S/.test(e))&&(o.insertInLine({row:t,column:e.length},b),o.insertInLine({row:t,column:c},f))},p=function(e,t){var n;(n=e.match(w))&&o.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(d))&&o.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(d.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}var E=1/0;i(function(e,t){var n=e.search(/\S/);-1!==n?(c>n&&(c=n),l&&!v(e,t)&&(l=!1)):E>e.length&&(E=e.length)}),c==1/0&&(c=E,s=!1,l=!1),h&&c%u!=0&&(c=Math.floor(c/u)*u),i(l?p:m)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var o,s,a=new l(t,r.row,r.column),u=a.getCurrentToken(),h=(t.selection,t.selection.toOrientedRange());if(u&&/comment/.test(u.type)){for(var d,f;u&&/comment/.test(u.type);){var p=u.value.indexOf(i.start);if(-1!=p){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+p;d=new c(g,m,g,m+i.start.length);break}u=a.stepBackward()}for(var a=new l(t,r.row,r.column),u=a.getCurrentToken();u&&/comment/.test(u.type);){var p=u.value.indexOf(i.end);if(-1!=p){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+p;f=new c(g,m,g,m+i.end.length);break}u=a.stepForward()}f&&t.remove(f),d&&(t.remove(d),o=d.start.row,s=-i.start.length)}else s=i.start.length,o=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);h.start.row==o&&(h.start.column+=s),h.end.row==o&&(h.end.column+=s),t.selection.fromOrientedRange(h)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<n.length;t++)!function(e){var r=n[t],i=e[r];e[n[t]]=function(){return this.$delegator(r,arguments,i)}}(this)},this.$delegator=function(e,t,n){var r=t[0];"string"!=typeof r&&(r=r[0]);for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var o=r.split(this.$embeds[i]);if(!o[0]&&o[1]){t[0]=o[1];var s=this.$modes[this.$embeds[i]];return s[e].apply(s,t)}}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var i=t[r],o=0,s=i.length;s>o;o++)if("string"==typeof i[o].token)/keyword|support|storage/.test(i[o].token)&&n.push(i[o].regex);else if("object"==typeof i[o].token)for(var a=0,l=i[o].token.length;l>a;a++)if(/keyword|support|storage/.test(i[o].token[a])){var r=i[o].regex.match(/\(.+?\)/g)[a];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){var i=this.$keywordList||this.$createKeywordList();return i.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var t=e.data,n=t.range;if((n.start.row!=n.end.row||n.start.row==this.row)&&!(n.start.row>this.row||n.start.row==this.row&&n.start.column>this.column)){var r=this.row,i=this.column,o=n.start,s=n.end;"insertText"===t.action?o.row===r&&o.column<=i?o.column===i&&this.$insertRight||(o.row===s.row?i+=s.column-o.column:(i-=o.column,r+=s.row-o.row)):o.row!==s.row&&o.row<r&&(r+=s.row-o.row):"insertLines"===t.action?o.row===r&&0===i&&this.$insertRight||o.row<=r&&(r+=s.row-o.row):"removeText"===t.action?o.row===r&&o.column<i?i=s.column>=i?o.column:Math.max(0,i-(s.column-o.column)):o.row!==s.row&&o.row<r?(s.row===r&&(i=Math.max(0,i-s.column)+o.column),r-=s.row-o.row):s.row===r&&(r-=s.row-o.row,i=Math.max(0,i-s.column)+o.column):"removeLines"==t.action&&o.row<=r&&(s.row<=r?r-=s.row-o.row:(r=o.row,i=0)),this.setPosition(r,i,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):0>e?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),0>t&&(n.column=0),n}}).call(o.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=e("./anchor").Anchor,a=function(e){this.$lines=[],0===e.length?this.$lines=[""]:Array.isArray(e)?this._insertLines(0,e):this.insert({row:0,column:0},e)};(function(){r.implement(this,i),this.setValue=function(e){var t=this.getLength();this.remove(new o(0,0,t,this.getLine(t-1).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new s(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){if(e.start.row==e.end.row)return this.getLine(e.start.row).substring(e.start.column,e.end.column);var t=this.getLines(e.start.row,e.end.row);t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;return e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column)),t.join(this.getNewLineCharacter())},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):e.row<0&&(e.row=0),e},this.insert=function(e,t){if(!t||0===t.length)return e;e=this.$clipPosition(e),this.getLength()<=1&&this.$detectNewLine(t);var n=this.$split(t),r=n.splice(0,1)[0],i=0==n.length?null:n.splice(n.length-1,1)[0];return e=this.insertInLine(e,r),null!==i&&(e=this.insertNewLine(e),e=this._insertLines(e.row,n),e=this.insertInLine(e,i||"")),e},this.insertLines=function(e,t){return e>=this.getLength()?this.insert({row:e,column:0},"\n"+t.join("\n")):this._insertLines(Math.max(e,0),t)},this._insertLines=function(e,t){if(0==t.length)return{row:e,column:0};for(;t.length>2e4;){var n=this._insertLines(e,t.slice(0,2e4));t=t.slice(2e4),e=n.row}var r=[e,0];r.push.apply(r,t),this.$lines.splice.apply(this.$lines,r);var i=new o(e,0,e+t.length,0),s={action:"insertLines",range:i,lines:t};return this._signal("change",{data:s}),i.end},this.insertNewLine=function(e){e=this.$clipPosition(e);var t=this.$lines[e.row]||"";this.$lines[e.row]=t.substring(0,e.column),this.$lines.splice(e.row+1,0,t.substring(e.column,t.length));var n={row:e.row+1,column:0},r={action:"insertText",range:o.fromPoints(e,n),text:this.getNewLineCharacter()};return this._signal("change",{data:r}),n},this.insertInLine=function(e,t){if(0==t.length)return e;var n=this.$lines[e.row]||"";this.$lines[e.row]=n.substring(0,e.column)+t+n.substring(e.column);var r={row:e.row,column:e.column+t.length},i={action:"insertText",range:o.fromPoints(e,r),text:t};return this._signal("change",{data:i}),r},this.remove=function(e){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),e.start=this.$clipPosition(e.start),e.end=this.$clipPosition(e.end),e.isEmpty())return e.start;var t=e.start.row,n=e.end.row;if(e.isMultiLine()){var r=0==e.start.column?t:t+1,i=n-1;e.end.column>0&&this.removeInLine(n,0,e.end.column),i>=r&&this._removeLines(r,i),r!=t&&(this.removeInLine(t,e.start.column,this.getLine(t).length),this.removeNewLine(e.start.row))}else this.removeInLine(t,e.start.column,e.end.column);return e.start},this.removeInLine=function(e,t,n){if(t!=n){var r=new o(e,t,e,n),i=this.getLine(e),s=i.substring(t,n),a=i.substring(0,t)+i.substring(n,i.length);this.$lines.splice(e,1,a);var l={action:"removeText",range:r,text:s};return this._signal("change",{data:l}),r.start}},this.removeLines=function(e,t){return 0>e||t>=this.getLength()?this.remove(new o(e,0,t+1,0)):this._removeLines(e,t)},this._removeLines=function(e,t){var n=new o(e,0,t+1,0),r=this.$lines.splice(e,t-e+1),i={action:"removeLines",range:n,nl:this.getNewLineCharacter(),lines:r};return this._signal("change",{data:i}),r},this.removeNewLine=function(e){var t=this.getLine(e),n=this.getLine(e+1),r=new o(e,t.length,e+1,0),i=t+n;this.$lines.splice(e,2,i);var s={action:"removeText",range:r,text:this.getNewLineCharacter()};this._signal("change",{data:s})},this.replace=function(e,t){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),0==t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;if(this.remove(e),t)var n=this.insert(e.start,t);else n=e.start;return n},this.applyDeltas=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=o.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this.insertLines(r.start.row,n.lines):"insertText"==n.action?this.insert(r.start,n.text):"removeLines"==n.action?this._removeLines(r.start.row,r.end.row-1):"removeText"==n.action&&this.remove(r)}},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t],r=o.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this._removeLines(r.start.row,r.end.row-1):"insertText"==n.action?this.remove(r):"removeLines"==n.action?this._insertLines(r.start.row,n.lines):"removeText"==n.action&&this.insert(r.start,n.text)}},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,o=n.length;o>i;i++)if(e-=n[i].length+r,0>e)return{row:i,column:e+n[i].length+r};return{row:o-1,column:n[o-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,o=Math.min(e.row,n.length),s=t||0;o>s;++s)i+=n[s].length+r;return i+e.column}}).call(a.prototype),t.Document=a}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,r=-1,i=n.doc;n.lines[t];)t++;var o=t,s=i.getLength(),a=0;for(n.running=!1;s>t;){n.$tokenizeRow(t),r=t;do t++;while(n.lines[t]);if(a++,a%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,r>=o&&n.fireUpdateEvent(o,r)}}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.range,n=t.start.row,r=t.end.row-n;if(0===r)this.lines[n]=null;else if("removeText"==e.action||"removeLines"==e.action)this.lines.splice(n,r+1,null),this.states.splice(n,r+1,null);else{var i=Array(r+1);i.unshift(n,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(o.prototype),t.BackgroundTokenizer=o}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var r=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;a>=l;l++){var c=this.cache[l];null==c&&(c=r.getMatchOffsets(n.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new i(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,n){"use strict";function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var i=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,i,o,s=0,a=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;c<a.length;c++){if(r=a[c],i=r.range.compareStart(t,n),-1==i)return void e(null,t,n,s,l);if(o=e(null,r.start.row,r.start.column,s,l),o=!o&&e(r.placeholder,r.start.row,r.start.column,s),o||0===i)return;l=!r.sameRow,s=r.end.column}e(null,t,n,s,l)},this.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(n=this.folds[i],r=n.range.compareEnd(e,t),-1==r)return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,i,o=this.getNextFoldTo(e,t);if(o)if(r=o.fold,"inside"==o.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){i=this.folds;var s=i.indexOf(r);for(0===s&&(this.start.column+=n),s;s<i.length;s++){if(r=i[s],r.start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=n.fold,o=this.folds,s=this.foldData,a=o.indexOf(i),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column,o=o.splice(a,o.length-a);var c=new r(s,o);return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if(e-=r.start.column-t,0>e)return{row:r.start.row,column:r.start.column+e};if(e-=r.placeholder.length,0>e)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("./range").Range,i=r.comparePoints,o=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var s=r[o],a=i(e,s.end);if(!(a>0)){var l=i(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);0>n&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return 0>r?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.call(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges.splice(t,1):void 0},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){
return i(e.start,t.start)});for(var n,r=t[0],o=1;o<t.length;o++){n=r,r=t[o];var s=i(n.end,r.start);0>s||(0!=s||n.isEmpty()||r.isEmpty())&&(i(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),t.splice(o,1),e.push(r),r=n,o--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges[t]:void 0},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});0>r&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);0>i&&(i=-i-1);for(var o=[],s=r;i>s;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){var t=e.data.range;if("i"==e.data.action[0])var n=t.start,r=t.end;else var r=t.start,n=t.end;for(var i=n.row,o=r.row,s=o-i,a=-n.column+r.column,l=this.ranges,c=0,u=l.length;u>c;c++){var h=l[c];if(!(h.end.row<i)){if(h.start.row>i)break;if(h.start.row==i&&h.start.column>=n.column&&(h.start.column==n.column&&this.$insertRight||(h.start.column+=a,h.start.row+=s)),h.end.row==i&&h.end.column>=n.column){if(h.end.column==n.column&&this.$insertRight)continue;h.end.column==n.column&&a>0&&u-1>c&&h.end.column>h.start.column&&h.end.column==l[c+1].start.column&&(h.end.column-=a),h.end.column+=a,h.end.row+=s}}}if(0!=s&&u>c)for(;u>c;c++){var h=l[c];h.start.row+=s,h.end.row+=s}}}).call(o.prototype),t.RangeList=o}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,n){"use strict";function r(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function i(e,t){r(e.start,t),r(e.end,t)}function o(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function s(e,t){o(e.start,t),o(e.end,t)}var a=(e("../range").Range,e("../range_list").RangeList),l=e("../lib/oop"),c=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};l.inherits(c,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new c(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);i(e,this.start);for(var t=e.start.row,n=e.start.column,r=0,o=-1;r<this.subFolds.length&&(o=this.subFolds[r].range.compare(t,n),1==o);r++);var s=this.subFolds[r];if(0==o)return s.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,a=r,o=-1;a<this.subFolds.length&&(o=this.subFolds[a].range.compare(t,n),1==o);a++);this.subFolds[a];if(0==o)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(r,a-r,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return s(e,this.start)}}.call(c.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,n){"use strict";function r(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var s=i[o];if(s.range.contains(e,t)){if(1==n&&s.range.isEnd(e,t))continue;if(-1==n&&s.range.isStart(e,t))continue;return s}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var s=r[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=r[o].folds,l=0;l<a.length;l++){var c=a[l];if(s=c.range.compareRange(e),-2==s)break;if(2!=s){if(42==s)break;i.push(c)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(r=r||this.getFoldLine(e),!r)return null;for(var i,o,s={end:{column:0}},a=0;a<r.folds.length;a++){o=r.folds[a];var l=o.range.compareEnd(e,t);if(-1==l){i=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return i||(i=this.getLine(o.start.row).substring(s.end.column)),-1==n?i.substring(0,t-s.end.column):1==n?i.substring(t-s.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0),r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0),r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var o=n[i],s=o.end.row,a=o.start.row;if(s>=t){t>a&&(a>=e?r-=t-a:r=0);break}s>=e&&(r-=a>=e?s-a:s-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,r=this.$foldData,i=!1;e instanceof s?n=e:(n=new s(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column;if(!(c>a||a==c&&u-2>=l))throw new Error("The range has to be at least 2 characters width");var h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),f.forEach(function(e){n.addSubFold(e)}));for(var p=0;p<r.length;p++){var g=r[p];if(c==g.start.row){g.addFold(n),i=!0;break}if(a==g.end.row){if(g.addFold(n),i=!0,!n.sameRow){var m=r[p+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return i||(g=this.$addFoldLine(new o(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._emit("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,o=t.folds;if(1==o.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);o=s.folds,o.shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._emit("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),t)this.removeFolds(r);else for(var o=r;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);return r.length?r:void 0},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk(function(e,t,n,a){if(!(r>t)){if(t==r){if(i>n)return;a=Math.max(i,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}},t,n),s},this.getDisplayLine=function(e,t,n,r){var i=this.getFoldLine(e);if(i)return this.getFoldDisplayLine(i,e,t,n,r);var o;return o=this.doc.getLine(e),o.substring(r||0,t||o.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new o(e,n)})},this.toggleFold=function(e){var t,n,r=this.selection,i=r.getRange();if(i.isEmpty()){var o=i.start;if(t=this.getFoldAt(o.row,o.column))return void this.expandFold(t);(n=this.findMatchingBracket(o))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(o.row,o.column)||i}else{var s=this.getFoldsInRange(i);if(e&&s.length)return void this.expandFolds(s);1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())return void this.expandFold(t);var a="...";if(!i.isMultiLine()){if(a=this.getTextRange(i),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,i)},this.getCommentFoldRange=function(e,t,n){var r=new a(this,e,t),o=r.getCurrentToken();if(o&&/^comment|string/.test(o.type)){var s=new i,l=new RegExp(o.type.replace(/\..*/,"\\."));if(1!=n){do o=r.stepBackward();while(o&&l.test(o.type));r.stepForward()}if(s.start.row=r.getCurrentTokenRow(),s.start.column=r.getCurrentTokenColumn()+2,r=new a(this,e,t),-1!=n){do o=r.stepForward();while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return s.end.row=r.getCurrentTokenRow(),s.end.column=r.getCurrentTokenColumn()+o.value.length-2,s}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength(),e=e||0;for(var i=e;t>i;i++)if(null==r[i]&&(r[i]=this.getFoldWidget(i)),"start"==r[i]){var o=this.getFoldWidgetRange(i);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){i=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=n)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._emit("changeAnnotation"),!e||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,i=e-1;i>=0;){var o=n[i];if(null==o&&(o=n[i]=this.getFoldWidget(i)),"start"==o){var s=this.getFoldWidgetRange(i);if(r||(r=s),s&&s.end.row>=e)break}i--}return{range:-1!==i&&s,firstRange:r}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,n);if(!r){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,o=this.getFoldAt(e,-1===i?0:r.length,i);if(o)return void(t.children||t.all?this.removeFold(o):this.expandFold(o));var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1),o&&s.isEqual(o.range)))return void this.removeFold(o);if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.data,n=t.range,r=n.start.row,i=n.end.row-r;if(0===i)this.foldWidgets[r]=null;else if("removeText"==t.action||"removeLines"==t.action)this.foldWidgets.splice(r,i+1,null);else{var o=Array(i+1);o.unshift(r,1),this.foldWidgets.splice.apply(this.foldWidgets,o)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=e("../range").Range,o=e("./fold_line").FoldLine,s=e("./fold").Fold,a=e("../token_iterator").TokenIterator;t.Folding=r}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,n){"use strict";function r(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,i=n.charAt(e.column-1),s=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(s||(i=n.charAt(e.column),e={row:e.row,column:e.column+1},s=i&&i.match(/([\(\[\{])|([\)\]\}])/),r=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],e);if(!a)return null;t=o.fromPoints(e,a),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a=this.$findOpeningBracket(s[2],e);if(!a)return null;t=o.fromPoints(a,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end|start|begin)\b/,"")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do a=s.stepBackward();while(a&&!n.test(a.type));if(null==a)break;c=a.value,l=c.length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:end|start|begin)\b/,"")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;u>l;){var h=c.charAt(l);if(h==r){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(o+=1);l+=1}do a=s.stepForward();while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var i=e("../token_iterator").TokenIterator,o=e("../range").Range;t.BracketMatch=r}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./config"),s=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,l=e("./mode/text").Mode,c=e("./range").Range,u=e("./document").Document,h=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,f=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new a(this),o.resetOptions(this),this.setMode(t),o._signal("session",this)};(function(){function e(e){return 4352>e?!1:e>=4352&&4447>=e||e>=4515&&4519>=e||e>=4602&&4607>=e||e>=9001&&9002>=e||e>=11904&&11929>=e||e>=11931&&12019>=e||e>=12032&&12245>=e||e>=12272&&12283>=e||e>=12288&&12350>=e||e>=12353&&12438>=e||e>=12441&&12543>=e||e>=12549&&12589>=e||e>=12593&&12686>=e||e>=12688&&12730>=e||e>=12736&&12771>=e||e>=12784&&12830>=e||e>=12832&&12871>=e||e>=12880&&13054>=e||e>=13056&&19903>=e||e>=19968&&42124>=e||e>=42128&&42182>=e||e>=43360&&43388>=e||e>=44032&&55203>=e||e>=55216&&55238>=e||e>=55243&&55291>=e||e>=63744&&64255>=e||e>=65040&&65049>=e||e>=65072&&65106>=e||e>=65108&&65126>=e||e>=65128&&65131>=e||e>=65281&&65376>=e||e>=65504&&65510>=e}r.implement(this,s),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;r>=n;){var i=n+r>>1,o=e[i];if(t>o)n=i+1;else{if(!(o>t))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){var t=e.data;this.$modified=!0,this.$resetRowCache(t.range.start.row);var n=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||t.ignore||(this.$deltasDoc.push(t),n&&0!=n.length&&this.$deltasFold.push({action:"removeFolds",folds:n}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t)o=r.length-1,i=this.getLine(e).length;else for(var o=0;o<r.length&&(i+=r[o].value.length,!(i>=t));o++);return(n=r[o])?(n.index=o,n.start=i-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=o,this._signal("changeFrontMarker")):(this.$backMarkers[i]=o,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new c(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine="\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var i=/\s/;else var i=this.nonTokenRe;var o=t;if(o>0){do o--;while(o>=0&&n.charAt(o).match(i));o++}for(var s=t;s<n.length&&n.charAt(s).match(i);)s++;return new c(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[r]&&!n?(this.$onChangeMode(this.$modes[r]),void(t&&t())):(this.$modeId=r,o.loadModule(["mode",r],function(e){return this.$modeId!==r?t&&t():(this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),void(t&&t()))}.bind(this)),void(this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)))},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var r=this.onReloadTokenizer.bind(this);n.addEventListener("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new h(n);var i=this;this.bgTokenizer.addEventListener("update",function(e){i._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,o=this.$foldData[i],s=o?o.start.row:1/0,a=t.length,l=0;a>l;l++){if(l>s){if(l=o.end.row+1,l>=a)break;o=this.$foldData[i++],s=o?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>r&&(r=n[l])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=e.length-1;-1!=r;r--){var i=e[r];"doc"==i.group?(this.doc.revertDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!0,n)):i.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=0;r<e.length;r++){var i=e[r];"doc"==i.group&&(this.doc.applyDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function r(e){var n="insertText"===e.action||"insertLines"===e.action;return t?!n:n}var i,o,s=e[0],a=!1;r(s)?(i=c.fromPoints(s.range.start,s.range.end),a=!0):(i=c.fromPoints(s.range.start,s.range.start),a=!1);for(var l=1;l<e.length;l++)s=e[l],r(s)?(o=s.range.start,-1==i.compare(o.row,o.column)&&i.setStart(s.range.start),o=s.range.end,1==i.compare(o.row,o.column)&&i.setEnd(s.range.end),a=!0):(o=s.range.start,-1==i.compare(o.row,o.column)&&(i=c.fromPoints(s.range.start,s.range.start)),a=!1);if(null!=n){0===c.comparePoints(n.start,i.start)&&(n.start.column+=i.end.column-i.start.column,n.end.column+=i.end.column-i.start.column);var u=n.compareRange(i);1==u?i.setStart(n.start):-1==u&&i.setEnd(n.end)}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),o=c.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row,a=s?-e.end.column:e.start.column-e.end.column;a&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=a),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=a)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,r),i.length){var l=e.start,u=o.start,s=u.row-l.row,a=u.column-l.column;this.addFolds(i.map(function(e){return e=e.clone(),e.start.row==l.row&&(e.start.column+=a),e.end.row==l.row&&(e.end.column+=a),e.start.row+=s,e.end.row+=s,e}))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;t>=r;r++)this.insert({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new c(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var o=this.getLine(i);n.start.row=i,n.end.row=i;for(var s=0;r>s&&" "==o.charAt(s);++s);r>s&&"	"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),0>n){var r=this.getRowFoldStart(e+n);if(0>r)return 0;var i=r-e}else if(n>0){var r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;var i=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var i=t-e+1}var o=new c(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map(function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e}),a=0==n?this.doc.getLines(e,t):this.doc.removeLines(e,t);return this.doc.insertLines(e+i,a),s.length&&this.addFolds(s),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return 0>t?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),0>e)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,
e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t,n=this.$useWrapMode,r=e.data.action,i=e.data.range.start.row,o=e.data.range.end.row,s=e.data.range.start,a=e.data.range.end,l=null;if(-1!=r.indexOf("Lines")?(o="insertLines"==r?i+e.data.lines.length:i,t=e.data.lines?e.data.lines.length:o-i):t=o-i,this.$updating=!0,0!=t)if(-1!=r.indexOf("remove")){this[n?"$wrapData":"$rowLengthCache"].splice(i,t);var c=this.$foldData;l=this.getFoldsInRange(e.data.range),this.removeFolds(l);var u=this.getFoldLine(a.row),h=0;if(u){u.addRemoveChars(a.row,a.column,s.column-a.column),u.shiftRow(-t);var d=this.getFoldLine(i);d&&d!==u&&(d.merge(u),u=d),h=c.indexOf(u)+1}for(h;h<c.length;h++){var u=c[h];u.start.row>=a.row&&u.shiftRow(-t)}o=i}else{var f=Array(t);f.unshift(i,0);var p=n?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,f);var c=this.$foldData,u=this.getFoldLine(i),h=0;if(u){var g=u.range.compareInside(s.row,s.column);0==g?(u=u.split(s.row,s.column),u&&(u.shiftRow(t),u.addRemoveChars(o,0,a.column-s.column))):-1==g&&(u.addRemoveChars(i,0,a.column-s.column),u.shiftRow(t)),h=c.indexOf(u)+1}for(h;h<c.length;h++){var u=c[h];u.start.row>=i&&u.shiftRow(t)}}else{t=Math.abs(e.data.range.start.column-e.data.range.end.column),-1!=r.indexOf("remove")&&(l=this.getFoldsInRange(e.data.range),this.removeFolds(l),t=-t);var u=this.getFoldLine(i);u&&u.addRemoveChars(i,s.column,t)}return n&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,n?this.$updateWrapData(i,o):this.$updateRowLengthCache(i,o),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n,r,i=this.doc.getAllLines(),o=this.getTabSize(),s=this.$wrapData,l=this.$wrapLimit,c=e;for(t=Math.min(t,i.length-1);t>=c;)r=this.getFoldLine(c,r),r?(n=[],r.walk(function(e,t,r,o){var s;if(null!=e){s=this.$getDisplayTokens(e,n.length),s[0]=a;for(var l=1;l<s.length;l++)s[l]=u}else s=this.$getDisplayTokens(i[t].substring(o,r),n.length);n=n.concat(s)}.bind(this),r.end.row,i[r.end.row].length+1),s[r.start.row]=this.$computeWrapSplits(n,l,o),c=r.end.row+1):(n=this.$getDisplayTokens(i[c]),s[c]=this.$computeWrapSplits(n,l,o),c++)};var t=1,n=2,a=3,u=4,f=9,p=10,g=11,m=12;this.$computeWrapSplits=function(e,t){function r(t){var n=e.slice(s,t),r=n.length;n.join("").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),l+=r,i.push(l),s=t}if(0==e.length)return[];for(var i=[],o=e.length,s=0,l=0,c=this.$wrapAsCode;o-s>t;){var h=s+t;if(e[h-1]>=p&&e[h]>=p)r(h);else if(e[h]!=a&&e[h]!=u){for(var d=Math.max(h-(c?10:t-(t>>2)),s-1);h>d&&e[h]<a;)h--;if(c){for(;h>d&&e[h]<a;)h--;for(;h>d&&e[h]==f;)h--}else for(;h>d&&e[h]<p;)h--;h>d?r(++h):(h=s+t,e[h]==n&&h--,r(h))}else{for(h;h!=s-1&&e[h]!=a;h--);if(h>s){r(h);continue}for(h=s+t;h<e.length&&e[h]==u;h++);if(h==e.length)break;r(h)}}return i},this.$getDisplayTokens=function(r,i){var o,s=[];i=i||0;for(var a=0;a<r.length;a++){var l=r.charCodeAt(a);if(9==l){o=this.getScreenTabSize(s.length+i),s.push(g);for(var c=1;o>c;c++)s.push(m)}else 32==l?s.push(p):l>39&&48>l||l>57&&64>l?s.push(f):l>=4352&&e(l)?s.push(t,n):s.push(t)}return s},this.$getStringScreenWidth=function(t,n,r){if(0==n)return[0,0];null==n&&(n=1/0),r=r||0;var i,o;for(o=0;o<t.length&&(i=t.charCodeAt(o),r+=9==i?this.getScreenTabSize(r):i>=4352&&e(i)?2:1,!(r>n));o++);return[r,o]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(0>e)return{row:0,column:0};var n,r,i=0,o=0,s=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var s=l[c],i=this.$docRowCache[c],h=e>l[u-1];else var h=!u;for(var d=this.getLength()-1,f=this.getNextFoldLine(i),p=f?f.start.row:1/0;e>=s&&(a=this.getRowLength(i),!(s+a>e||i>=d));)s+=a,i++,i>p&&(i=f.end.row+1,f=this.getNextFoldLine(i,f),p=f?f.start.row:1/0),h&&(this.$docRowCache.push(i),this.$screenRowCache.push(s));if(f&&f.start.row<=i)n=this.getFoldDisplayLine(f),i=f.start.row;else{if(e>=s+a||i>d)return{row:d,column:this.getLine(d).length};n=this.getLine(i),f=null}if(this.$useWrapMode){var g=this.$wrapData[i];if(g){var m=Math.floor(e-s);r=g[m],m>0&&g.length&&(o=g[m-1]||g[g.length-1],n=n.substring(o))}}return o+=this.$getStringScreenWidth(n,t)[1],this.$useWrapMode&&o>=r&&(o=r-1),f?f.idxToPosition(o):{row:i,column:o}},this.documentToScreenPosition=function(e,t){if("undefined"==typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,o=null;o=this.getFoldAt(e,t,1),o&&(e=o.start.row,t=o.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var a=l[c],r=this.$screenRowCache[c],h=e>l[u-1];else var h=!u;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;e>a;){if(a>=f){if(s=d.end.row+1,s>e)break;d=this.getNextFoldLine(s,d),f=d?d.start.row:1/0}else s=a+1;r+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var p="";if(d&&a>=f?(p=this.getFoldDisplayLine(d,e,t),i=d.start.row):(p=this.getLine(e).substring(0,t),i=e),this.$useWrapMode){var g=this.$wrapData[i];if(g){for(var m=0;p.length>=g[m];)r++,m++;p=p.substring(g[m-1]||0,p.length)}}return{row:r,column:this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,i=0,t=this.$foldData[i++],o=t?t.start.row:1/0;n>r;){var s=this.$wrapData[r];e+=s?s.length+1:1,r++,r>o&&(r=t.end.row+1,t=this.$foldData[i++],o=t?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,i=0;i<a.length;i++)t=a[i],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(f.prototype),e("./edit_session/folding").Folding.call(f.prototype),e("./edit_session/bracket_match").BracketMatch.call(f.prototype),o.defineOptions(f.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=f}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var r=e("./lib/lang"),i=e("./lib/oop"),o=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach(function(e,n,i){if(e.start)r=e;else{var s=e.offset+(i||0);if(r=new o(n,s,n,s+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))return r=null,!1}return!0}),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=i.length-c;e:for(var h=a.offset||0;u>=h;h++){for(var d=0;c>d;d++)if(-1==i[h+d].search(a[d]))continue e;var f=i[h],p=i[h+c-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>g||(s.push(l=new o(h,g,h+c-1,m)),c>2&&(h=h+c-2))}}else for(var v=0;v<i.length;v++)for(var y=r.getMatchOffsets(i[v],a),d=0;d<y.length;d++){var b=y[d];s.push(new o(v,b.offset,v,b.offset+b.length))}if(n){for(var w=n.start.column,E=n.start.column,v=0,d=s.length-1;d>v&&s[v].start.column<w&&s[v].start.row==n.start.row;)v++;for(;d>v&&s[d].end.column>E&&s[d].end.row==n.end.row;)d--;for(s=s.slice(v,d+1),v=0,d=s.length;d>v;v++)s[v].start.row+=n.start.row,s[v].end.row+=n.start.row}return s},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i;if(t.$isMultiLine)var s=n.length,a=function(t,r,a){var l=t.search(n[0]);if(-1!=l){for(var c=1;s>c;c++)if(t=e.getLine(r+c),-1==t.search(n[c]))return;var u=t.match(n[s-1])[0].length,h=new o(r,l,r+s-1,u);return 1==n.offset?(h.start.row--,h.start.column=Number.MAX_VALUE):a&&(h.start.column+=a),i(h)?!0:void 0}};else if(t.backwards)var a=function(e,t,o){for(var s=r.getMatchOffsets(e,n),a=s.length-1;a>=0;a--)if(i(s[a],t,o))return!0};else var a=function(e,t,o){for(var s=r.getMatchOffsets(e,n),a=0;a<s.length;a++)if(i(s[a],t,o))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){i=e,l.forEach(a)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n="\\b"+n+"\\b");var i=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var o=new RegExp(n,i)}catch(e){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(e){return!1}return""==n[0]?(r.shift(),r.offset=1):r.offset=0,r},this.$lineIterator=function(e,t){var n=1==t.backwards,r=0!=t.skipCurrent,i=t.range,o=t.start;o||(o=i?i[n?"end":"start"]:e.selection.getRange()),o.start&&(o=o[r!=n?"end":"start"]);var s=i?i.start.row:0,a=i?i.end.row:e.getLength()-1,l=n?function(n){var r=o.row,i=e.getLine(r).substring(0,o.column);if(!n(i,r)){for(r--;r>=s;r--)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=a,s=o.row;r>=s;r--)if(n(e.getLine(r),r))return}}:function(n){var r=o.row,i=e.getLine(r).substr(o.column);if(!n(i,r,o.column)){for(r+=1;a>=r;r++)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=s,a=o.row;a>=r;r++)if(n(e.getLine(r),r))return}};return{forEach:l}}}).call(s.prototype),t.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function r(e,t){this.platform=t||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function i(e,t){r.call(this,e,t),this.$singleCommand=!1}var o=e("../lib/keys"),s=e("../lib/useragent"),a=o.KEY_MODS;i.prototype=r.prototype,function(){this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var o=r[i];if(o==e)delete r[i];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(r[i]=o[0]))}}},this.bindKey=function(e,t,n){return"object"==typeof e&&(e=e[this.platform]),e?"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var r="";if(-1!=e.indexOf(" ")){var i=e.split(/\s+/);e=i.pop(),i.forEach(function(e){var t=this.parseKeys(e),n=a[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")},this),r+=" "}var o=this.parseKeys(e),s=a[o.hashId]+o.key;this._addCommandToBinding(r+s,t,n)},this):void 0},this._addCommandToBinding=function(e,t,n){var r,i=this.commandKeyBinding;t?!i[e]||this.$singleCommand?i[e]=t:(Array.isArray(i[e])?-1!=(r=i[e].indexOf(t))&&i[e].splice(r,1):i[e]=[i[e]],n||t.isDefault?i[e].unshift(t):i[e].push(t)):delete i[e]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),r=o[n];if(o.FUNCTION_KEYS[r])n=o.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var i=0,s=t.length;s--;){var a=o.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;i|=a}return{key:n,hashId:i}},this.findKeyCommand=function(e,t){var n=a[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){var i=a[t]+n,o=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&r>0&&(e.$keyChain=""),{command:o}):(e.$keyChain=e.$keyChain||i,{command:"null"})}}.call(r.prototype),t.HashHandler=r,t.MultiHashHandler=i}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,s=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(s,i),function(){r.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),i.returnValue===!1?!1:!0},this.toggleRecording=function(e){return this.$inReplay?void 0:(e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(s.prototype),t.CommandManager=s}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,n){"use strict";function r(e,t){return{win:e,mac:t}}var i=e("../lib/lang"),o=e("../config"),s=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:r("Ctrl-,","Command-,"),exec:function(e){o.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:r("Alt-E","Ctrl-E"),exec:function(e){o.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:r("Alt-Shift-E","Ctrl-Shift-E"),exec:function(e){o.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:r("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:r(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:r("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:r("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:r("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:r("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:r("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:r("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:r("Ctrl-F","Command-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:r("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:r("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:r("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:r("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:r("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:r("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:r("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:r("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:r("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:r("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:r("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:r("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:r("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:r("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:r(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:r(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:r("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:r("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:r("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:r("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:r("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:r(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"removeline",bindKey:r("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:r("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:r("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:r("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:r("Shift-Delete",null),exec:function(e){return e.selection.isEmpty()?void e.remove("left"):!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:r("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:r("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:r(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:r("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,
t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:r(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()),l=a.replace(/\n\s*/," ").length,c=e.session.doc.getLine(n.row),u=n.row+1;u<=r.row+1;u++){var h=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(u)));0!==h.length&&(h=" "+h),c+=h}r.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new s(n.row,0,r.row+2,0),c),l>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+l)):(o=e.session.doc.getLine(n.row).length>o?o+1:o,e.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:r(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var o=0;o<r.length;o++)o==r.length-1&&(r[o].end.row!==t||r[o].end.column!==n)&&i.push(new s(r[o].end.row,r[o].end.column,t,n)),0===o?(0!==r[o].start.row||0!==r[o].start.column)&&i.push(new s(0,0,r[o].start.row,r[o].start.column)):i.push(new s(r[o-1].end.row,r[o-1].end.column,r[o].start.row,r[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var o=0;o<i.length;o++)e.selection.addRange(i[o],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,f=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new g(s.isMac?"mac":"win",m),this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new u(this),this.$mouseHandler=new l(this),new c(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new h("")),v.resetOptions(this),v._signal("editor",this)};(function(){r.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;if(t.name&&this.$blockScrolling>0&&this.$blockScrolling--,t&&t.scrollIntoView){switch(t.scrollIntoView){case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),r=this.renderer.layerConfig;(n.start.row>=r.lastRow||n.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==t.scrollIntoView&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){var t=this.session;if(t){this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.removeEventListener("changeCursor",this.$onCursorChange),n.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var r=new f(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var r=t.$mode.getMatching(e.session);r&&(t.$bracketHighlight=t.addMarker(r,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),r=new y(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==i.type.indexOf("tag-open")||(i=r.stepForward())){var o=i.value,s=0,a=r.stepBackward();if("<"==a.value)do a=i,i=r.stepForward(),i&&i.value===o&&-1!==i.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(i&&s>=0);else{do i=a,a=r.stepBackward(),i&&i.value===o&&-1!==i.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(a&&0>=s);r.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=r.getCurrentTokenRow(),c=r.getCurrentTokenColumn(),u=new f(l,c,l,c+i.value.length);t.$tagHighlight&&0!==u.compareRange(t.$backMarkers[t.$tagHighlight].range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),u&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t,n=e.data,r=n.range;t=r.start.row==r.end.row&&"insertLines"!=n.action&&"removeLines"!=n.action?r.end.row:1/0,this.renderer.updateLines(r.start.row,t,this.session.$useWrapMode),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new f(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,r=t.end.column+1,i=e.getLine(t.start.row),o=i.length,s=i.substring(Math.max(n,0),Math.min(r,o));if(!(n>=0&&/^[\w\d]/.test(s)||o>=r&&/[\w\d]$/.test(s))&&(s=i.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(s))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e){if(!this.$readOnly){var t={text:e};if(this._signal("paste",t),e=t.text,!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(e);else{var n=e.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges;if(n.length>r.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,e);for(var i=r.length;i--;){var o=r[i];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,n[i])}}this.renderer.scrollCursorIntoView()}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=r.transformAction(n.getState(i.row),"insertion",this,n,e);o&&(e!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=o.text)}if("	"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var s=new f.fromPoints(i,i);s.end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();i=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(i.row);if(i.column>a.search(/\S|$/)){var l=a.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+l)}}this.clearSelection();var c=i.column,u=n.getState(i.row),a=n.getLine(i.row),h=r.checkOutdent(u,a,e);n.insert(i,e);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(i.row,c+o.selection[0],i.row,c+o.selection[1])):this.selection.setSelectionRange(new f(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3]))),n.getDocument().isNewLine(e)){var d=r.getNextLineIndent(u,a.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},d)}h&&r.autoOutdent(u,n,i.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new f(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new f(e.row,t-2,e.row,t)),this.session.replace(r,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"	")}if(t.start.column<t.end.column){var r=e.getTextRange(t);if(!/^\s+$/.test(r)){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"	")}}var i=e.getLine(t.start.row),s=t.start,a=e.getTabSize(),l=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var c=a-l%a,u=o.stringRepeat(" ",c);else{for(var c=l%a;" "==i[t.start.column]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),u="	"}return this.insert(u)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"	")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var r=new f(0,0,0,0),i=e.first;i<=e.last;i++){var o=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var o={value:i[0],start:i.index,end:i.index+i[0].length};return o}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new f(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),e*=s!==o.end&&s>n?Math.pow(10,o.end-n-1):Math.pow(10,o.end-n),l+=e,l/=Math.pow(10,a);var c=l.toFixed(a),u=new f(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}},this.removeLines=function(){var e,t=this.$getSelectedRows();e=0===t.first||t.last+1<this.session.getLength()?new f(t.first,0,t.last+1,0):new f(t.first-1,this.session.getLine(t.first-1).length,t.last,this.session.getLine(t.last).length),this.session.remove(e),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var o=r?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var o=i.toOrientedRange();n=this.$getSelectedRows(o),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),o.moveBy(r,0),i.fromOrientedRange(o)}else{var s=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;c>u;u++){var h=u;s[u].moveBy(a,0),n=this.$getSelectedRows(s[u]);for(var d=n.first,f=n.last;++u<c;){l&&s[u].moveBy(l,0);var p=this.$getSelectedRows(s[u]);if(t&&p.first!=f)break;if(!t&&p.first>f+1)break;f=p.last}for(u--,a=this.session.$moveLines(d,f,t?0:e),t&&-1==e&&(h=u+1);u>=h;)s[h].moveBy(a,0),h++;t||(a=0),l+=a}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(i,0)}):t===!1&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection()),this.$blockScrolling--;var o=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new y(this.session,n.row,n.column),i=r.getCurrentToken(),o=i||r.stepForward();if(o){var s,a,l=!1,c={},u=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(h[o.value[u]])switch(a=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",l=!0)}}else o&&-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===i.value?c[o.value]++:"</"===i.value&&c[o.value]--,-1===c[o.value]&&(s="tag",l=!0));l||(i=o,o=r.stepForward(),u=0)}while(o&&!l);if(s){var d,p;if("bracket"===s)d=this.session.getBracketRange(n),d||(d=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1),p=d.start,(t||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(d=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2),0===d.compare(n.row,n.column)){l=!1;do o=i,i=r.stepBackward(),i&&(-1!==i.type.indexOf("tag-close")&&d.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===i.value?c[g]++:"</"===i.value&&c[g]--,0===c[g]&&(l=!0)));while(i&&!l)}o&&o.type.indexOf("tag-name")&&(p=d.start,p.row==n.row&&Math.abs(p.column-n.column)<2&&(p=d.end))}p=d&&d.cursor||p,p&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){
var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;this.$blockScrolling+=1;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&r++;return this.selection.setSelectionRange(i),this.$blockScrolling-=1,r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(i)||this.$search.$options.needle,e||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var o=this.on("changeSelection",function(){r=!0}),s=this.renderer.on("beforeRender",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;r=o.top>=0&&a+t.top<0?!0:o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight?!1:null,null!=r&&(i.style.top=a+"px",i.style.left=o.left+"px",i.style.height=s.lineHeight+"px",i.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.removeEventListener("changeSelection",o),this.renderer.removeEventListener("afterRender",a),this.renderer.removeEventListener("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(b.prototype),v.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",foldStyle:"session",mode:"session"}),t.Editor=b}),ace.define("ace/undomanager",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.reset()};(function(){this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(t,e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter}}).call(r.prototype),t.UndoManager=r}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,s),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",-1===i.text.indexOf(s)&&i.text.push(s);var a=n.type;"error"==a?i.className=" ace_error":"warning"==a&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=a||i.className||(i.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.data,n=t.range,r=n.start.row,i=n.end.row-r;if(0===i);else if("removeText"==t.action||"removeLines"==t.action)this.$annotations.splice(r,i+1,null);else{var o=new Array(i+1);o.unshift(r,1),this.$annotations.splice.apply(this.$annotations,o)}}},this.update=function(e){for(var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),o=t.getNextFoldLine(n),s=o?o.start.row:1/0,a=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,c=t.$decorations,u=t.$firstLineNumber,h=0,d=t.gutterRenderer||this.$renderer,f=null,p=-1,g=n;;){if(g>s&&(g=o.end.row+1,o=t.getNextFoldLine(g,o),s=o?o.start.row:1/0),g>i){for(;this.$cells.length>p+1;)f=this.$cells.pop(),this.element.removeChild(f.element);break}f=this.$cells[++p],f||(f={element:null,textNode:null,foldWidget:null},f.element=r.createElement("div"),f.textNode=document.createTextNode(""),f.element.appendChild(f.textNode),this.element.appendChild(f.element),this.$cells[p]=f);var m="ace_gutter-cell ";l[g]&&(m+=l[g]),c[g]&&(m+=c[g]),this.$annotations[g]&&(m+=this.$annotations[g].className),f.element.className!=m&&(f.element.className=m);var v=t.getRowLength(g)*e.lineHeight+"px";if(v!=f.element.style.height&&(f.element.style.height=v),a){var y=a[g];null==y&&(y=a[g]=t.getFoldWidget(g))}if(y){f.foldWidget||(f.foldWidget=r.createElement("span"),f.element.appendChild(f.foldWidget));var m="ace_fold-widget ace_"+y;m+="start"==y&&g==s&&g<o.end.row?" ace_closed":" ace_open",f.foldWidget.className!=m&&(f.foldWidget.className=m);var v=e.lineHeight+"px";f.foldWidget.style.height!=v&&(f.foldWidget.style.height=v)}else f.foldWidget&&(f.element.removeChild(f.foldWidget),f.foldWidget=null);var b=h=d?d.getText(t,g):g+u;b!=f.textNode.data&&(f.textNode.data=b),g++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(h=t.getLength()+u);var w=d?d.getWidth(t,h,e):h.toString().length*e.characterWidth,E=this.$padding||this.$computePadding();w+=E.left+E.right,w===this.gutterWidth||isNaN(w)||(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(a.prototype),t.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,n){"use strict";var r=e("../range").Range,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var o=this.$getTop(i.start.row,e),s=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,s,o,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start",e)}else r.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,i,o){var s=t.start.row,a=new r(s,t.start.column,s,this.session.getScreenLastRowColumn(s));for(this.drawSingleLineMarker(e,a,n+" ace_start",i,1,o),s=t.end.row,a=new r(s,0,s,t.end.column),this.drawSingleLineMarker(e,a,n,i,0,o),s=t.start.row+1;s<t.end.row;s++)a.start.row=s,a.end.row=s,a.end.column=this.session.getScreenLastRowColumn(s),this.drawSingleLineMarker(e,a,n,i,1,o)},this.drawMultiLineMarker=function(e,t,n,r,i){var o=this.$padding,s=r.lineHeight,a=this.$getTop(t.start.row,r),l=o+t.start.column*r.characterWidth;i=i||"",e.push("<div class='",n," ace_start' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",l,"px;",i,"'></div>"),a=this.$getTop(t.end.row,r);var c=t.end.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",c,"px;","top:",a,"px;","left:",o,"px;",i,"'></div>"),s=(t.end.row-t.start.row-1)*r.lineHeight,0>s||(a=this.$getTop(t.start.row+1,r),e.push("<div class='",n,"' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",o,"px;",i,"'></div>"))},this.drawSingleLineMarker=function(e,t,n,r,i,o){var s=r.lineHeight,a=(t.end.column+(i||0)-t.start.column)*r.characterWidth,l=this.$getTop(t.start.row,r),c=this.$padding+t.start.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",o||"","'></div>")},this.drawFullLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),s=r.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,r)-o),e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),s=r.lineHeight;e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")}}).call(o.prototype),t.Marker=o}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),s=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){r.implement(this,s),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="→",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;return this.EOL_CHAR!=e?(this.EOL_CHAR=e,!0):void 0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;e+1>n;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+this.TAB_CHAR+o.stringRepeat(" ",n-1)+"</span>"):t.push(o.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r="ace_indent-guide",i="",s="";if(this.showInvisibles){r+=" ace_invisible",i=" ace_invisible_space",s=" ace_invisible_tab";var a=o.stringRepeat(this.SPACE_CHAR,this.tabSize),l=this.TAB_CHAR+o.stringRepeat(" ",this.tabSize-1)}else var a=o.stringRepeat(" ",this.tabSize),l=a;this.$tabStrings[" "]="<span class='"+r+i+"'>"+a+"</span>",this.$tabStrings["	"]="<span class='"+r+s+"'>"+l+"</span>"}},this.updateLines=function(e,t,n){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;r>a;a++){var l=this.session.getFoldLine(a);if(l){if(l.containsRow(r)){r=l.start.row;break}a=l.end.row}s++}for(var a=r,l=this.session.getNextFoldLine(a),c=l?l.start.row:1/0;;){if(a>c&&(a=l.end.row+1,l=this.session.getNextFoldLine(a,l),c=l?l.start.row:1/0),a>i)break;var u=o[s++];if(u){var h=[];this.$renderLine(h,a,!this.$useLineGroups(),a==c?l:!1),u.style.height=e.lineHeight*this.session.getRowLength(a)+"px",u.innerHTML=h.join("")}a++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var i=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}if(e.lastRow>t.lastRow){var i=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(i)}},this.$renderLinesFragment=function(e,t,n){for(var r=this.element.ownerDocument.createDocumentFragment(),o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;;){if(o>a&&(o=s.end.row+1,s=this.session.getNextFoldLine(o,s),a=s?s.start.row:1/0),o>n)break;var l=i.createElement("div"),c=[];if(this.$renderLine(c,o,!1,o==a?s:!1),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",r.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(o)+"px";else for(;l.firstChild;)r.appendChild(l.firstChild);o++}return r},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,r=e.lastRow,i=n,o=this.session.getNextFoldLine(i),s=o?o.start.row:1/0;;){if(i>s&&(i=o.end.row+1,o=this.session.getNextFoldLine(i,o),s=o?o.start.row:1/0),i>r)break;this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(i),"px'>"),this.$renderLine(t,i,!1,i==s?o:!1),this.$useLineGroups()&&t.push("</div>"),i++}this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var i=this,s=/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(e,n,r,s,a){if(n)return i.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+o.stringRepeat(i.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if("	"==e){var l=i.session.getScreenTabSize(t+s);return t+=l-1,i.$tabStrings[l]}if("　"==e){var c=i.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=i.showInvisibles?i.SPACE_CHAR:"";return t+=1,"<span class='"+c+"' style='width:"+2*i.config.characterWidth+"px'>"+u+"</span>"}return r?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+i.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*i.config.characterWidth+"px'>"+e+"</span>")},l=r.replace(s,a);if(this.$textToken[n.type])e.push(l);else{var c="ace_"+n.type.replace(/\./g," ace_"),u="";"fold"==n.type&&(u=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",c,"'",u,">",l,"</span>")}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);return 0>=r||r>=n?t:" "==t[0]?(r-=r%this.tabSize,e.push(o.stringRepeat(this.$tabStrings[" "],r/this.tabSize)),t.substr(r)):"	"==t[0]?(e.push(o.stringRepeat(this.$tabStrings["	"],r)),t.substr(r)):t},this.$renderWrappedLine=function(e,t,n,r){for(var i=0,o=0,s=n[0],a=0,l=0;l<t.length;l++){var c=t[l],u=c.value;if(0==l&&this.displayIndentGuides){if(i=u.length,u=this.renderIndentGuide(e,u,s),!u)continue;i-=u.length}if(i+u.length<s)a=this.$renderToken(e,a,c,u),i+=u.length;else{for(;i+u.length>=s;)a=this.$renderToken(e,a,c,u.substring(0,s-i)),u=u.substring(s-i),i=s,r||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),o++,a=0,s=n[o]||Number.MAX_VALUE;0!=u.length&&(i+=u.length,a=this.$renderToken(e,a,c,u))}}},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var o=1;o<t.length;o++)r=t[o],i=r.value,n=this.$renderToken(e,n,r,i)},this.$renderLine=function(e,t,n,r){if(r||0==r||(r=this.session.getFoldLine(t)),r)var i=this.$getFoldLineTokens(t,r);else var i=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),i.length){var o=this.session.getRowSplitData(t);o&&o.length?this.$renderWrappedLine(e,i,o,n):this.$renderSimpleLine(e,i)}this.showInvisibles&&(r&&(t=r.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var r=0,o=0;o+e[r].value.length<t;)if(o+=e[r].value.length,r++,r==e.length)return;if(o!=t){var s=e[r].value.substring(t-o);s.length>n-t&&(s=s.substring(0,n-t)),i.push({type:e[r].type,value:s}),o=t+s.length,r+=1}for(;n>o&&r<e.length;){var s=e[r].value;s.length+o>n?i.push({type:e[r].type,value:s.substring(0,n-o)}):i.push(e[r]),o+=s.length,r+=1}}var r=this.session,i=[],o=r.getTokens(e);return t.walk(function(e,t,s,a,l){null!=e?i.push({type:"fold",value:e}):(l&&(o=r.getTokens(t)),o.length&&n(o,a,s))},t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===r&&(r="opacity"in this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateVisibility.bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||r||(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=(e?this.$updateOpacity:this.$updateVisibility).bind(this),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+n.column*this.config.characterWidth,i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;(void 0===t||0===t.length)&&(t=[{cursor:null}]);for(var n=0,i=t.length;i>n;n++){var o=this.getPixelPosition(t[n].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&n>1)){var s=(this.cursors[r++]||this.addCursor()).style;this.drawCursor?this.drawCursor(s,o,e,t[n],this.session):(s.left=o.left+"px",s.top=o.top+"px",s.width=e.characterWidth+"px",s.height=e.lineHeight+"px")}}for(;this.cursors.length>r;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),t.Cursor=o}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){r.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};r.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(c,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,n){"use strict";var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;r.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(i.prototype),t.RenderLoop=i}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,l=0,c=t.FontMetrics=function(e,t){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=o.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){r.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=i.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;l=t>0&&1>t?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",s.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";
var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&this.$pollSizeChangesTimer},this.$measureSizes=function(){if(50===l){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var t={height:e.height,width:e.width/l}}else var t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){this.$main.innerHTML=o.stringRepeat(e,l);var t=this.$main.getBoundingClientRect();return t.width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./config"),s=e("./lib/useragent"),a=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,u=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,f=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,g=e("./lib/event_emitter").EventEmitter,m='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}';i.importCssString(m,"ace_editor.css");var v=function(e,t){var n=this;this.container=e||i.createElement("div"),this.$keepTextAreaAtCursor=!s.isOldIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var r=this.$textLayer=new c(this.content);this.canvas=r.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container,500),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var o=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var i=0,o=this.$size,s={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return r&&(e||o.height!=r)&&(o.height=r,i|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",i|=this.CHANGE_SCROLL),n&&(e||o.width!=n)&&(i|=this.CHANGE_SIZE,o.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(i|=this.CHANGE_FULL)),o.$dirty=!n||!r,i&&this._signal("resize",s),i},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var r=this.textarea.style,i=this.lineHeight;if(0>t||t>e.height-i)return void(r.top=r.left="0");var o=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(s)[0]+2,i+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,r.height=i+"px",r.width=o+"px",r.left=Math.min(n,this.$size.scrollerWidth-o)+"px",r.top=Math.min(t,this.$size.height-i)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return void(this.$changes|=e);if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender"))},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.max((this.$minLines||1)*this.lineHeight,Math.min(t,e))+this.scrollMargin.v+(this.$extraHeight||0),r=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){this.$maxLines&&this.lineHeight>1&&this.$autosize();var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),i=r*this.lineHeight,o=this.scrollTop%this.lineHeight,s=t.scrollerHeight+this.lineHeight,a=this.$getLongestLine(),l=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-a-2*this.$padding<0),c=this.$horizScroll!==l;c&&(this.$horizScroll=l,this.scrollBarH.setVisible(l));var u=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=u,this.session.setScrollTop(Math.max(-this.scrollMargin.top,Math.min(this.scrollTop,i-t.scrollerHeight+this.scrollMargin.bottom))),this.session.setScrollLeft(Math.max(-this.scrollMargin.left,Math.min(this.scrollLeft,a+2*this.$padding-t.scrollerWidth+this.scrollMargin.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+u<0||this.scrollTop),d=this.$vScroll!==h;d&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var f,p,g=Math.ceil(s/this.lineHeight)-1,m=Math.max(0,Math.round((this.scrollTop-o)/this.lineHeight)),v=m+g,y=this.lineHeight;m=e.screenToDocumentRow(m,0);var b=e.getFoldLine(m);b&&(m=b.start.row),f=e.documentToScreenRow(m,0),p=e.getRowLength(m)*y,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),s=t.scrollerHeight+e.getRowLength(v)*y+p,o=this.scrollTop-f*y;var w=0;return this.layerConfig.width!=a&&(w=this.CHANGE_H_SCROLL),(c||d)&&(w=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(a=this.$getLongestLine())),this.layerConfig={width:a,padding:this.$padding,firstRow:m,firstRowScreen:f,lastRow:v,lineHeight:y,characterWidth:this.characterWidth,minHeight:s,maxHeight:i,offset:o,gutterOffset:Math.max(0,Math.ceil((o+t.height-t.scrollerHeight)/y)),height:this.$size.scrollerHeight},w},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;return e>n.lastRow+1||t<n.firstRow?void 0:t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,o=r.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):c+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&i-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){
var n=0,r=this.STEPS,i=[],o=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;r>n;++n)i.push(o(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}),o=i.top;t&&(o-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(o),n!==!1&&this.animateScrolling(s,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(e=i[0],e==n))return}var o=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),r.session.setScrollTop(o.shift()),r.session.$scrollTop=n,this.$timer=setInterval(function(){o.length?(r.session.setScrollTop(o.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return 0>t&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:0>e&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,i=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),o=Math.round(r);return{row:i,column:o,side:r-o>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),i=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(i,Math.max(r,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+Math.round(r.column*this.characterWidth),o=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(r.$themeId!=e)return t&&t();if(n.cssClass){i.importCssString(n.cssText,n.cssClass,r.container.ownerDocument),r.theme&&i.removeCssClass(r.container,r.theme.cssClass);var o="padding"in n?n.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&o!=r.$padding&&r.setPadding(o),r.$theme=n.cssClass,r.theme=n,i.addCssClass(r.container,n.cssClass),i.setCssClass(r.container,"ace_dark",n.isDark),r.$size&&(r.$size.width=0,r.$updateSizeAsync()),r._dispatchEvent("themeLoaded",{theme:n}),t&&t()}}var r=this;if(this.$themeId=e,r._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var s=e||this.$options.theme.initialValue;o.loadModule(["theme",s],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(v.prototype),o.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight))},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,n,r){"use strict";var i=t("../lib/oop"),o=t("../lib/net"),s=t("../lib/event_emitter").EventEmitter,a=t("../config"),l=function(n,r,i,o){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),a.get("packaged")||!t.toUrl)o=o||a.moduleUrl(r.id,"worker");else{var s=this.$normalizePath;o=o||s(t.toUrl("ace/worker/worker.js",null,"_"));var l={};n.forEach(function(e){l[e]=s(t.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{var c=r.src,u=e("w3c-blob"),h=new u([c],{type:"application/javascript"}),d=(window.URL||window.webkitURL).createObjectURL(h);this.$worker=new Worker(d)}catch(e){if(!(e instanceof window.DOMException))throw e;var h=this.$workerBlob(o),f=window.URL||window.webkitURL,p=f.createObjectURL(h);this.$worker=new Worker(p),f.revokeObjectURL(p)}this.$worker.postMessage({init:!0,tlns:l,module:r.id,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,s),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return o.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue?this.deltaQueue.push(e.data):(this.deltaQueue=[e.data],setTimeout(this.$sendDeltaQueue,0))},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>20&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+o.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,r=new n;return r.append(t),r.getBlob("application/javascript")}}}).call(l.prototype);var c=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var r=null,i=!1,o=Object.create(s),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),r&&(i?setTimeout(c):c())},this.setEmitSync=function(e){i=e};var c=function(){var e=l.messageBuffer.shift();e.command?r[e.command].apply(r,e.args):e.event&&o._signal(e.event,e.data)};o.postMessage=function(e){l.onMessage({data:e})},o.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},o.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},a.loadModule(["worker",t],function(e){for(r=new e[n](o);l.messageBuffer.length;)c()})};c.prototype=l.prototype,n.UIWorkerClient=c,n.WorkerClient=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,n){"use strict";var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(e,t,n,r,i,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session,i=this.$pos;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(i.row,i.column),this.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.pos.on("change",function(t){n.removeMarker(e.markerId),e.markerId=n.addMarker(new r(t.value.row,t.value.column,t.value.row,t.value.column+e.length),e.mainClass,null,!1)}),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);e.others.push(r)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1),n.on("change",function(i){e.removeMarker(n.markerId),n.markerId=e.addMarker(new r(i.value.row,i.value.column,i.value.row,i.value.column+t.length),t.othersClass,null,!1)})})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){var t=e.data,n=t.range;if(n.start.row===n.end.row&&n.start.row===this.pos.row&&!this.$updating){this.$updating=!0;var i="insertText"===t.action?n.end.column-n.start.column:n.start.column-n.end.column;if(n.start.column>=this.pos.column&&n.start.column<=this.pos.column+this.length+1){var o=n.start.column-this.pos.column;if(this.length+=i,!this.session.$fromUndo){if("insertText"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};a.row===n.start.row&&n.start.column<a.column&&(l.column+=i),this.doc.insert(l,t.text)}else if("removeText"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};a.row===n.start.row&&n.start.column<a.column&&(l.column+=i),this.doc.remove(new r(l.row,l.column,l.row,l.column-i))}n.start.column===this.pos.column&&"insertText"===t.action?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-i);for(var e=0;e<this.others.length;e++){var t=this.others[e],r={row:t.row,column:t.column-i};t.row===n.start.row&&n.start.column<t.column&&(r.column+=i),t.setPosition(r.row,r.column)}}.bind(this),0):n.start.column===this.pos.column&&"removeText"===t.action&&setTimeout(function(){for(var e=0;e<this.others.length;e++){var t=this.others[e];t.row===n.start.row&&n.start.column<t.column&&t.setPosition(t.row,t.column-i)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(var s=0;s<this.others.length;s++)this.others[s]._emit("change",{value:this.others[s]})}this.$updating=!1}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var e=0;e<this.others.length;e++)this.others[e].detach();this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1===this.$undoStackDepth)throw Error("Canceling placeholders only supported with undo manager attached to session.");for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;t>n;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}).call(s.prototype),t.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){function r(e,t){return e.row==t.row&&e.column==t.column}function i(e){var t=e.domEvent,n=t.altKey,i=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&s.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)return void e.editor.textInput.onContextMenu(e.domEvent);if(!a&&!n&&!l)return void(0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode());if(0===c){var u,h=e.editor,d=h.selection,f=h.inMultiSelectMode,p=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&r(p,g),v=e.x,y=e.y,b=function(e){v=e.clientX,y=e.clientY},w=h.session,E=h.renderer.pixelToScreenCoordinates(v,y),C=E;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u="add":n&&(u="block");else if(l&&!n){if(u="add",!f&&i)return}else n&&(u="block");if(u&&s.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!f&&m)return;if(!f){var x=d.toOrientedRange();h.addSelectionMarker(x)}var _=d.rangeList.rangeAtPoint(p);h.$blockScrolling++,h.inVirtualSelectionMode=!0,i&&(_=null,x=d.ranges[0],h.removeSelectionMarker(x)),h.once("mouseup",function(){var e=d.toOrientedRange();_&&e.isEmpty()&&r(_.cursor,e.cursor)?d.substractPoint(e.cursor):(i?d.substractPoint(x.cursor):x&&(h.removeSelectionMarker(x),d.addRange(x)),d.addRange(e)),h.$blockScrolling--,h.inVirtualSelectionMode=!1})}else if("block"==u){e.stop(),h.inVirtualSelectionMode=!0;var A,D=[],F=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=w.screenToDocumentPosition(e.row,e.column);r(C,e)&&r(t,d.lead)||(C=e,h.$blockScrolling++,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(D),D=d.rectangularRangeBlock(C,E),h.$mouseHandler.$clickSelection&&1==D.length&&D[0].isEmpty()&&(D[0]=h.$mouseHandler.$clickSelection.clone()),D.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers(),h.$blockScrolling--)};h.$blockScrolling++,f&&!l?d.toSingleRange():!f&&l&&(A=d.toOrientedRange(),h.addSelectionMarker(A)),i?E=w.documentToScreenPosition(d.lead):d.moveToPosition(p),h.$blockScrolling--,C={row:-1,column:-1};var S=function(e){clearInterval(R),h.removeSelectionMarkers(D),D.length||(D=[d.toOrientedRange()]),h.$blockScrolling++,A&&(h.removeSelectionMarker(A),d.toSingleRange(A));for(var t=0;t<D.length;t++)d.addRange(D[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null,h.$blockScrolling--},T=F;o.capture(h.container,b,S);var R=setInterval(function(){T()},20);return e.preventDefault()}}}var o=e("../lib/event"),s=e("../lib/useragent");t.onMouseDown=i}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readonly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readonly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readonly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readonly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readonly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readonly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readonly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readonly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,n){function r(e,t,n){return g.$options.wrap=!0,g.$options.needle=t,g.$options.backwards=-1==n,g.find(e)}function i(e,t){return e.row==t.row&&e.column==t.column}function o(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",u),e.commands.addCommands(f.defaultCommands),s(e))}function s(e){function t(t){r&&(e.renderer.setMouseCursor(""),r=!1)}var n=e.textInput.getElement(),r=!1;h.addListener(n,"keydown",function(n){18!=n.keyCode||n.ctrlKey||n.shiftKey||n.metaKey?r&&t():r||(e.renderer.setMouseCursor("crosshair"),r=!0)}),h.addListener(n,"keyup",t),h.addListener(n,"blur",t)}var a=e("./range_list").RangeList,l=e("./range").Range,c=e("./selection").Selection,u=e("./mouse/multi_select_handler").onMouseDown,h=e("./lib/event"),d=e("./lib/lang"),f=e("./commands/multi_select_commands");t.commands=f.defaultCommands.concat(f.multiSelectCommands);var p=e("./search").Search,g=new p,m=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);return t?(this.$onRemoveRange(t),t[0]):void 0},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),r=this.isBackwards(),i=n.start.row,o=n.end.row;if(i==o){if(r)var s=n.end,a=n.start;else var s=n.start,a=n.end;return this.addRange(l.fromPoints(a,a)),void this.addRange(l.fromPoints(s,s))}var c=[],u=this.getLineRange(i,!0);u.start.column=n.start.column,c.push(u);for(var h=i+1;o>h;h++)c.push(this.getLineRange(h,!0));u=this.getLineRange(o,!0),u.end.column=n.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.selectionLead),i=this.session.documentToScreenPosition(this.selectionAnchor),o=this.rectangularRangeBlock(r,i);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var s=e.column,a=t.column;else var s=t.column,a=e.column;var c=e.row<t.row;if(c)var u=e.row,h=t.row;else var u=t.row,h=e.row;0>s&&(s=0),0>u&&(u=0),u==h&&(n=!0);for(var d=u;h>=d;d++){var f=l.fromPoints(this.session.screenToDocumentPosition(d,s),this.session.screenToDocumentPosition(d,a));if(f.isEmpty()){if(p&&i(f.end,p))break;var p=f.end}f.cursor=o?f.start:f.end,r.push(f)}if(c&&r.reverse(),!n){for(var g=r.length-1;r[g].isEmpty()&&g>0;)g--;if(g>0)for(var m=0;r[m].isEmpty();)m++;for(var v=g;v>=m;v--)r[v].isEmpty()&&r.splice(v,1)}return r}}.call(c.prototype);var v=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);-1!=i&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(f.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(f.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=n&&n.keepOrder,o=1==n||n&&n.$byLines,s=this.session,a=this.selection,l=a.rangeList,u=(i?a:l).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=a._eventRegistry;a._eventRegistry={};var d=new c(s);this.inVirtualSelectionMode=!0;for(var f=u.length;f--;){if(o)for(;f>0&&u[f].start.row==u[f-1].end.row;)f--;d.fromOrientedRange(u[f]),d.index=f,this.selection=s.selection=d;var p=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===p||(r=p),d.toOrientedRange(u[f])}d.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges();var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();e=n.join(i),e.length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;(r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(i[0]);for(var s=i.length;s--;)o.addRange(i[s],!0);return r&&o.rangeList.rangeAtPoint(r.start)&&o.addRange(r,!0),this.$blockScrolling-=1,i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,i=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(i.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(i.row+e,i.column);if(n.isEmpty())var s=o;else var a=this.session.documentToScreenPosition(r?n.end:n.start),s=this.session.screenToDocumentPosition(a.row+e,a.column);if(r){var c=l.fromPoints(o,s);c.cursor=c.start}else{var c=l.fromPoints(s,o);c.cursor=c.end}if(c.desiredColumn=i.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){var o=r[i];if(o.isEmpty()){var s=t.getWordRange(o.start.row,o.start.column);o.start.row=s.start.row,o.start.column=s.start.column,o.end.row=s.end.row,o.end.column=s.end.column}}n.mergeOverlappingRanges();for(var a=[],i=r.length;i--;){var o=r[i];a.unshift(t.getTextRange(o))}0>e?a.unshift(a.pop()):a.push(a.shift());for(var i=r.length;i--;){var o=r[i],s=o.clone();t.replace(o,a[i]),o.start.row=s.start.row,o.start.column=s.start.column}},this.selectMore=function(e,t,n){var i=this.session,o=i.multiSelect,s=o.toOrientedRange();if(!s.isEmpty()||(s=i.getWordRange(s.start.row,s.start.column),s.cursor=-1==e?s.start:s.end,this.multiSelect.addRange(s),!n)){var a=i.getTextRange(s),l=r(i,a,e);l&&(l.cursor=-1==e?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,i=n.filter(function(e){return e.cursor.row==r?!0:void(r=e.cursor.row)});if(n.length&&i.length!=n.length-1){i.forEach(function(e){t.substractPoint(e.cursor)});var o=0,s=1/0,a=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\S/g);
return-1==i&&(i=0),n.column>o&&(o=n.column),s>i&&(s=i),i});n.forEach(function(t,n){var r=t.cursor,i=o-r.column,c=a[n]-s;i>c?e.insert(r,d.stringRepeat(" ",i-c)):e.remove(new l(r.row,r.column,r.row,r.column-i+c)),t.start.column=t.end.column=o,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,h=c.end.row,f=u==h;if(f){var p,g=this.session.getLength();do p=this.session.getLine(h);while(/[=:]/.test(p)&&++h<g);do p=this.session.getLine(u);while(/[=:]/.test(p)&&--u>0);0>u&&(u=0),h>=g&&(h=g-1)}var m=this.session.doc.removeLines(u,h);m=this.$reAlignText(m,f),this.session.doc.insert({row:u,column:0},m.join("\n")+"\n"),f||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function n(e){return d.stringRepeat(" ",e)}function r(e){return e[2]?n(s)+e[2]+n(a-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function i(e){return e[2]?n(s+a-e[2].length)+e[2]+n(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function o(e){return e[2]?n(s)+e[2]+n(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var s,a,l,c=!0,u=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==s?(s=t[1].length,a=t[2].length,l=t[3].length,t):(s+a+l!=t[1].length+t[2].length+t[3].length&&(u=!1),s!=t[1].length&&(c=!1),s>t[1].length&&(s=t[1].length),a<t[2].length&&(a=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?r:c?u?i:r:o)}}).call(v.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=o,e("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(e){o(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",u)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",u))},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,o=e.getLine(t),s=o.search(i);if(-1!=s){for(var a=n||o.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(i);if(-1!=h){if(s>=h)break;u=t}}if(u>c){var d=e.getLine(u).length;return new r(c,a,u,d)}}},this.openingBracketBlock=function(e,t,n,i,o){var s={row:n,column:i+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),r.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,i,o){var s={row:n,column:i},a=e.$findOpeningBracket(t,s);return a?(a.column++,s.column--,r.fromPoints(a,s)):void 0}}).call(i.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeEditor",this.$onChangeEditor)}var i=(e("./lib/oop"),e("./lib/dom"));e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.data,r=n.range,i=r.start.row,o=r.end.row-i;if(0===o);else if("removeText"==n.action||"removeLines"==n.action){var s=t.splice(i+1,o);s.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var a=new Array(o);a.unshift(i,0),t.splice.apply(t,a),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){e&&(t=!1,e.row=n)}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength())),this.session.lineWidgets[e.row]=e;var t=this.editor.renderer;return e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight||(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}this.session.lineWidgets&&(this.session.lineWidgets[e.row]=void 0),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,o=0;o<n.length;o++){var s=n[o];s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el)),s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/r.characterWidth));var a=s.h/r.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row),0>a&&(a=0)),s.rowCount!=a&&(s.rowCount=a,s.row<i&&(i=s.row))}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=i;o>=s;s++){var a=r[s];if(a&&a.el){a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(r.prototype),t.LineWidgets=r}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function r(e,t,n){for(var r=0,i=e.length-1;i>=r;){var o=r+i>>1,s=n(t,e[o]);if(s>0)r=o+1;else{if(!(0>s))return o;i=o-1}}return-(r+1)}function i(e,t,n){var i=e.getAnnotations().sort(a.comparePoints);if(i.length){var o=r(i,{row:t,column:-1},a.comparePoints);0>o&&(o=-o-1),o>=i.length?o=n>0?0:i.length-1:0===o&&0>n&&(o=i.length-1);var s=i[o];if(s&&n){if(s.row===t){do s=i[o+=n];while(s&&s.row===t);if(!s)return i.slice()}var l=[];t=s.row;do l[0>n?"unshift":"push"](s),s=i[o+=n];while(s&&s.row==t);return l.length&&l}}}var o=e("../line_widgets").LineWidgets,s=e("../lib/dom"),a=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new o(n),n.widgetManager.attach(e));var r=e.getCursorPosition(),a=r.row,l=n.lineWidgets&&n.lineWidgets[a];l?l.destroy():a-=t;var c,u=i(n,a,t);if(u){var h=u[0];r.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,r.row=h.row,c=e.renderer.$gutterLayer.$annotations[r.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var d={row:r.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div")},f=d.el.appendChild(s.createElement("div")),p=d.el.appendChild(s.createElement("div"));p.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(r).left;p.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+c.className,f.innerHTML=c.text.join("<br>"),f.appendChild(s.createElement("div"));var m=function(e,t,n){return 0!==t||"esc"!==n&&"return"!==n?void 0:(d.destroy(),{command:"null"})};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},s.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/dom"),i=e("./lib/event"),o=e("./editor").Editor,s=e("./edit_session").EditSession,a=e("./undomanager").UndoManager,l=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.acequire=e,t.edit=function(e){if("string"==typeof e){var n=e;if(e=document.getElementById(n),!e)throw new Error("ace.edit can't find div #"+n)}if(e&&e.env&&e.env.editor instanceof o)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;s=a.value,e=r.createElement("pre"),a.parentNode.replaceChild(e,a)}else s=r.getInnerText(e),e.innerHTML="";var c=t.createEditSession(s),u=new o(new l(e));u.setSession(c);var h={document:c,editor:u,onResize:u.resize.bind(u,null)};return a&&(h.textarea=a),i.addListener(window,"resize",h.onResize),u.on("destroy",function(){i.removeListener(window,"resize",h.onResize),h.editor.container.env=null}),u.container.env=u.env=h,u},t.createEditSession=function(e,t){var n=new s(e,t);return n.setUndoManager(new a),n},t.EditSession=s,t.UndoManager=a}),function(){ace.acequire(["ace/ace"],function(e){e&&e.config.init(!0),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),t.exports=window.ace.acequire("ace/ace")},{"w3c-blob":74}],73:[function(e,t,n){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:'"',next:"start"},{token:"string",regex:"",next:"start"}]}};r.inherits(o,i),t.JsonHighlightRules=o}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var n=e.getLine(t),i=n.match(/^(\s*\})/);if(!i)return 0;var o=i[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new r(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";var r,i=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],u={},h=function(e){var t=-1;return e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t]?r=u[t]:void(r=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},d=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},f=function(){this.add("braces","insertion",function(e,t,n,i,o){var s=n.getCursorPosition(),l=i.doc.getLine(s.row);if("{"==o){h(n);var c=n.getSelectionRange(),u=i.doc.getTextRange(c);if(""!==u&&"{"!==u&&n.getWrapBehavioursEnabled())return d(c,u,"{","}");if(f.isSaneInsertion(n,i))return/[\]\}\)]/.test(l[s.column])||n.inMultiSelectMode?(f.recordAutoInsert(n,i,"}"),{text:"{}",selection:[1,1]}):(f.recordMaybeInsert(n,i,"{"),{text:"{",selection:[1,1]})}else if("}"==o){h(n);var p=l.substring(s.column,s.column+1);if("}"==p){var g=i.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==g&&f.isAutoInsertedClosing(s,l,o))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){h(n);var m="";f.isMaybeInsertedClosing(s,l)&&(m=a.stringRepeat("}",r.maybeInsertedBrackets),f.clearMaybeInsertedClosing());var p=l.substring(s.column,s.column+1);if("}"===p){var v=i.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!v)return null;var y=this.$getIndent(i.getLine(v.row))}else{if(!m)return void f.clearMaybeInsertedClosing();var y=this.$getIndent(l)}var b=y+i.getTabString();return{text:"\n"+b+"\n"+y+m,selection:[1,b.length,1,b.length]}}f.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,n,i,o){var s=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){h(n);var a=i.doc.getLine(o.start.row),l=a.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;r.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,r,i){if("("==i){h(n);var o=n.getSelectionRange(),s=r.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return d(o,s,"(",")");if(f.isSaneInsertion(n,r))return f.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==i){h(n);var a=n.getCursorPosition(),l=r.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(")"==c){var u=r.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==u&&f.isAutoInsertedClosing(a,l,i))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o){h(n);var s=r.doc.getLine(i.start.row),a=s.substring(i.start.column+1,i.start.column+2);if(")"==a)return i.end.column++,i}}),this.add("brackets","insertion",function(e,t,n,r,i){if("["==i){h(n);var o=n.getSelectionRange(),s=r.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return d(o,s,"[","]");if(f.isSaneInsertion(n,r))return f.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){h(n);var a=n.getCursorPosition(),l=r.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if("]"==c){var u=r.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==u&&f.isAutoInsertedClosing(a,l,i))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o){h(n);var s=r.doc.getLine(i.start.row),a=s.substring(i.start.column+1,i.start.column+2);if("]"==a)return i.end.column++,i}}),this.add("string_dquotes","insertion",function(e,t,n,r,i){if('"'==i||"'"==i){h(n);var o=i,s=n.getSelectionRange(),a=r.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&n.getWrapBehavioursEnabled())return d(s,a,o,o);if(!a){var l=n.getCursorPosition(),c=r.doc.getLine(l.row),u=c.substring(l.column-1,l.column),f=c.substring(l.column,l.column+1),p=r.getTokenAt(l.row,l.column),g=r.getTokenAt(l.row,l.column+1);if("\\"==u&&p&&/escape/.test(p.type))return null;var m,v=p&&/string/.test(p.type),y=!g||/string/.test(g.type);if(f==o)m=v!==y;else{if(v&&!y)return null;if(v&&y)return null;var b=r.$mode.tokenRe;b.lastIndex=0;var w=b.test(u);b.lastIndex=0;var E=b.test(u);if(w||E)return null;if(f&&!/[\s;,.})\]\\]/.test(f))return null;m=!0}return{text:m?o+o:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==o||"'"==o)){h(n);var s=r.doc.getLine(i.start.row),a=s.substring(i.start.column+1,i.start.column+2);if(a==o)return i.end.column++,i}})};f.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",l)){var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",l))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",c)},f.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},f.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=i.row,r.autoInsertedLineEnd=n+o.substr(i.column),r.autoInsertedBrackets++},f.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=i.row,r.maybeInsertedLineStart=o.substr(0,i.column)+n,r.maybeInsertedLineEnd=o.substr(i.column),r.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},i.inherits(f,o),t.CstyleBehaviour=f}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(s,o),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i=e.getLine(n);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(e,i,n);var o=i.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,s);var a=e.getCommentFoldRange(n,s+o[0].length,1);return a&&!a.isMultiLine()&&(r?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}if("markbegin"!==t){var o=i.match(this.foldingStopMarker);if(o){var s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,s):e.getCommentFoldRange(n,s,-1)}}},this.getSectionRange=function(e,t){var n=e.getLine(t),r=n.search(/\S/),o=t,s=n.length;t+=1;for(var a=t,l=e.getLength();++t<l;){n=e.getLine(t);var c=n.search(/\S/);if(-1!==c){if(r>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(r==c)break}a=t}}return new i(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/)#(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}var u=n;return u>s?new i(s,r,u,t.length):void 0}}.call(s.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(t,n,r){"use strict";var i=t("../lib/oop"),o=t("./text").Mode,s=t("./json_highlight_rules").JsonHighlightRules,a=t("./matching_brace_outdent").MatchingBraceOutdent,l=t("./behaviour/cstyle").CstyleBehaviour,c=t("./folding/cstyle").FoldMode,u=t("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new l,this.foldingRules=new c};i.inherits(h,o),function(){this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t);if("start"==e){var i=t.match(/^.*[\{\(\[]\s*$/);i&&(r+=n)}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(t){var n=new u(["ace"],e("../worker/json"),"JsonWorker");return n.attachToDocument(t.getDocument()),n.on("annotate",function(e){t.setAnnotations(e.data)}),n.on("terminate",function(){t.clearAnnotations()}),n},this.$id="ace/mode/json"}.call(h.prototype),n.Mode=h})},{"../worker/json":76}],74:[function(e,t,n){(function(e){function n(){if(e.Blob)try{return new Blob(["asdf"],{type:"text/plain"}),Blob}catch(e){}var t=e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder;return function(e,n){var r=new t,i=n.endings,o=n.type;if(i)for(var s=0,a=e.length;a>s;++s)r.append(e[s],i);else for(var s=0,a=e.length;a>s;++s)r.append(e[s]);return o?r.getBlob(o):r.getBlob()}}t.exports=n()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],75:[function(e,t,n){ace.define("ace/theme/solarized_dark",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!0,t.cssClass="ace-solarized-dark",t.cssText=".ace-solarized-dark .ace_gutter {background: #01313f;color: #d0edf7}.ace-solarized-dark .ace_print-margin {width: 1px;background: #33555E}.ace-solarized-dark {background-color: #002B36;color: #93A1A1}.ace-solarized-dark .ace_entity.ace_other.ace_attribute-name,.ace-solarized-dark .ace_storage {color: #93A1A1}.ace-solarized-dark .ace_cursor,.ace-solarized-dark .ace_string.ace_regexp {color: #D30102}.ace-solarized-dark .ace_marker-layer .ace_active-line,.ace-solarized-dark .ace_marker-layer .ace_selection {background: rgba(255, 255, 255, 0.1)}.ace-solarized-dark.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #002B36;border-radius: 2px}.ace-solarized-dark .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-solarized-dark .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgba(147, 161, 161, 0.50)}.ace-solarized-dark .ace_gutter-active-line {background-color: #0d3440}.ace-solarized-dark .ace_marker-layer .ace_selected-word {border: 1px solid #073642}.ace-solarized-dark .ace_invisible {color: rgba(147, 161, 161, 0.50)}.ace-solarized-dark .ace_keyword,.ace-solarized-dark .ace_meta,.ace-solarized-dark .ace_support.ace_class,.ace-solarized-dark .ace_support.ace_type {color: #859900}.ace-solarized-dark .ace_constant.ace_character,.ace-solarized-dark .ace_constant.ace_other {color: #CB4B16}.ace-solarized-dark .ace_constant.ace_language {color: #B58900}.ace-solarized-dark .ace_constant.ace_numeric {color: #D33682}.ace-solarized-dark .ace_fold {background-color: #268BD2;border-color: #93A1A1}.ace-solarized-dark .ace_entity.ace_name.ace_function,.ace-solarized-dark .ace_entity.ace_name.ace_tag,.ace-solarized-dark .ace_support.ace_function,.ace-solarized-dark .ace_variable,.ace-solarized-dark .ace_variable.ace_language {color: #268BD2}.ace-solarized-dark .ace_string {color: #2AA198}.ace-solarized-dark .ace_comment {font-style: italic;color: #657B83}.ace-solarized-dark .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNg0Db1ZVCxc/sPAAd4AlUHlLenAAAAAElFTkSuQmCC) right repeat-y}";var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)})},{}],76:[function(e,t,n){t.exports.id="ace/mode/json_worker",t.exports.src='"no use strict";(function(window){if(void 0===window.window||!window.document){window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console,window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;var chunks=id.split("/");if(!window.acequire.tlns)return console.log("unable to load "+id);chunks[0]=window.acequire.tlns[chunks[0]]||chunks[0];var path=chunks.join("/")+".js";return window.acequire.id=id,importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},window.initBaseUrls=function initBaseUrls(topLevelNamespaces){acequire.tlns=topLevelNamespaces},window.initSender=function initSender(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.command){if(!main[msg.command])throw Error("Unknown command:"+msg.command);main[msg.command].apply(main,msg.args)}else if(msg.init){initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}else msg.event&&sender&&sender._signal(msg.event,msg.data)}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var delta=e.data,range=delta.range;if(!(range.start.row==range.end.row&&range.start.row!=this.row||range.start.row>this.row||range.start.row==this.row&&range.start.column>this.column)){var row=this.row,column=this.column,start=range.start,end=range.end;"insertText"===delta.action?start.row===row&&column>=start.column?start.column===column&&this.$insertRight||(start.row===end.row?column+=end.column-start.column:(column-=start.column,row+=end.row-start.row)):start.row!==end.row&&row>start.row&&(row+=end.row-start.row):"insertLines"===delta.action?start.row===row&&0===column&&this.$insertRight||row>=start.row&&(row+=end.row-start.row):"removeText"===delta.action?start.row===row&&column>start.column?column=end.column>=column?start.column:Math.max(0,column-(end.column-start.column)):start.row!==end.row&&row>start.row?(end.row===row&&(column=Math.max(0,column-end.column)+start.column),row-=end.row-start.row):end.row===row&&(row-=end.row-start.row,column=Math.max(0,column-end.column)+start.column):"removeLines"==delta.action&&row>=start.row&&(row>=end.row?row-=end.row-start.row:(row=start.row,column=0)),this.setPosition(row,column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(text){this.$lines=[],0===text.length?this.$lines=[""]:Array.isArray(text)?this._insertLines(0,text):this.insert({row:0,column:0},text)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength();this.remove(new Range(0,0,len,this.getLine(len-1).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){if(range.start.row==range.end.row)return this.getLine(range.start.row).substring(range.start.column,range.end.column);var lines=this.getLines(range.start.row,range.end.row);lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;return range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column)),lines.join(this.getNewLineCharacter())},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):0>position.row&&(position.row=0),position},this.insert=function(position,text){if(!text||0===text.length)return position;position=this.$clipPosition(position),1>=this.getLength()&&this.$detectNewLine(text);var lines=this.$split(text),firstLine=lines.splice(0,1)[0],lastLine=0==lines.length?null:lines.splice(lines.length-1,1)[0];return position=this.insertInLine(position,firstLine),null!==lastLine&&(position=this.insertNewLine(position),position=this._insertLines(position.row,lines),position=this.insertInLine(position,lastLine||"")),position},this.insertLines=function(row,lines){return row>=this.getLength()?this.insert({row:row,column:0},"\\n"+lines.join("\\n")):this._insertLines(Math.max(row,0),lines)},this._insertLines=function(row,lines){if(0==lines.length)return{row:row,column:0};for(;lines.length>2e4;){var end=this._insertLines(row,lines.slice(0,2e4));lines=lines.slice(2e4),row=end.row}var args=[row,0];args.push.apply(args,lines),this.$lines.splice.apply(this.$lines,args);var range=new Range(row,0,row+lines.length,0),delta={action:"insertLines",range:range,lines:lines};return this._signal("change",{data:delta}),range.end},this.insertNewLine=function(position){position=this.$clipPosition(position);var line=this.$lines[position.row]||"";this.$lines[position.row]=line.substring(0,position.column),this.$lines.splice(position.row+1,0,line.substring(position.column,line.length));var end={row:position.row+1,column:0},delta={action:"insertText",range:Range.fromPoints(position,end),text:this.getNewLineCharacter()};return this._signal("change",{data:delta}),end},this.insertInLine=function(position,text){if(0==text.length)return position;var line=this.$lines[position.row]||"";this.$lines[position.row]=line.substring(0,position.column)+text+line.substring(position.column);var end={row:position.row,column:position.column+text.length},delta={action:"insertText",range:Range.fromPoints(position,end),text:text};return this._signal("change",{data:delta}),end},this.remove=function(range){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),range.start=this.$clipPosition(range.start),range.end=this.$clipPosition(range.end),range.isEmpty())return range.start;var firstRow=range.start.row,lastRow=range.end.row;if(range.isMultiLine()){var firstFullRow=0==range.start.column?firstRow:firstRow+1,lastFullRow=lastRow-1;range.end.column>0&&this.removeInLine(lastRow,0,range.end.column),lastFullRow>=firstFullRow&&this._removeLines(firstFullRow,lastFullRow),firstFullRow!=firstRow&&(this.removeInLine(firstRow,range.start.column,this.getLine(firstRow).length),this.removeNewLine(range.start.row))}else this.removeInLine(firstRow,range.start.column,range.end.column);return range.start},this.removeInLine=function(row,startColumn,endColumn){if(startColumn!=endColumn){var range=new Range(row,startColumn,row,endColumn),line=this.getLine(row),removed=line.substring(startColumn,endColumn),newLine=line.substring(0,startColumn)+line.substring(endColumn,line.length);this.$lines.splice(row,1,newLine);var delta={action:"removeText",range:range,text:removed};return this._signal("change",{data:delta}),range.start}},this.removeLines=function(firstRow,lastRow){return 0>firstRow||lastRow>=this.getLength()?this.remove(new Range(firstRow,0,lastRow+1,0)):this._removeLines(firstRow,lastRow)},this._removeLines=function(firstRow,lastRow){var range=new Range(firstRow,0,lastRow+1,0),removed=this.$lines.splice(firstRow,lastRow-firstRow+1),delta={action:"removeLines",range:range,nl:this.getNewLineCharacter(),lines:removed};return this._signal("change",{data:delta}),removed},this.removeNewLine=function(row){var firstLine=this.getLine(row),secondLine=this.getLine(row+1),range=new Range(row,firstLine.length,row+1,0),line=firstLine+secondLine;this.$lines.splice(row,2,line);var delta={action:"removeText",range:range,text:this.getNewLineCharacter()};this._signal("change",{data:delta})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0==text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;if(this.remove(range),text)var end=this.insert(range.start,text);else end=range.start;return end},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);"insertLines"==delta.action?this.insertLines(range.start.row,delta.lines):"insertText"==delta.action?this.insert(range.start,delta.text):"removeLines"==delta.action?this._removeLines(range.start.row,range.end.row-1):"removeText"==delta.action&&this.remove(range)}},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);"insertLines"==delta.action?this._removeLines(range.start.row,range.end.row-1):"insertText"==delta.action?this.remove(range):"removeLines"==delta.action?this._insertLines(range.start.row,delta.lines):"removeText"==delta.action&&this.insert(range.start,delta.text)}},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function(obj){if("object"!=typeof obj||!obj)return obj;var cons=obj.constructor;if(cons===RegExp)return obj;var copy=cons();for(var key in obj)copy[key]="object"==typeof obj[key]?exports.deepCopy(obj[key]):obj[key];return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){return doc.applyDeltas(e.data),_self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"	"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;\nfor(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="	\\n\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},{}],77:[function(e,t,n){},{}],78:[function(e,t,n){function r(e){return this instanceof r?(this.length=0,this.parent=void 0,"number"==typeof e?i(this,e):"string"==typeof e?o(this,e,arguments.length>1?arguments[1]:"utf8"):s(this,e)):arguments.length>1?new r(e,arguments[1]):new r(e)}function i(e,t){if(e=d(e,0>t?0:0|f(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;n++)e[n]=0;return e}function o(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|g(t,n);return e=d(e,r),e.write(t,n),e}function s(e,t){if(r.isBuffer(t))return a(e,t);if(q(t))return l(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");return"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer?c(e,t):t.length?u(e,t):h(e,t)}function a(e,t){var n=0|f(t.length);return e=d(e,n),t.copy(e,0,0,n),e}function l(e,t){var n=0|f(t.length);e=d(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function c(e,t){var n=0|f(t.length);e=d(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function u(e,t){var n=0|f(t.length);e=d(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function h(e,t){var n,r=0;"Buffer"===t.type&&q(t.data)&&(n=t.data,r=0|f(n.length)),e=d(e,r);for(var i=0;r>i;i+=1)e[i]=255&n[i];return e}function d(e,t){r.TYPED_ARRAY_SUPPORT?e=r._augment(new Uint8Array(t)):(e.length=t,e._isBuffer=!0);var n=0!==t&&t<=r.poolSize>>>1;return n&&(e.parent=K),e}function f(e){if(e>=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G.toString(16)+" bytes");return 0|e}function p(e,t){if(!(this instanceof p))return new p(e,t);var n=new r(e,t);return delete n.parent,n}function g(e,t){if("string"!=typeof e&&(e=String(e)),0===e.length)return 0;switch(t||"utf8"){case"ascii":case"binary":case"raw":return e.length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e.length;case"hex":return e.length>>>1;case"utf8":case"utf-8":return $(e).length;case"base64":return U(e).length;default:return e.length}}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[n+s]=a}return s}function v(e,t,n,r){return z($(t,e.length-n),e,n,r)}function y(e,t,n,r){return z(j(t),e,n,r)}function b(e,t,n,r){return y(e,t,n,r)}function w(e,t,n,r){return z(U(t),e,n,r)}function E(e,t,n,r){return z(N(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?H.fromByteArray(e):H.fromByteArray(e.slice(t,n))}function x(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;n>o;o++)e[o]<=127?(r+=W(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+W(i)}function _(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;o++)i+=P(e[o]);return i}function F(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function S(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,i,o,s){if(!r.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||s>t)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range")}function R(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);o>i;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);o>i;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function M(e,t,n,r,i,o){if(t>i||o>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function L(e,t,n,r,i){return i||M(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),V.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||M(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),V.write(e,t,n,r,52,8),n+8}function O(e){if(e=I(e).replace(X,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function I(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function P(e){return 16>e?"0"+e.toString(16):e.toString(16)}function $(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;r>s;s++){if(n=e.charCodeAt(s),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((t-=3)>-1&&o.push(239,191,189),i=null);if(128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function N(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);s++)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function U(e){return H.toByteArray(O(e))}function z(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function W(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}var H=e("base64-js"),V=e("ieee754"),q=e("is-array");n.Buffer=r,n.SlowBuffer=p,n.INSPECT_MAX_BYTES=50,r.poolSize=8192;var G=1073741823,K={};r.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(e){return!1}}(),r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,o=0,s=Math.min(n,i);s>o&&e[o]===t[o];)++o;return o!==s&&(n=e[o],i=t[o]),i>n?-1:n>i?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!q(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new r(0);if(1===e.length)return e[0];var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var i=new r(t),o=0;for(n=0;n<e.length;n++){var s=e[n];s.copy(i,o),o+=s.length}return i},r.byteLength=g,r.prototype.length=void 0,r.prototype.parent=void 0,r.prototype.toString=function(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return _(this,t,n);case"binary":return A(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===r.compare(this,e)},r.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:r.compare(this,e)},r.prototype.indexOf=function(e,t){function n(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(r.isBuffer(e))return n(this,e,t);if("number"==typeof e)return r.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);throw new TypeError("val must be string, number or Buffer")},r.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},r.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},r.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return y(this,e,t,n);case"binary":return b(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var i;if(r.TYPED_ARRAY_SUPPORT)i=r._augment(this.subarray(e,t));else{var o=t-e;i=new r(o,void 0);for(var s=0;o>s;s++)i[s]=this[s+e]}return i.length&&(i.parent=this.parent||this),i},r.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||S(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},r.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||S(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},r.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||S(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},r.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||S(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},r.prototype.readInt8=function(e,t){return t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),V.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),V.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),V.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),V.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||T(this,e,t,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},r.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||T(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||T(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||T(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||T(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):R(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||T(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e):k(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||T(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):k(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);T(this,e,t,n,i-1,-i)}var o=0,s=1,a=0>e?1:0;for(this[t]=255&e;++o<n&&(s*=256);)this[t+o]=(e/s>>0)-a&255;return t+n},r.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);T(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=(e/s>>0)-a&255;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||T(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||T(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||T(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):R(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||T(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):k(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||T(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):k(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o=i-n;if(1e3>o||!r.TYPED_ARRAY_SUPPORT)for(var s=0;o>s;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+o),t);return o},r.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var i=$(e.toString()),o=i.length;for(r=t;n>r;r++)this[r]=i[r%o]}return this}},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r.TYPED_ARRAY_SUPPORT)return new r(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Y=r.prototype;r._augment=function(e){return e.constructor=r,e._isBuffer=!0,e._set=e.set,e.get=Y.get,e.set=Y.set,e.write=Y.write,e.toString=Y.toString,e.toLocaleString=Y.toString,e.toJSON=Y.toJSON,e.equals=Y.equals,e.compare=Y.compare,e.indexOf=Y.indexOf,e.copy=Y.copy,e.slice=Y.slice,e.readUIntLE=Y.readUIntLE,e.readUIntBE=Y.readUIntBE,e.readUInt8=Y.readUInt8,e.readUInt16LE=Y.readUInt16LE,e.readUInt16BE=Y.readUInt16BE,e.readUInt32LE=Y.readUInt32LE,e.readUInt32BE=Y.readUInt32BE,e.readIntLE=Y.readIntLE,e.readIntBE=Y.readIntBE,e.readInt8=Y.readInt8,e.readInt16LE=Y.readInt16LE,e.readInt16BE=Y.readInt16BE,e.readInt32LE=Y.readInt32LE,e.readInt32BE=Y.readInt32BE,e.readFloatLE=Y.readFloatLE,e.readFloatBE=Y.readFloatBE,e.readDoubleLE=Y.readDoubleLE,e.readDoubleBE=Y.readDoubleBE,e.writeUInt8=Y.writeUInt8,e.writeUIntLE=Y.writeUIntLE,e.writeUIntBE=Y.writeUIntBE,e.writeUInt16LE=Y.writeUInt16LE,e.writeUInt16BE=Y.writeUInt16BE,e.writeUInt32LE=Y.writeUInt32LE,e.writeUInt32BE=Y.writeUInt32BE,e.writeIntLE=Y.writeIntLE,e.writeIntBE=Y.writeIntBE,e.writeInt8=Y.writeInt8,e.writeInt16LE=Y.writeInt16LE,e.writeInt16BE=Y.writeInt16BE,e.writeInt32LE=Y.writeInt32LE,e.writeInt32BE=Y.writeInt32BE,e.writeFloatLE=Y.writeFloatLE,e.writeFloatBE=Y.writeFloatBE,e.writeDoubleLE=Y.writeDoubleLE,e.writeDoubleBE=Y.writeDoubleBE,e.fill=Y.fill,e.inspect=Y.inspect,e.toArrayBuffer=Y.toArrayBuffer,e};var X=/[^+\/0-9A-z\-]/g},{"base64-js":79,ieee754:80,"is-array":81}],79:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===s||t===h?62:t===a||t===d?63:l>t?-1:l+10>t?t-l+26+26:u+26>t?t-u:c+26>t?t-c+26:void 0}function n(e){function n(e){c[h++]=e}var r,i,s,a,l,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=e.length;l="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0,c=new o(3*e.length/4-l),s=l>0?e.length-4:e.length;var h=0;for(r=0,i=0;s>r;r+=4,i+=3)a=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===l?(a=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&a)):1===l&&(a=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,s,a=e.length%3,l="";for(i=0,s=e.length-a;s>i;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],l+=n(o);switch(a){case 1:o=e[e.length-1],l+=t(o>>2),l+=t(o<<4&63),l+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],l+=t(o>>10),l+=t(o>>4&63),l+=t(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),u="A".charCodeAt(0),h="-".charCodeAt(0),d="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],80:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:(f?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(f?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+f]=255&s,f+=p,s/=256,c-=8);e[n+f-p]|=128*g}},{}],81:[function(e,t,n){var r=Array.isArray,i=Object.prototype.toString;t.exports=r||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],82:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),l=1;r>l;l++)o[l-1]=arguments[l];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),l=1;r>l;l++)o[l-1]=arguments[l];for(c=n.slice(),r=c.length,l=0;r>l;l++)c[l].apply(this,o)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=o;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],83:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],84:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],85:[function(e,t,n){function r(){u=!1,a.length?c=a.concat(c):h=-1,c.length&&i()}function i(){if(!u){var e=setTimeout(r);u=!0;for(var t=c.length;t;){for(a=c,c=[];++h<t;)a[h].run();h=-1,t=c.length}a=null,u=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function s(){}var a,l=t.exports={},c=[],u=!1,h=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||u||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],86:[function(e,t,n){(function(e){!function(r){function i(e){throw RangeError(L[e])}function o(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function s(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(M,".");var i=e.split("."),s=o(i,t).join(".");return r+s}function a(e){for(var t,n,r=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function l(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=I(e>>>10&1023|55296),e=56320|1023&e),t+=I(e)}).join("")}function c(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:C}function u(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,n){var r=0;for(e=n?O(e/D):e>>1,e+=O(e/t);e>B*_>>1;r+=C)e=O(e/B);return O(r+(B+1)*e/(e+A))}function d(e){var t,n,r,o,s,a,u,d,f,p,g=[],m=e.length,v=0,y=S,b=F;for(n=e.lastIndexOf(T),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&i("not-basic"),g.push(e.charCodeAt(r));for(o=n>0?n+1:0;m>o;){for(s=v,a=1,u=C;o>=m&&i("invalid-input"),d=c(e.charCodeAt(o++)),(d>=C||d>O((E-v)/a))&&i("overflow"),v+=d*a,f=b>=u?x:u>=b+_?_:u-b,!(f>d);u+=C)p=C-f,a>O(E/p)&&i("overflow"),a*=p;t=g.length+1,b=h(v-s,t,0==s),O(v/t)>E-y&&i("overflow"),y+=O(v/t),v%=t,g.splice(v++,0,y)}return l(g)}function f(e){var t,n,r,o,s,l,c,d,f,p,g,m,v,y,b,w=[];for(e=a(e),m=e.length,t=S,n=0,s=F,l=0;m>l;++l)g=e[l],128>g&&w.push(I(g));for(r=o=w.length,o&&w.push(T);m>r;){for(c=E,l=0;m>l;++l)g=e[l],g>=t&&c>g&&(c=g);for(v=r+1,c-t>O((E-n)/v)&&i("overflow"),n+=(c-t)*v,t=c,l=0;m>l;++l)if(g=e[l],t>g&&++n>E&&i("overflow"),g==t){for(d=n,f=C;p=s>=f?x:f>=s+_?_:f-s,!(p>d);f+=C)b=d-p,y=C-p,w.push(I(u(p+b%y,0))),d=O(b/y);w.push(I(u(d,0))),s=h(n,v,r==o),n=0,++r}++n,++t}return w.join("")}function p(e){return s(e,function(e){return R.test(e)?d(e.slice(4).toLowerCase()):e})}function g(e){return s(e,function(e){return k.test(e)?"xn--"+f(e):e})}var m="object"==typeof n&&n&&!n.nodeType&&n,v="object"==typeof t&&t&&!t.nodeType&&t,y="object"==typeof e&&e;(y.global===y||y.window===y||y.self===y)&&(r=y);var b,w,E=2147483647,C=36,x=1,_=26,A=38,D=700,F=72,S=128,T="-",R=/^xn--/,k=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=C-x,O=Math.floor,I=String.fromCharCode;if(b={version:"1.3.2",ucs2:{decode:a,encode:l},decode:d,encode:f,toASCII:g,toUnicode:p},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(m&&v)if(t.exports==m)v.exports=b;else for(w in b)b.hasOwnProperty(w)&&(m[w]=b[w]);else r.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],87:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;c>u;++u){var h,d,f,p,g=e[u].replace(a,"%20"),m=g.indexOf(n);m>=0?(h=g.substr(0,m),d=g.substr(m+1)):(h=g,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),r(s,f)?i(s[f])?s[f].push(p):s[f]=[s[f],p]:s[f]=p}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],88:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(s(e),function(s){var a=encodeURIComponent(i(s))+n;return o(e[s])?r(e[s],function(e){return a+encodeURIComponent(i(e))}).join(t):a+encodeURIComponent(i(e[s]))}).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],89:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":87,"./encode":88}],90:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":91}],91:[function(e,t,n){(function(n){function r(e){return this instanceof r?(l.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}t.exports=r;var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=e("core-util-is");a.inherits=e("inherits");var l=e("./_stream_readable"),c=e("./_stream_writable");a.inherits(r,l),o(s(c.prototype),function(e){r.prototype[e]||(r.prototype[e]=c.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":93,"./_stream_writable":95,_process:85,"core-util-is":96,inherits:83}],92:[function(e,t,n){function r(e){return this instanceof r?void i.call(this,e):new r(e)}t.exports=r;var i=e("./_stream_transform"),o=e("core-util-is");o.inherits=e("inherits"),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":94,"core-util-is":96,inherits:83}],93:[function(e,t,n){(function(n){function r(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(S||(S=e("string_decoder/").StringDecoder),this.decoder=new S(t.encoding),this.encoding=t.encoding)}function i(t){e("./_stream_duplex");return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void D.call(this)):new i(t)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(F.isNullOrUndefined(n))t.reading=!1,t.ended||u(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&h(e)),f(e,t);else i||(t.reading=!1);return s(t);
}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=R)e=R;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||F.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return F.isBuffer(t)||F.isString(t)||F.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function u(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,h(e)}function h(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(T("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(function(){d(e)}):d(e))}function d(e){T("emit readable"),e.emit("readable"),y(e)}function f(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(T("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;T("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&A.listenerCount(e,"data")&&(t.flowing=!0,y(e))}}function m(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(function(){v(e,t)}))}function v(e,t){t.resumeScheduled=!1,e.emit("resume"),y(e),t.flowing&&!t.reading&&e.read(0)}function y(e){var t=e._readableState;if(T("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function b(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):_.concat(r,i),r.length=0;else if(e<r[0].length){var a=r[0];n=a.slice(0,e),r[0]=a.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new _(e);for(var l=0,c=0,u=r.length;u>c&&e>l;c++){var a=r[0],h=Math.min(e-l,a.length);o?n+=a.slice(0,h):a.copy(n,l,0,h),h<a.length?r[0]=a.slice(h):r.shift(),l+=h}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function E(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function C(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i;var x=e("isarray"),_=e("buffer").Buffer;i.ReadableState=r;var A=e("events").EventEmitter;A.listenerCount||(A.listenerCount=function(e,t){return e.listeners(t).length});var D=e("stream"),F=e("core-util-is");F.inherits=e("inherits");var S,T=e("util");T=T&&T.debuglog?T.debuglog("stream"):function(){},F.inherits(i,D),i.prototype.push=function(e,t){var n=this._readableState;return F.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new _(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){return S||(S=e("string_decoder/").StringDecoder),this._readableState.decoder=new S(t),this._readableState.encoding=t,this};var R=8388608;i.prototype.read=function(e){T("read",e);var t=this._readableState,n=e;if((!F.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return T("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):h(this),null;if(e=l(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var r=t.needReadable;T("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,T("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,T("reading or ended",r)),r&&(T("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=l(n,t));var i;return i=e>0?b(e,t):null,F.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&w(this),F.isNull(i)||this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){T("onunpipe"),e===h&&o()}function i(){T("onend"),e.end()}function o(){T("cleanup"),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("drain",m),e.removeListener("error",a),e.removeListener("unpipe",r),h.removeListener("end",i),h.removeListener("end",o),h.removeListener("data",s),!d.awaitDrain||e._writableState&&!e._writableState.needDrain||m()}function s(t){T("ondata");var n=e.write(t);!1===n&&(T("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,h.pause())}function a(t){T("onerror",t),u(),e.removeListener("error",a),0===A.listenerCount(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",c),u()}function c(){T("onfinish"),e.removeListener("close",l),u()}function u(){T("unpipe"),h.unpipe(e)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,T("pipe count=%d opts=%j",d.pipesCount,t);var f=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,p=f?i:o;d.endEmitted?n.nextTick(p):h.once("end",p),e.on("unpipe",r);var m=g(h);return e.on("drain",m),h.on("data",s),e._events&&e._events.error?x(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",l),e.once("finish",c),e.emit("pipe",h),d.flowing||(T("pipe resume"),h.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=C(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var r=D.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&h(this,i);else{var o=this;n.nextTick(function(){T("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(T("resume"),e.flowing=!0,e.reading||(T("resume read 0"),this.read(0)),m(this,e)),this},i.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(T("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(T("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)F.isFunction(e[i])&&F.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return E(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){T("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=b}).call(this,e("_process"))},{"./_stream_duplex":91,_process:85,buffer:78,"core-util-is":96,events:82,inherits:83,isarray:84,stream:101,"string_decoder/":102,util:77}],94:[function(e,t,n){function r(e,t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,l.isNullOrUndefined(n)||e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState=new r(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){l.isFunction(this._flush)?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e("./_stream_duplex"),l=e("core-util-is");l.inherits=e("inherits"),l.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;l.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},{"./_stream_duplex":91,"core-util-is":96,inherits:83}],95:[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){f(n,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void x.call(this)):new o(t)}function s(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function a(e,t,r,i){var o=!0;if(!(C.isBuffer(r)||C.isString(r)||C.isNullOrUndefined(r)||t.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function l(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&C.isString(t)&&(t=new E(t,n)),t}function c(e,t,n,i,o){n=l(t,n,i),C.isBuffer(n)&&(i="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new r(n,i,o)):u(e,t,!1,s,n,i,o),a}function u(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function h(e,t,r,i,o){r?n.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function d(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function f(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(d(r),t)h(e,r,i,t,o);else{var s=v(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||m(e,r),i?n.nextTick(function(){p(e,r,s,o)}):p(e,r,s,o)}}function p(e,t,n,r){n||g(e,t),t.pendingcb--,r(),b(e,t)}function g(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function m(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,u(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,s=i.encoding,a=i.callback,l=t.objectMode?1:o.length;if(u(e,t,!1,l,o,s,a),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function y(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function b(e,t){var n=v(e,t);return n&&(0===t.pendingcb?(y(e,t),t.finished=!0,e.emit("finish")):y(e,t)),n}function w(e,t,r){t.ending=!0,b(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var E=e("buffer").Buffer;o.WritableState=i;var C=e("core-util-is");C.inherits=e("inherits");var x=e("stream");C.inherits(o,x),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return C.isFunction(t)&&(n=t,t=null),C.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),C.isFunction(n)||(n=function(){}),r.ended?s(this,r,n):a(this,r,e,n)&&(r.pendingcb++,i=c(this,r,e,t,n)),i},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||m(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var r=this._writableState;C.isFunction(e)?(n=e,e=null,t=null):C.isFunction(t)&&(n=t,t=null),C.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":91,_process:85,buffer:78,"core-util-is":96,inherits:83,stream:101}],96:[function(e,t,n){(function(e){function t(e){return Array.isArray(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function c(e){return void 0===e}function u(e){return h(e)&&"[object RegExp]"===v(e)}function h(e){return"object"==typeof e&&null!==e}function d(e){return h(e)&&"[object Date]"===v(e)}function f(e){return h(e)&&("[object Error]"===v(e)||e instanceof Error)}function p(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function m(t){return e.isBuffer(t)}function v(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=l,n.isUndefined=c,n.isRegExp=u,n.isObject=h,n.isDate=d,n.isError=f,n.isFunction=p,n.isPrimitive=g,n.isBuffer=m}).call(this,e("buffer").Buffer)},{buffer:78}],97:[function(e,t,n){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":92}],98:[function(e,t,n){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=e("stream"),n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":91,"./lib/_stream_passthrough.js":92,"./lib/_stream_readable.js":93,"./lib/_stream_transform.js":94,"./lib/_stream_writable.js":95,stream:101}],99:[function(e,t,n){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":94}],100:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":95}],101:[function(e,t,n){function r(){i.call(this)}t.exports=r;var i=e("events").EventEmitter,o=e("inherits");o(r,i),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){u||(u=!0,e.end())}function s(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(l(),0===i.listenerCount(this,"error"))throw e}function l(){c.removeListener("data",n),e.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",s),c.removeListener("error",a),e.removeListener("error",a),c.removeListener("end",l),c.removeListener("close",l),e.removeListener("close",l)}var c=this;c.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(c.on("end",o),c.on("close",s));var u=!1;return c.on("error",a),e.on("error",a),c.on("end",l),c.on("close",l),e.on("close",l),e.emit("pipe",c),e}},{events:82,inherits:83,"readable-stream/duplex.js":90,"readable-stream/passthrough.js":97,"readable-stream/readable.js":98,"readable-stream/transform.js":99,"readable-stream/writable.js":100}],102:[function(e,t,n){function r(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=e("buffer").Buffer,l=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&56319>=r)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&56319>=r){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{buffer:78}],103:[function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&c(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return l(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function s(e,t){return i(e,!1,!0).resolve(t)}function a(e,t){return e?i(e,!1,!0).resolveObject(t):t}function l(e){return"string"==typeof e}function c(e){return"object"==typeof e&&null!==e}function u(e){return null===e}function h(e){return null==e}var d=e("punycode");n.parse=i,n.resolve=s,n.resolveObject=a,n.format=o,n.Url=r;var f=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r","\n","	"],m=["{","}","|","\\","^","`"].concat(g),v=["'"].concat(m),y=["%","/","?",";","#"].concat(v),b=["/","?","#"],w=255,E=/^[a-z0-9A-Z_-]{0,63}$/,C=/^([a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},D=e("querystring");r.prototype.parse=function(e,t,n){if(!l(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var i=f.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===r.substr(0,2);!s||i&&_[i]||(r=r.substr(2),this.slashes=!0)}if(!_[i]&&(s||i&&!A[i])){for(var a=-1,c=0;c<b.length;c++){var u=r.indexOf(b[c]);-1!==u&&(-1===a||a>u)&&(a=u)}var h,p;p=-1===a?r.lastIndexOf("@"):r.lastIndexOf("@",a),-1!==p&&(h=r.slice(0,p),r=r.slice(p+1),this.auth=decodeURIComponent(h)),a=-1;for(var c=0;c<y.length;c++){var u=r.indexOf(y[c]);-1!==u&&(-1===a||a>u)&&(a=u)}-1===a&&(a=r.length),this.host=r.slice(0,a),r=r.slice(a),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var m=this.hostname.split(/\./),c=0,F=m.length;F>c;c++){var S=m[c];if(S&&!S.match(E)){for(var T="",R=0,k=S.length;k>R;R++)T+=S.charCodeAt(R)>127?"x":S[R];if(!T.match(E)){var M=m.slice(0,c),L=m.slice(c+1),B=S.match(C);B&&(M.push(B[1]),L.unshift(B[2])),L.length&&(r="/"+L.join(".")+r),this.hostname=M.join(".");break}}}if(this.hostname.length>w?this.hostname="":this.hostname=this.hostname.toLowerCase(),!g){for(var O=this.hostname.split("."),I=[],c=0;c<O.length;++c){var P=O[c];I.push(P.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(P):P)}this.hostname=I.join(".")}var $=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+$,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!x[o])for(var c=0,F=v.length;F>c;c++){var N=v[c],U=encodeURIComponent(N);U===N&&(U=escape(N)),r=r.split(N).join(U)}var z=r.indexOf("#");-1!==z&&(this.hash=r.substr(z),r=r.slice(0,z));var W=r.indexOf("?");if(-1!==W?(this.search=r.substr(W),this.query=r.substr(W+1),t&&(this.query=D.parse(this.query)),r=r.slice(0,W)):t&&(this.search="",this.query={}),r&&(this.pathname=r),A[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",P=this.search||"";this.path=$+P}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(o=D.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||A[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+i+n+s+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(l(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),A[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!A[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||_[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var o=n.pathname||"",s=n.search||"";n.path=o+s}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var a=n.pathname&&"/"===n.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=c||a||n.host&&e.pathname,f=d,p=n.pathname&&n.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],g=n.protocol&&!A[n.protocol];if(g&&(n.hostname="",n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),d=d&&(""===i[0]||""===p[0])),c)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,p=i;else if(i.length)p||(p=[]),p.pop(),p=p.concat(i),n.search=e.search,n.query=e.query;else if(!h(e.search)){if(g){n.hostname=n.host=p.shift();var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return n.search=e.search,n.query=e.query,u(n.pathname)&&u(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!p.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var v=p.slice(-1)[0],y=(n.host||e.host)&&("."===v||".."===v)||""===v,b=0,w=p.length;w>=0;w--)v=p[w],"."==v?p.splice(w,1):".."===v?(p.splice(w,1),b++):b&&(p.splice(w,1),b--);if(!d&&!f)for(;b--;b)p.unshift("..");!d||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),y&&"/"!==p.join("/").substr(-1)&&p.push("");var E=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(g){n.hostname=n.host=E?"":p.length?p.shift():"";var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return d=d||n.host&&p.length,d&&!E&&p.unshift(""),p.length?n.pathname=p.join("/"):(n.pathname=null,n.path=null),u(n.pathname)&&u(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{punycode:86,querystring:89}],104:[function(e,t,n){"use strict";t.exports=function(e){var t=this,n=t.constructor;return t.callbacks={},t.directMap={},t.sequenceLevels={},t.resetTimer,t.ignoreNextKeyup=!1,t.ignoreNextKeypress=!1,t.nextExpectedAction=!1,t.element=e,t.addEvents(),n.instances.push(t),t},t.exports.prototype.bind=e("./prototype/bind"),t.exports.prototype.bindMultiple=e("./prototype/bindMultiple"),t.exports.prototype.unbind=e("./prototype/unbind"),t.exports.prototype.trigger=e("./prototype/trigger"),t.exports.prototype.reset=e("./prototype/reset.js"),t.exports.prototype.stopCallback=e("./prototype/stopCallback"),t.exports.prototype.handleKey=e("./prototype/handleKey"),t.exports.prototype.addEvents=e("./prototype/addEvents"),t.exports.prototype.bindSingle=e("./prototype/bindSingle"),t.exports.prototype.getKeyInfo=e("./prototype/getKeyInfo"),t.exports.prototype.pickBestAction=e("./prototype/pickBestAction"),t.exports.prototype.getReverseMap=e("./prototype/getReverseMap"),t.exports.prototype.getMatches=e("./prototype/getMatches"),t.exports.prototype.resetSequences=e("./prototype/resetSequences"),t.exports.prototype.fireCallback=e("./prototype/fireCallback"),t.exports.prototype.bindSequence=e("./prototype/bindSequence"),t.exports.prototype.resetSequenceTimer=e("./prototype/resetSequenceTimer"),t.exports.prototype.detach=e("./prototype/detach"),t.exports.instances=[],t.exports.reset=e("./reset"),t.exports.REVERSE_MAP=null},{"./prototype/addEvents":105,"./prototype/bind":106,"./prototype/bindMultiple":107,"./prototype/bindSequence":108,"./prototype/bindSingle":109,"./prototype/detach":110,"./prototype/fireCallback":111,"./prototype/getKeyInfo":112,"./prototype/getMatches":113,"./prototype/getReverseMap":114,"./prototype/handleKey":115,"./prototype/pickBestAction":118,"./prototype/reset.js":119,"./prototype/resetSequenceTimer":120,"./prototype/resetSequences":121,"./prototype/stopCallback":122,"./prototype/trigger":123,"./prototype/unbind":124,"./reset":125}],105:[function(e,t,n){"use strict";t.exports=function(){var t=this,n=e("dom-event"),r=t.element;t.eventHandler=e("./handleKeyEvent").bind(t),n(r,"keypress",t.eventHandler),n(r,"keydown",t.eventHandler),n(r,"keyup",t.eventHandler)}},{"./handleKeyEvent":116,"dom-event":136}],106:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r.bindMultiple(e,t,n),r}},{}],107:[function(e,t,n){"use strict";t.exports=function(e,t,n){for(var r=this,i=0;i<e.length;++i)r.bindSingle(e[i],t,n)}},{}],108:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e){return function(){a.nextExpectedAction=e,++a.sequenceLevels[t],a.resetSequenceTimer()}}function s(n){var o;a.fireCallback(r,n,t),"keyup"!==i&&(o=e("../../helpers/characterFromEvent"),a.ignoreNextKeyup=o(n)),setTimeout(function(){a.resetSequences()},10)}var a=this;a.sequenceLevels[t]=0;for(var l=0;l<n.length;++l){var c=l+1===n.length,u=c?s:o(i||a.getKeyInfo(n[l+1]).action);a.bindSingle(n[l],u,i,t,l)}}},{"../../helpers/characterFromEvent":126}],109:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i){var o=this;o.directMap[e+":"+n]=t,e=e.replace(/\s+/g," ");var s,a=e.split(" ");return a.length>1?void o.bindSequence(e,a,t,n):(s=o.getKeyInfo(e,n),o.callbacks[s.key]=o.callbacks[s.key]||[],o.getMatches(s.key,s.modifiers,{type:s.action},r,e,i),void o.callbacks[s.key][r?"unshift":"push"]({callback:t,modifiers:s.modifiers,action:s.action,seq:r,level:i,combo:e}))}},{}],110:[function(e,t,n){var r=e("dom-event").off;t.exports=function(){var e=this,t=e.element;r(t,"keypress",e.eventHandler),r(t,"keydown",e.eventHandler),r(t,"keyup",e.eventHandler)}},{"dom-event":136}],111:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o,s,a=this;a.stopCallback(n,n.target||n.srcElement,r,i)||t(n,r)===!1&&(o=e("../../helpers/preventDefault"),o(n),(s=e("../../helpers/stopPropagation"))(n))}},{"../../helpers/preventDefault":130,"../../helpers/stopPropagation":135}],112:[function(e,t,n){"use strict";t.exports=function(t,n){var r,i,o,s,a,l,c,u=this,h=[];for(r=e("../../helpers/keysFromString"),i=r(t),a=e("../../helpers/special-aliases"),l=e("../../helpers/shift-map"),c=e("../../helpers/isModifier"),s=0;s<i.length;++s)o=i[s],a[o]&&(o=a[o]),n&&"keypress"!==n&&l[o]&&(o=l[o],h.push("shift")),c(o)&&h.push(o);return n=u.pickBestAction(o,h,n),{key:o,modifiers:h,action:n}}},{"../../helpers/isModifier":128,"../../helpers/keysFromString":129,"../../helpers/shift-map":131,"../../helpers/special-aliases":132}],113:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,s){var a,l,c,u,h=this,d=[],f=r.type;if("keypress"===f){var p=h.callbacks["any-character"]||[];p.forEach(function(e){d.push(e)})}if(!h.callbacks[t])return d;for(c=e("../../helpers/isModifier"),"keyup"===f&&c(t)&&(n=[t]),a=0;a<h.callbacks[t].length;++a)if(l=h.callbacks[t][a],(i||!l.seq||h.sequenceLevels[l.seq]===l.level)&&f===l.action&&(u=e("./modifiersMatch"),"keypress"===f&&!r.metaKey&&!r.ctrlKey||u(n,l.modifiers))){var g=!i&&l.combo===o,m=i&&l.seq===i&&l.level===s;(g||m)&&h.callbacks[t].splice(a,1),d.push(l)}return d}},{"../../helpers/isModifier":128,"./modifiersMatch":117}],114:[function(e,t,n){"use strict";t.exports=function(){var t,n=this,r=n.constructor;if(!r.REVERSE_MAP){r.REVERSE_MAP={},t=e("../../helpers/special-keys-map");for(var i in t)i>95&&112>i||t.hasOwnProperty(i)&&(r.REVERSE_MAP[t[i]]=i)}return r.REVERSE_MAP}},{"../../helpers/special-keys-map":134}],115:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i,o,s,a,l=this,c={},u=0,h=!1;for(i=l.getMatches(t,n,r),
o=0;o<i.length;++o)i[o].seq&&(u=Math.max(u,i[o].level));for(o=0;o<i.length;++o)if(i[o].seq){if(i[o].level!==u)continue;h=!0,c[i[o].seq]=1,l.fireCallback(i[o].callback,r,i[o].combo,i[o].seq)}else h||l.fireCallback(i[o].callback,r,i[o].combo);a="keypress"===r.type&&l.ignoreNextKeypress,s=e("../../helpers/isModifier"),r.type!==l.nextExpectedAction||s(t)||a||l.resetSequences(c),l.ignoreNextKeypress=h&&"keydown"===r.type}},{"../../helpers/isModifier":128}],116:[function(e,t,n){"use strict";t.exports=function(t){var n,r,i=this;"number"!=typeof t.which&&(t.which=t.keyCode),n=e("../../helpers/characterFromEvent");var o=n(t);if(o){if("keyup"===t.type&&i.ignoreNextKeyup===o)return void(i.ignoreNextKeyup=!1);r=e("../../helpers/eventModifiers"),i.handleKey(o,r(t),t)}}},{"../../helpers/characterFromEvent":126,"../../helpers/eventModifiers":127}],117:[function(e,t,n){"use strict";t.exports=function(e,t){return e.sort().join(",")===t.sort().join(",")}},{}],118:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=this;return n||(n=r.getReverseMap()[e]?"keydown":"keypress"),"keypress"===n&&t.length&&(n="keydown"),n}},{}],119:[function(e,t,n){"use strict";t.exports=function(){var e=this;return e.callbacks={},e.directMap={},this}},{}],120:[function(e,t,n){"use strict";t.exports=function(){var e=this;clearTimeout(e.resetTimer),e.resetTimer=setTimeout(function(){e.resetSequences()},1e3)}},{}],121:[function(e,t,n){"use strict";t.exports=function(e){var t=this;e=e||{};var n,r=!1;for(n in t.sequenceLevels)e[n]?r=!0:t.sequenceLevels[n]=0;r||(t.nextExpectedAction=!1)}},{}],122:[function(e,t,n){"use strict";t.exports=function(e,t){if((" "+t.className+" ").indexOf(" combokeys ")>-1)return!1;var n=t.tagName.toLowerCase();return"input"===n||"select"===n||"textarea"===n||t.isContentEditable}},{}],123:[function(e,t,n){"use strict";t.exports=function(e,t){var n=this;return n.directMap[e+":"+t]&&n.directMap[e+":"+t]({},e),this}},{}],124:[function(e,t,n){"use strict";t.exports=function(e,t){var n=this;return n.bind(e,function(){},t)}},{}],125:[function(e,t,n){"use strict";t.exports=function(){var e=this;e.instances.forEach(function(e){e.reset()})}},{}],126:[function(e,t,n){"use strict";t.exports=function(t){var n,r;if(n=e("./special-keys-map"),r=e("./special-characters-map"),"keypress"===t.type){var i=String.fromCharCode(t.which);return t.shiftKey||(i=i.toLowerCase()),i}return n[t.which]?n[t.which]:r[t.which]?r[t.which]:String.fromCharCode(t.which).toLowerCase()}},{"./special-characters-map":133,"./special-keys-map":134}],127:[function(e,t,n){"use strict";t.exports=function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}},{}],128:[function(e,t,n){"use strict";t.exports=function(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}},{}],129:[function(e,t,n){"use strict";t.exports=function(e){return"+"===e?["+"]:e.split("+")}},{}],130:[function(e,t,n){"use strict";t.exports=function(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}},{}],131:[function(e,t,n){"use strict";t.exports={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"}},{}],132:[function(e,t,n){"use strict";t.exports={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"}},{}],133:[function(e,t,n){"use strict";t.exports={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}},{}],134:[function(e,t,n){"use strict";t.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",187:"plus",189:"minus",224:"meta"};for(var r=1;20>r;++r)t.exports[111+r]="f"+r;for(r=0;9>=r;++r)t.exports[r+96]=r},{}],135:[function(e,t,n){"use strict";t.exports=function(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}},{}],136:[function(e,t,n){function r(e,t,n,r){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,n,r),n}function i(e,t,n,r){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,n,r),n}t.exports=r,t.exports.on=r,t.exports.off=i},{}],137:[function(e,t,n){function r(e){var t=document.createElement("a");return t.style.cursor=e,t.style.cursor===e}var i={},o=["-webkit-","-moz-"];t.exports=function(e){if(e in i)return i[e];if(r(e))return i[e]=e;for(var t=0;t<o.length;++t){var n=o[t]+e;if(r(n))return i[e]=n}}},{}],138:[function(e,t,n){"use strict";function r(e,t){for(var n in t)"onDiaporamaCreated"!==n&&(e[n]=t[n]);return e}var i=e("react"),o=e("diaporama"),s=i.PropTypes,a=i.createClass({displayName:"DiaporamaElement",propTypes:{data:s.object.isRequired,width:s.number.isRequired,height:s.number.isRequired,resolution:s.number,paused:s.bool,loop:s.bool,autoplay:s.bool,currentTime:s.number,playbackRate:s.number,onDiaporamaCreated:s.func},componentDidMount:function(){var e=this.refs.container.getDOMNode(),t=r({},this.props);this.diaporama=o(e,t),this.props.onDiaporamaCreated&&this.props.onDiaporamaCreated(this.diaporama)},componentWillUnmount:function(){this.diaporama.destroy()},componentWillReceiveProps:function(e){r(this.diaporama,e)},shouldComponentUpdate:function(){return!1},render:function(){return i.createElement("div",{ref:"container"})}});t.exports=a},{diaporama:139,react:563}],139:[function(e,t,n){t.exports=e("./lib/Diaporama")},{"./lib/Diaporama":141}],140:[function(e,t,n){t.exports={TRANSITION:0,KENBURNS:[1,2,3],SLIDE2D:[4,5,6],sort:function(e,t){return e-t}}},{}],141:[function(e,t,n){function r(e,t){return f.sort(e[1].channel,t[1].channel)}function i(e){if(l||(l=new b),e){if("webgl"===e||"canvas"===e)return l.supported()?"webgl":null}else e=l.supported()?"webgl":"dom";return e}function o(e,t,n){switch(n){case"webgl":return new g(e,t);case"dom":return new m(e,t)}return null}function s(e,t,n,r,i){var o=_(n/r)+n*i/(t-e);return e+(t-e)*Math.max(0,Math.min(o,1))}function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);if(!e||!e.nodeType)throw new Error("Diaporama: a DOM container is required.");if(t&&!n&&t.data&&(n=t,t=null),n||(n={}),this._runningSegments=[],this._renderingMode=i(n.renderingMode),!this._renderingMode)throw new Error("No rendering is suitable for renderingMode="+n.renderingMode);this._rendering=o(e,n.backgroundColor||this._backgroundColor,this._renderingMode),delete n.renderingMode,delete n.backgroundColor,this._handleResize=this._handleResize.bind(this),this._handleRender=this._handleRender.bind(this),this._container=e;for(var r in n)this[r]=n[r];t&&(this.data=t),(null===this._width||null===this._height)&&this.fitToContainer();var s=this;this.once("canplay",function(){s.renderNow()}),this.once("canplaythrough",function(){s._autoplay?s._start():s._requestRender()}),this._requestResize()}var l,c=e("raf"),u=e("events").EventEmitter,h=e("object-assign"),d=e("bezier-easing"),f=e("./Channels"),p=e("./findTransitionByName"),g=e("./DiaporamaRenderingCanvas"),m=e("./DiaporamaRenderingDOM"),v=e("./TimeInterval"),y=e("./DiaporamaFormatError"),b=e("./WebGLDetector"),w=e("./forEachSlide2dImage"),E=0,C=1,x=2,_=d(.4,0,.8,1);a.prototype=h({},u.prototype,{destroy:function(){this._destroyed||(this._destroyed=!0,this.emit("destroy"),this.removeAllListeners(),this._stopCurrentDiaporamaLoading&&(this._stopCurrentDiaporamaLoading(),this._stopCurrentDiaporamaLoading=null),this._stop(),this._rendering.destroy())},play:function(){this.paused=!1},pause:function(){this.paused=!0},next:function(e){var t=this._slideIndexForTime(this._slidingTarget?this._slidingTarget.to:this._currentTime);if(-1!==t){if(t++,t>=this._slideTimes.length){if(!this._loop)return;t=0}this._slideToTime(this._slideTimes[t],e,!0)}},prev:function(e){var t=this._slideIndexForTime(this._slidingTarget?this._slidingTarget.to:this._currentTime);if(-1!==t){if(t--,0>t){if(!this._loop)return;t=this._slideTimes.length-1}this._slideToTime(this._slideTimes[t],e,!1)}},jump:function(e,t){if("number"!=typeof e)throw new Error("Diaporama#jump requires the slide index number.");if(!(0>e||e>=this._slideTimes.length)){var n=this._slideIndexForTime(this._currentTime);n!==e&&this._slideToTime(this._slideTimes[e],t)}},fitToContainer:function(){var e=this._container,t=e.getBoundingClientRect();this._width=t.width,this._height=t.height,this._requestResize()},_playbackRate:1,_loop:!1,_autoplay:!1,_paused:!0,_width:null,_height:null,_resolution:window.devicePixelRatio||1,_currentTime:0,_duration:0,_backgroundColor:[0,0,0],_curLoop:null,_startLoopId:0,_needResize:null,_needRender:null,_slidingTarget:null,_loadImages:function(){function e(e){-1===d.indexOf(e)&&d.push(e)}function t(){g||(g=1,c.emit("canplay"),c._requestRender())}function n(){m||(m=1,c.emit("canplaythrough"),c._requestRender())}function r(){c.emit("load"),c._requestRender()}function i(){var e=c._segments,t=c._rendering,n=e.length;for(b=0;n>b;++b){var r=e[b];if(r[0].timeInside(0)&&!r[1].ready(t))return!1}return!0}function o(){if(f.SLIDE2D.forEach(function(e){u.getChannelContext(e).setImgsCache(h.imgs)}),p.length===d.length)t(),n(),r(),l();else if(!g&&i()&&t(),g&&!m){var e=Date.now()-v,o=c.duration;.8*p.length/d.length>e/o&&n()}}function s(e){-1!==d.indexOf(e)&&(c.emit("progress",p.length/d.length),p.push(e),o())}function a(e,t){c.emit("error",new Error("Failure to load "+e),t),l()}function l(){h.removeListener("load",s),h.removeListener("error",a),clearInterval(y)}this._stopCurrentDiaporamaLoading&&(this._stopCurrentDiaporamaLoading(),this._stopCurrentDiaporamaLoading=null);var c=this,u=this._rendering,h=u.images,d=[],p=[];this._data.timeline.forEach(function(t){t.image?e(t.image):t.slide2d&&w(t.slide2d.draws,e)});var g,m;if(0===d.length)return void setTimeout(function(){t(),n(),r()},0);var v=Date.now();setTimeout(o,0);var y=setInterval(o,200);h.on("load",s),h.on("error",a);for(var b=0;b<d.length;++b)h.load(d[b]);this._stopCurrentDiaporamaLoading=l},_loadTransitions:function(){var e=this._rendering.transitions;if(e){var t=this._data.transitions||this.GlslTransitions||{};this._data.timeline.forEach(function(n){var r=n.transitionNext&&n.transitionNext.name;if(r&&!e.has(r)){var i=p(r,t);i&&e.set(r,i)}})}},_requestResize:function(){null===this._needResize&&(this._needResize=c(this._handleResize))},_handleResize:function(){null!==this._needResize&&(this._needResize=null,this._resize())},_resize:function(){if(!this._destroyed){var e=this._width,t=this._height,n=this._resolution;this._rendering.resize(e,t,n);for(var r=0;r<this._runningSegments.length;++r)this._runningSegments[r][1].resize(e,t,n);this.emit("resize",e,t),this._requestRender()}},_computeTimelineSegments:function(){for(var e;e=this._runningSegments.pop();){var t=e[1].leave();t&&this.emit.apply(this,t)}for(var n,i=this.loop,o=this._data,s=o.timeline.length,a=0,l=0,c=[],u=[],d=[],p=0;s>p;p++){c.push(a);var g=o.timeline[p],m=g.duration||0,b=g.transitionNext,w=b&&b.duration||0,E=p===s-1?2:p%2;if(g.image){if(0===p){var C=h({},g);C.kenburns=h({},C.kenburns),C.kenburns.to=C.kenburns.from,n=new this._rendering.SegmentKenBurns(f.KENBURNS[E],C)}e=new this._rendering.SegmentKenBurns(f.KENBURNS[E],g)}else{if(!g.slide2d)throw new y("timeline item can't be understood as a segment.",g);0===p&&(n=new this._rendering.SegmentSlide2d(f.SLIDE2D[E],g)),e=new this._rendering.SegmentSlide2d(f.SLIDE2D[E],g)}u.push([new v(a-l,i||p!==s-1?a+m+w:a+m),e]),l=w,a+=m,w&&(d.push({interval:new v(a,a+w),index:p}),a+=w)}for(var x=a-l,_=[],A=0;A<d.length;++A){var D=d[A],F=D.index,S=F+1<o.timeline.length?F+1:0,T=u[F][1],R=u[S][1],k=o.timeline[F].transitionNext;(0!==S||i)&&_.push([D.interval,new this._rendering.SegmentTransition(f.TRANSITION,k,T,R)])}if(i&&u.length){var M=u[0][0].clone();M.add(x),u.push([M,n])}u=_.concat(u),u.sort(r),this._slideTimes=c,this._segments=u,this._duration=x,this._lastTransitionDuration=l},_slideIndexForTime:function(e){var t=this._slideTimes;if(!t)return-1;e=this._normalizeTime(e);for(var n=t.length,r=0;n>r;++r)if(e<t[r])return r-1;return n-1},_slideToTime:function(e,t,n){var r=this._currentTime;if(e!==r){if(this._loop){var i=this.duration,o=Math.abs(e-r),s=Math.abs(e+i-r),a=Math.abs(e-i-r);void 0===n?(o>s||o>a)&&(a>s?e+=i:e-=i):n?o>s&&(e+=i):o>a&&(e-=i)}if(this.paused||!t)this._currentTime=e,this._requestRender();else{var l=this._playbackRate;this._slidingTarget={from:r,to:e,startTime:null,duration:t,initialPlaybackRate:e>r==l>0?l:0}}}},renderNow:function(){this._needRender=!0,this._handleRender()},_requestRender:function(){null===this._curLoop&&null===this._needRender&&(this._needRender=c(this._handleRender))},_handleRender:function(){null!==this._needRender&&(this._needRender=null,this._render())},_normalizeTime:function(e){var t=this.duration;return this._loop?t?(e+t)%t:0:Math.max(0,Math.min(e,t))},_render:function(){if(!this._destroyed){var e=this._rendering;this._handleResize();var t=this._segments;if(0===t.length)return e.render(0,[]),this.emit("render",0,E),E;var n,i,o=this._normalizeTime(this._currentTime),s=this._runningSegments,a=!1,l=[],c=[],u=t.length;for(n=0;u>n;++n){i=t[n];var h=s.indexOf(i),d=-1!==h;if(i[0].timeInside(o)){if(!d){if(!i[1].ready(e)){a=!0;continue}s.push(i),l.push(i[1])}}else d&&(s.splice(h,1),c.push(i[1]))}for(s.sort(r),n=c.length-1;n>=0;n--){i=c[n];var f=i.leave();f&&this.emit.apply(this,f)}for(n=l.length-1;n>=0;n--){i=l[n];var p=i.enter(e);p&&this.emit.apply(this,p)}(0===o||s.length>0)&&this._rendering.render(o,s);var g=s.length>0?a?C:x:E;return this.emit("render",o,g),g}},_start:function(){var e,t=this,n=++this._startLoopId;this._curLoop=c(function r(i){if(t._startLoopId===n){c(r),e||(e=i,t.emit("play"));var o=i-e;e=i;var a=t._render();if(a===E)t.loop?t.currentTime=0:t._stop(!0);else if(a===x){var l=t._slidingTarget;if(null!==l){null===l.startTime&&(l.startTime=i);var u=i-l.startTime,h=s(l.from,l.to,u,l.duration,l.initialPlaybackRate);Math.abs(l.to-h)<10||u>=l.duration?(t._currentTime=l.to,t._slidingTarget=null):t._currentTime=h}else t._currentTime=t._normalizeTime(t._currentTime+o*t._playbackRate)}}})},_stop:function(e){this._startLoopId++,this._slidingTarget&&(this.currentTime=this._slidingTarget.endAt,this._slidingTarget=null),null!==this._curLoop&&(c.cancel(this._curLoop),this._curLoop=null,this.emit("pause"),e&&this.emit("ended"))}}),Object.defineProperties(a.prototype,{loop:{set:function(e){var t=!!e;this._loop!==t&&(this._loop=t,this._data&&(this._computeTimelineSegments(this._data),this._requestRender()))},get:function(){return this._loop}},autoplay:{set:function(e){this._autoplay=e},get:function(){return this._autoplay}},data:{set:function(e){var t=this._data;t!==e&&(this._data=e,this._computeTimelineSegments(t),this._loadTransitions(),this._loadImages(),this._requestRender())},get:function(){return this._data}},resolution:{set:function(e){e!==this._resolution&&(this._resolution=e,this._requestResize())},get:function(){return this._resolution}},width:{set:function(e){e!==this._width&&(this._width=e,this._requestResize())},get:function(){return this._width}},height:{set:function(e){e!==this._height&&(this._height=e,this._requestResize())},get:function(){return this._height}},currentTime:{set:function(e){e!==this._currentTime&&(this._currentTime=this._normalizeTime(e),this._requestRender())},get:function(){return this._currentTime}},playbackRate:{set:function(e){this._playbackRate=e},get:function(){return this._playbackRate}},paused:{set:function(e){var t=null===this._curLoop;e!==t&&(e?this._stop():this._start())},get:function(){return null===this._curLoop}},duration:{get:function(){var e=this._duration||0;return this._loop?e+(this._lastTransitionDuration||0):e},set:function(){throw new Error("Diaporama: duration is a read-only value.")}},renderingMode:{get:function(){return this._renderingMode},set:function(){throw new Error("Diaporama: setting renderingMode afterwards is not supported.")}},backgroundColor:{get:function(){return this._backgroundColor},set:function(){throw new Error("Diaporama: setting backgroundColor afterwards is not supported.")}}}),a.RENDER_NO_SEGMENTS=E,a.RENDER_NOT_READY=C,a.RENDER_READY=x,t.exports=a},{"./Channels":140,"./DiaporamaFormatError":142,"./DiaporamaRenderingCanvas":147,"./DiaporamaRenderingDOM":150,"./TimeInterval":155,"./WebGLDetector":156,"./findTransitionByName":157,"./forEachSlide2dImage":158,"bezier-easing":71,events:82,"object-assign":186,raf:353}],142:[function(e,t,n){function r(e,t){var n=Error.call(this,e);this.name=n.name="DiaporamaFormatError",this.stack=n.stack,this.message=n.message,this.data=t}r.prototype=Object.create(Error.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t.exports=r},{}],143:[function(e,t,n){function r(e,t){this.gl=e,this.shader=i(e,a,l),this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW);var n=t.concat([1]);this.background=s(e,o(new Float32Array(n.concat(n).concat(n).concat(n)),[2,2,4]))}var i=e("gl-shader"),o=e("ndarray"),s=e("gl-texture2d"),a=["attribute vec2 position;","varying vec2 uv;","void main() {","gl_Position = vec4(position,0.0,1.0);","uv = 0.5 * (position+1.0);","}"].join(""),l=["precision mediump float;","uniform sampler2D buffer;","varying vec2 uv;","void main() {","gl_FragColor = texture2D(buffer, uv);","}"].join("");r.prototype={dispose:function(){this.gl.deleteBuffer(this.buffer),this.background.dispose(),this.shader.dispose()},renderTexture:function(e){var t=this.gl,n=this.shader;n.bind(),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),n.attributes.position.pointer(),n.uniforms.buffer=e.bind(),t.drawArrays(t.TRIANGLES,0,6)},renderFBO:function(e){this.renderTexture(e.color[0])},renderEmpty:function(){this.renderTexture(this.background)}},t.exports=r},{"gl-shader":162,"gl-texture2d":179,ndarray:183}],144:[function(e,t,n){function r(e,t,n,r){s.call(this,e,t),this.segmentFrom=n,this.segmentTo=r}var i=e("object-assign"),o=e("bezier-easing"),s=e("../SegmentTimeline");r.prototype=i({},s.prototype,{toString:function(){return"SegmentTransition("+this.channel+","+this.segmentFrom.channel+"~>"+this.segmentTo.channel+")"},ready:function(e){return this.segmentFrom.ready(e)&&this.segmentTo.ready(e)&&(!this.data.name||e.transitions.has(this.data.name))},enter:function(e){var t=this.data,n=e.transitions.getOrFade(t.name),r=e.getChannelContext(this.channel);return this.gl=r,this.from=e.getChannel(this.segmentFrom.channel),this.to=e.getChannel(this.segmentTo.channel),this.uniforms=i({},n.uniforms,t.uniforms||{}),this.duration=t.duration||1e3,this.easing=o.apply(null,t.easing||[0,0,1,1]),this.t=n.t,["transition",this.data,this.segmentFrom.data,this.segmentTo.data]},resize:function(){this.t.render(this.easing(this._p||0),this.from,this.to,this.uniforms)},leave:function(){return["transitionEnd",this.data,this.segmentFrom.data,this.segmentTo.data]},render:function(e){this._p=e,this.t.render(this.easing(e),this.from,this.to,this.uniforms)}}),t.exports=r},{"../SegmentTimeline":153,"bezier-easing":71,"object-assign":186}],145:[function(e,t,n){function r(e,t){s.call(this,e,t)}var i=e("object-assign"),o=e("gl-texture2d"),s=e("../SegmentKenBurns");r.prototype=i({},s.prototype,{enter:function(e){this.getSize=e.getSize.bind(e);var t=s.prototype.enter.apply(this,arguments);return this.texture=o(e.gl,this.image),this.texture.minFilter=this.texture.magFilter=e.gl.LINEAR,t},leave:function(){return this.texture.dispose(),s.prototype.leave.apply(this,arguments)},draw:function(e,t){this.kenburns.render(this.texture,t)}}),t.exports=r},{"../SegmentKenBurns":151,"gl-texture2d":179,"object-assign":186}],146:[function(e,t,n){function r(e){this.gl=e,this.ts={},this.set("fade",o)}var i=e("glsl-transition"),o=e("glsl-transition-fade");r.prototype={destroy:function(){for(var e in this.ts)this.ts[e].t.dispose();this.ts=null},has:function(e){return e in this.ts},set:function(e,t){var n=i(this.gl,t.glsl);this.ts[e]={t:n,uniforms:t.uniforms||{}}},get:function(e){return this.ts[e]},getOrFade:function(e){return e&&this.ts[e]||this.ts.fade}},t.exports=r},{"glsl-transition":180,"glsl-transition-fade":189}],147:[function(e,t,n){function r(e,t){this._container=e,this.bg=t.concat([1]),this._canvas=null,this._canvases={},this._textures={},this._ctxs={},this._fbos={},this._currentChannel=null;var n=this.shape=[1,1],r=document.createElement("canvas"),c=r.getContext("webgl");c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),this.gl=c,this._post=new l(c,t);var u=s(c,n);this._attachContext(p.TRANSITION,c,u),p.KENBURNS.forEach(function(e){var t=s(c,n),r=new i(c);this._attachContext(e,r,t)},this),p.SLIDE2D.forEach(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");this._canvases[e]=t;var r=a(c,t);r.minFilter=r.magFilter=c.LINEAR,this._textures[e]=r,this._attachContext(e,o(n))},this),this._container.appendChild(this._canvas=r),this.images=new f,this.transitions=new d(this.getChannelContext(p.TRANSITION))}var i=e("kenburns-webgl"),o=e("slide2d"),s=e("gl-fbo"),a=e("gl-texture2d"),l=e("./Post"),c=e("./SegmentGlslTransition"),u=e("./SegmentKenBurnsWebGL"),h=e("../SegmentSlide2d"),d=e("./StoreTransitions"),f=e("../StoreImages"),p=e("../Channels");r.prototype={SegmentTransition:c,SegmentKenBurns:u,SegmentSlide2d:h,destroy:function(){this.images.destroy(),this.transitions.destroy();for(var e in this._ctxs){var t=this._ctxs[e];t.destroy?t.destroy():t.dispose&&t.dispose()}for(var n in this._fbos)this._fbos[n].dispose();for(var r in this._textures)this._textures[r].dispose();this._post.dispose(),this._fbos=null,this._canvas=null,this._canvases=null,this._ctxs=null,this._post=null,this._currentChannel=null},getSize:function(){var e=this.shape;return{width:e[0],height:e[1]}},resize:function(e,t,n){var r=e*n,i=t*n,o=this.shape=[r,i],s=this._canvas,a=this._container;s.style.width=e+"px",s.style.height=t+"px",s.width=r,s.height=i,a.style.width=e+"px",a.style.height=t+"px";for(var l in this._canvases){var c=this._canvases[l];c.width=r,c.height=i}for(var u in this._fbos)this._fbos[u].shape=o;for(var h in this._textures)this._textures[h].shape=o},getChannel:function(e){var t=this._fbos[e];if(t)return t.color[0];var n=this._canvases[e],r=this._textures[e],i=this.gl;return i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),r.setPixels(n),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1),r},getChannelContext:function(e){return this._ctxs[e]},switchChannel:function(e){this._currentChannel=e},_attachContext:function(e,t,n){this._ctxs[e]=t,n&&(this._fbos[e]=n)},preparePostRender:function(){var e=this.gl,t=this.bg,n=this.shape;e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,n[0],n[1]),e.clearColor.apply(e,t),e.clear(e.COLOR_BUFFER_BIT)},render:function(e,t){if(t.length>0){for(var n,r=t.length-1;r>=0;r--){var i=t[r],o=i[1],s=i[0];n=o.channel;var a=this._fbos[o.channel];a&&a.bind(),o.render(s.interpolate(e))}this.preparePostRender(),this._post.renderTexture(this.getChannel(n))}else this.preparePostRender(),this._post.renderEmpty()}},t.exports=r},{"../Channels":140,"../SegmentSlide2d":152,"../StoreImages":154,"./Post":143,"./SegmentGlslTransition":144,"./SegmentKenBurnsWebGL":145,"./StoreTransitions":146,"gl-fbo":161,"gl-texture2d":179,"kenburns-webgl":182,slide2d:567}],148:[function(e,t,n){function r(e,t,n,r){s.call(this,e,t),this.segmentFrom=n,this.segmentTo=r}var i=e("object-assign"),o=e("bezier-easing"),s=e("../SegmentTimeline");r.prototype=i({},s.prototype,{toString:function(){return"SegmentTransition("+this.channel+","+this.segmentFrom.channel+"~>"+this.segmentTo.channel+")"},ready:function(e){return this.segmentFrom.ready(e)&&this.segmentTo.ready(e)},enter:function(e){var t=this.data,n=e.getChannel(this.segmentFrom.channel),r=e.getChannel(this.segmentTo.channel),i=e.getChannel(this.channel);return n.style.position="absolute",n.style.top=0,n.style.left=0,r.style.position="absolute",r.style.top=0,r.style.left=0,i.appendChild(r),i.appendChild(n),this.container=i,this.from=n,this.to=r,this.duration=t.duration||1e3,this.easing=o.apply(null,t.easing||[0,0,1,1]),["transition",t,this.segmentFrom.data,this.segmentTo.data]},resize:function(){},leave:function(){return this.container.removeChild(this.from),this.container.removeChild(this.to),this.from.style.opacity=1,this.to.style.opacity=1,["transitionEnd",this.data,this.segmentFrom.data,this.segmentTo.data]},render:function(e){var t=this.easing(e);this.from.style.opacity=1-t}}),t.exports=r},{"../SegmentTimeline":153,"bezier-easing":71,"object-assign":186}],149:[function(e,t,n){function r(e,t){o.call(this,e,t)}var i=e("object-assign"),o=e("../SegmentKenBurns");r.prototype=i({},o.prototype,{enter:function(e){return this.div=e.getChannel(this.channel),this.getSize=e.getSize.bind(e),o.prototype.enter.apply(this,arguments)},draw:function(e,t){this.kenburns.draw(e,t)}}),t.exports=r},{"../SegmentKenBurns":151,"object-assign":186}],150:[function(e,t,n){function r(e,t){this._container=e;var n=this._container.style.position;n&&"static"!==n||(this._container.style.position="relative"),this._container.style.backgroundColor="rgb("+t.map(function(e){return~~(255*e)})+")",this._nodes={},this._ctxs={},this.createDOM(),this.images=new a}var i=e("kenburns-dom"),o=e("slide2d"),s=e("../Channels"),a=e("../StoreImages"),l=e("./SegmentDomTransition"),c=e("./SegmentKenBurnsDOM"),u=e("../SegmentSlide2d");r.prototype={SegmentTransition:l,SegmentKenBurns:c,SegmentSlide2d:u,destroy:function(){this._setChild(null),this.images.destroy();for(var e in this._ctxs)this._ctxs[e].destroy&&this._ctxs[e].destroy();this._nodes=null,this._ctxs=null},resize:function(e,t,n){this._w=e,this._h=t;var r=e*n,i=t*n;for(var o in this._nodes){var s=this._nodes[o];s.style.width=e+"px",s.style.height=t+"px","CANVAS"===s.nodeName&&(s.width=r,s.height=i)}this._container.style.width=e+"px",this._container.style.height=t+"px"},getSize:function(){return{width:this._w,height:this._h}},getChannel:function(e){return this._nodes[e]},getChannelContext:function(e){return this._ctxs[e]},switchChannel:function(e){e!==this._c&&(this._c=e,this._setChild(this._nodes[e]))},render:function(e,t){if(t.length>0){for(var n=t.length-1;n>=0;n--){var r=t[n],i=r[1],o=r[0];i.render(o.interpolate(e))}this.switchChannel(t[0][1].channel)}else this.switchChannel(null)},createDOM:function(){var e=document.createElement("div");this._attachChannel(s.TRANSITION,e,e),s.KENBURNS.forEach(function(e){var t=document.createElement("div"),n=new i(t);n.getViewport=this.getSize.bind(this),this._attachChannel(e,t,n)},this),s.SLIDE2D.forEach(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");this._attachChannel(e,t,o(n))},this)},_attachChannel:function(e,t,n){this._nodes[e]=t,this._ctxs[e]=n},_setChild:function(e){var t=this._container,n=t.children[0];n&&t.removeChild(n),e&&t.appendChild(e)}},t.exports=r},{"../Channels":140,"../SegmentSlide2d":152,"../StoreImages":154,"./SegmentDomTransition":148,"./SegmentKenBurnsDOM":149,"kenburns-dom":181,slide2d:567}],151:[function(e,t,n){function r(e,t){c.call(this,e,t),this.clamped=!0}var i=e("object-assign"),o=e("rect-clamp"),s=e("rect-crop"),a=e("rect-mix"),l=e("bezier-easing"),c=e("./SegmentTimeline");r.prototype=i({},c.prototype,{toString:function(){return"SegmentKenBurns("+this.channel+")"},ready:function(e){return e.images.has(this.data.image)},enter:function(e){var t=this.data,n=e.images.get(t.image),r=e.getChannelContext(this.channel);this.kenburns=r,this.image=n;var i=s.largest,o=s.largest;return t.kenburns&&(t.kenburns.from&&(i=s.apply(null,t.kenburns.from)),t.kenburns.to&&(o=s.apply(null,t.kenburns.to))),this.from=i,this.to=o,this.easing=l.apply(null,t.kenburns&&t.kenburns.easing||[0,0,1,1]),this.viewport=[0,0,n.width,n.height],this.computeBounds(),r.runStart&&r.runStart(n),["slide",t]},resize:function(){this.computeBounds()},leave:function(){var e=this.kenburns;return e.runEnd&&e.runEnd(),["slideEnd",this.data]},render:function(e){var t=this.image,n=a(this.fromCropBound,this.toCropBound,this.easing(e));this.clamped&&(n=o(n,this.viewport)),this.draw(t,n)},cropBound:function(e){var t=this.image,n=e(this.getSize(),t);return this.clamped&&(n=o(n,this.viewport)),n},computeBounds:function(){this.fromCropBound=this.cropBound(this.from),this.toCropBound=this.cropBound(this.to)}}),t.exports=r},{"./SegmentTimeline":153,"bezier-easing":71,"object-assign":186,"rect-clamp":564,"rect-crop":565,"rect-mix":566}],152:[function(e,t,n){function r(e,t){o.call(this,e,t),this.imgs=[],s(t.slide2d.draws,this.imgs.push,this.imgs),this._needRender=!1}var i=e("object-assign"),o=e("./SegmentTimeline"),s=e("./forEachSlide2dImage");r.prototype=i({},o.prototype,{toString:function(){return"SegmentSlide2d("+this.channel+")"},ready:function(e){for(var t=0;t<this.imgs.length;++t)if(!e.images.has(this.imgs[t]))return!1;return!0},enter:function(e){return this.ctx=e.getChannelContext(this.channel),this._render(),["slide",this.data]},resize:function(){this._needRender=!0},leave:function(){return["slideEnd",this.data]},render:function(){this._needRender&&this._render()},_render:function(){this._needRender=!1,this.ctx.render(this.data.slide2d)}}),t.exports=r},{"./SegmentTimeline":153,"./forEachSlide2dImage":158,"object-assign":186}],153:[function(e,t,n){function r(e,t){this.channel=e,this.data=t}var i=e("./noop");r.prototype={toString:function(){return"SegmentTimeline("+this.channel+")"},ready:function(){return!0},enter:i,leave:i,render:i,resize:i},t.exports=r},{"./noop":160}],154:[function(e,t,n){function r(e){this.imgs={},this._loading=[],this._threshold=e||3,this._queue=[]}var i=e("object-assign"),o=e("events").EventEmitter;r.prototype=i({},o.prototype,{destroy:function(){this.removeAllListeners(),this.imgs={},this._loading=[],this._queue=[]},has:function(e){return e in this.imgs},get:function(e){return this.imgs[e]},load:function(e){this._loading.length>=this._threshold?this._queue.push(e):this._loadImage(e)},_loadImage:function(e){if(-1===this._loading.indexOf(e)){var t=this,n=new window.Image;n.crossOrigin=!0,this._take(e),n.onload=function(){t._release(e)&&(t.imgs[e]=n,t.emit("load",e,n))},n.onabort=n.onerror=function(n){t._release(e)&&(t.imgs[e]=null,t.emit("error",e,n))},n.src=e}},_take:function(e){this._loading.push(e)},_release:function(e){var t=this._loading.indexOf(e);if(-1===t)return!1;if(this._loading.splice(t,1),this._queue.length>0){var n=this._queue.shift();this._loadImage(n)}return!0}}),t.exports=r},{events:82,"object-assign":186}],155:[function(e,t,n){function r(e,t){this.startT=e,this.endT=t}var i=e("./mix");r.prototype={toString:function(){return"TimeInterval("+this.startT+","+this.endT+")"},clone:function(){return new r(this.startT,this.endT)},add:function(e){this.startT+=e,this.endT+=e},timeInside:function(e){return this.startT<=e&&e<this.endT},interpolate:function(e){return i(this.startT,this.endT,e)}},t.exports=r},{"./mix":159}],156:[function(e,t,n){function r(){this.canvas=document.createElement("canvas"),this.canvas.addEventListener("webglcontextlost",function(e){e.preventDefault(),this.gl=null}.bind(this),!1)}var i=e("webglew");r.prototype={supported:function(){if(this.gl||(this.gl=this.canvas.getContext("webgl")),!this.gl)return!1;var e=i(this.gl);return e.OES_texture_float}},t.exports=r},{webglew:188}],157:[function(e,t,n){t.exports=function(e,t){for(var n=0;n<t.length;++n)if(t[n].name.toLowerCase()===e.toLowerCase())return t[n]}},{}],158:[function(e,t,n){t.exports=function e(t,n,r){t.forEach(function(t){t instanceof Array&&("object"==typeof t[0]?e(t,n,r):"drawImage"===t[0]&&n.call(r,t[1]))})}},{}],159:[function(e,t,n){t.exports=function(e,t,n){return Math.max(0,Math.min(1,(n-e)/(t-e)))}},{}],160:[function(e,t,n){t.exports=function(){}},{}],161:[function(e,t,n){"use strict";function r(e){var t=e.getParameter(e.FRAMEBUFFER_BINDING),n=e.getParameter(e.RENDERBUFFER_BINDING),r=e.getParameter(e.TEXTURE_BINDING_2D);
return[t,n,r]}function i(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t[0]),e.bindRenderbuffer(e.RENDERBUFFER,t[1]),e.bindTexture(e.TEXTURE_2D,t[2])}function o(e,t){var n=e.getParameter(t.MAX_COLOR_ATTACHMENTS_WEBGL);b=new Array(n+1);for(var r=0;n>=r;++r){for(var i=new Array(n),o=0;r>o;++o)i[o]=e.COLOR_ATTACHMENT0+o;for(var o=r;n>o;++o)i[o]=e.NONE;b[r]=i}}function s(e){switch(e){case g:throw new Error("gl-fbo: Framebuffer unsupported");case m:throw new Error("gl-fbo: Framebuffer incomplete attachment");case v:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case y:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function a(e,t,n,r,i,o){if(!r)return null;var s=p(e,t,n,i,r);return s.magFilter=e.NEAREST,s.minFilter=e.NEAREST,s.mipSamples=1,s.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,o,e.TEXTURE_2D,s.handle,0),s}function l(e,t,n,r,i){var o=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,o),e.renderbufferStorage(e.RENDERBUFFER,r,t,n),e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,o),o}function c(e){var t=r(e.gl),n=e.gl,o=e.handle=n.createFramebuffer(),c=e._shape[0],u=e._shape[1],h=e.color.length,d=e._ext,p=e._useStencil,g=e._useDepth,m=e._colorType,v=f(n);n.bindFramebuffer(n.FRAMEBUFFER,o);for(var y=0;h>y;++y)e.color[y]=a(n,c,u,m,n.RGBA,n.COLOR_ATTACHMENT0+y);0===h?(e._color_rb=l(n,c,u,n.RGBA4,n.COLOR_ATTACHMENT0),d&&d.drawBuffersWEBGL(b[0])):h>1&&d.drawBuffersWEBGL(b[numColor]),v.WEBGL_depth_texture?p?e.depth=a(n,c,u,v.WEBGL_depth_texture.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):g&&(e.depth=a(n,c,u,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):g&&p?e._depth_rb=l(n,c,u,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):g?e._depth_rb=l(n,c,u,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):p&&(e._depth_rb=l(n,c,u,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var w=n.checkFramebufferStatus(n.FRAMEBUFFER);if(w!==n.FRAMEBUFFER_COMPLETE){e._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(e.handle),e.handle=null,e.depth&&(e.depth.dispose(),e.depth=null),e._depth_rb&&(n.deleteRenderbuffer(e._depth_rb),e._depth_rb=null);for(var y=0;y<e.color.length;++y)e.color[y].dispose(),e.color[y]=null;e._color_rb&&(n.deleteRenderbuffer(e._color_rb),e._color_rb=null),i(n,t),s(w)}i(n,t)}function u(e,t,n,r,i,o,s,a){f(e);this.gl=e,this._shape=[0|t,0|n],this._destroyed=!1,this._ext=a,this.color=new Array(i);for(var l=0;i>l;++l)this.color[l]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=o,this._useStencil=s;var u=this,h=[0|t,0|n];Object.defineProperties(h,{0:{get:function(){return u._shape[0]},set:function(e){return u.width=e}},1:{get:function(){return u._shape[1]},set:function(e){return u.height=e}}}),this._shapeVector=h,c(this)}function h(e,t,n){if(e._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(e._shape[0]!==t||e._shape[1]!==n){var o=e.gl,a=o.getParameter(o.MAX_RENDERBUFFER_SIZE);if(0>t||t>a||0>n||n>a)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");e._shape[0]=t,e._shape[1]=n;for(var l=r(o),c=0;c<e.color.length;++c)e.color[c].shape=e._shape;e._color_rb&&(o.bindRenderbuffer(o.RENDERBUFFER,e._color_rb),o.renderbufferStorage(o.RENDERBUFFER,o.RGBA4,e._shape[0],e._shape[1])),e.depth&&(e.depth.shape=e._shape),e._depth_rb&&(o.bindRenderbuffer(o.RENDERBUFFER,e._depth_rb),e._useDepth&&e._useStencil?o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,e._shape[0],e._shape[1]):e._useDepth?o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,e._shape[0],e._shape[1]):e._useStencil&&o.renderbufferStorage(o.RENDERBUFFER,o.STENCIL_INDEX,e._shape[0],e._shape[1])),o.bindFramebuffer(o.FRAMEBUFFER,e.handle);var u=o.checkFramebufferStatus(o.FRAMEBUFFER);u!==o.FRAMEBUFFER_COMPLETE&&(e.dispose(),i(o,l),s(u)),i(o,l)}}function d(e,t,n,r){g||(g=e.FRAMEBUFFER_UNSUPPORTED,m=e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,v=e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,y=e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var i=f(e);if(!b&&i.WEBGL_draw_buffers&&o(e,i.WEBGL_draw_buffers),Array.isArray(t)&&(r=n,n=0|t[1],t=0|t[0]),"number"!=typeof t)throw new Error("gl-fbo: Missing shape parameter");var s=e.getParameter(e.MAX_RENDERBUFFER_SIZE);if(0>t||t>s||0>n||n>s)throw new Error("gl-fbo: Parameters are too large for FBO");r=r||{};var a=1;if("color"in r){if(a=Math.max(0|r.color,0),0>a)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(a>1){var l=i.WEBGL_draw_buffers;if(!l)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(a>e.getParameter(l.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+a+" draw buffers")}}var c=e.UNSIGNED_BYTE;if(r.float&&a>0){if(!i.OES_texture_float)throw new Error("gl-fbo: Context does not support floating point textures");c=e.FLOAT}else r.preferFloat&&a>0&&i.OES_texture_float&&(c=e.FLOAT);var h=!0;"depth"in r&&(h=!!r.depth);var d=!1;return"stencil"in r&&(d=!!r.stencil),new u(e,t,n,c,a,h,d,i.WEBGL_draw_buffers)}var f=e("webglew"),p=e("gl-texture2d");t.exports=d;var g,m,v,y,b=null,w=u.prototype;Object.defineProperties(w,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(e){if(Array.isArray(e)||(e=[0|e,0|e]),2!==e.length)throw new Error("gl-fbo: Shape vector must be length 2");var t=0|e[0],n=0|e[1];return h(this,t,n),[t,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(e){return e=0|e,h(this,e,this._shape[1]),e},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(e){return e=0|e,h(this,this._shape[0],e),e},enumerable:!1}}),w.bind=function(){if(!this._destroyed){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.handle),e.viewport(0,0,this._shape[0],this._shape[1])}},w.dispose=function(){if(!this._destroyed){this._destroyed=!0;var e=this.gl;e.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(e.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var t=0;t<this.color.length;++t)this.color[t].dispose(),this.color[t]=null;this._color_rb&&(e.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":179,webglew:188}],162:[function(e,t,n){"use strict";function r(e){this.gl=e,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(e,t){return e.name<t.name?-1:1}function o(e,t,n,i,o){var s=new r(e);return s.update(t,n,i,o),s}var s=e("./lib/create-uniforms"),a=e("./lib/create-attributes"),l=e("./lib/reflect"),c=e("./lib/shader-cache"),u=e("./lib/runtime-reflect"),h=r.prototype;h.bind=function(){this.program||this._relink(),this.gl.useProgram(this.program)},h.dispose=function(){this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(e,t,n,r){function o(){d.program=c.program(f,d._vref,d._fref,b,w);for(var e=0;e<n.length;++e)F[e]=f.getUniformLocation(d.program,n[e].name)}if(!t||1===arguments.length){var h=e;e=h.vertex,t=h.fragment,n=h.uniforms,r=h.attributes}var d=this,f=d.gl,p=d._vref;d._vref=c.shader(f,f.VERTEX_SHADER,e),p&&p.dispose(),d.vertShader=d._vref.shader;var g=this._fref;if(d._fref=c.shader(f,f.FRAGMENT_SHADER,t),g&&g.dispose(),d.fragShader=d._fref.shader,!n||!r){var m=f.createProgram();if(f.attachShader(m,d.fragShader),f.attachShader(m,d.vertShader),f.linkProgram(m),!f.getProgramParameter(m,f.LINK_STATUS)){var v=f.getProgramInfoLog(m);throw console.error("gl-shader: Error linking program:",v),new Error("gl-shader: Error linking program:"+v)}n=n||u.uniforms(f,m),r=r||u.attributes(f,m),f.deleteProgram(m)}r=r.slice(),r.sort(i);for(var y=[],b=[],w=[],E=0;E<r.length;++E){var C=r[E];if(C.type.indexOf("mat")>=0){for(var x=0|C.type.charAt(C.type.length-1),_=new Array(x),A=0;x>A;++A)_[A]=w.length,b.push(C.name+"["+A+"]"),"number"==typeof C.location?w.push(C.location+A):Array.isArray(C.location)&&C.location.length===x&&"number"==typeof C.location[A]?w.push(0|C.location[A]):w.push(-1);y.push({name:C.name,type:C.type,locations:_})}else y.push({name:C.name,type:C.type,locations:[w.length]}),b.push(C.name),"number"==typeof C.location?w.push(0|C.location):w.push(-1)}for(var D=0,E=0;E<w.length;++E)if(w[E]<0){for(;w.indexOf(D)>=0;)D+=1;w[E]=D}var F=new Array(n.length);o(),d._relink=o,d.types={uniforms:l(n),attributes:l(r)},d.attributes=a(f,d,y,w),Object.defineProperty(d,"uniforms",s(f,d,n,F))},t.exports=o},{"./lib/create-attributes":163,"./lib/create-uniforms":164,"./lib/reflect":165,"./lib/runtime-reflect":166,"./lib/shader-cache":167}],163:[function(e,t,n){"use strict";function r(e,t,n,r,i,o){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}function i(e,t,n,i,o,s,a){for(var l=["gl","v"],c=[],u=0;o>u;++u)l.push("x"+u),c.push("x"+u);l.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+c.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var h=Function.apply(null,l),d=new r(e,t,n,i,o,h);Object.defineProperty(s,a,{set:function(t){return e.disableVertexAttribArray(i[n]),h(e,i[n],t),t},get:function(){return d},enumerable:!0})}function o(e,t,n,r,o,s,a){for(var l=new Array(o),c=new Array(o),u=0;o>u;++u)i(e,t,n[u],r,o,l,u),c[u]=l[u];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray)for(var t=0;o>t;++t)c[t].location=e[t];else for(var t=0;o>t;++t)result[t]=c[t].location=e+t;return e},get:function(){for(var e=new Array(o),t=0;o>t;++t)e[t]=r[n[t]];return e},enumerable:!0}),l.pointer=function(t,i,s,a){t=t||e.FLOAT,i=!!i,s=s||o*o,a=a||0;for(var l=0;o>l;++l){var c=r[n[l]];e.vertexAttribPointer(c,o,t,i,s,a+l*o),e.enableVertexAttribArray(c)}};var h=new Array(o),d=e["vertexAttrib"+o+"fv"];Object.defineProperty(s,a,{set:function(t){for(var i=0;o>i;++i){var s=r[n[i]];if(e.disableVertexAttribArray(s),Array.isArray(t[0]))d.call(e,s,t[i]);else{for(var a=0;o>a;++a)h[a]=t[o*i+a];d.call(e,s,h)}}return t},get:function(){return l},enumerable:!0})}function s(e,t,n,r){for(var s={},a=0,l=n.length;l>a;++a){var c=n[a],u=c.name,h=c.type,d=c.locations;switch(h){case"bool":case"int":case"float":i(e,t,d[0],r,1,s,u);break;default:if(h.indexOf("vec")>=0){var f=h.charCodeAt(h.length-1)-48;if(2>f||f>4)throw new Error("gl-shader: Invalid data type for attribute "+u+": "+h);i(e,t,d[0],r,f,s,u)}else{if(!(h.indexOf("mat")>=0))throw new Error("gl-shader: Unknown data type for attribute "+u+": "+h);var f=h.charCodeAt(h.length-1)-48;if(2>f||f>4)throw new Error("gl-shader: Invalid data type for attribute "+u+": "+h);o(e,t,d,r,f,s,u)}}}return s}t.exports=s;var a=r.prototype;a.pointer=function(e,t,n,r){var i=this,o=i._gl,s=i._locations[i._index];o.vertexAttribPointer(s,i._dimension,e||o.FLOAT,!!t,n||0,r||0),o.enableVertexAttribArray(s)},a.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},{}],164:[function(e,t,n){"use strict";function r(e){var t=new Function("y","return function(){return y}");return t(e)}function i(e,t){for(var n=new Array(e),r=0;e>r;++r)n[r]=t;return n}function o(e,t,n,o){function a(n){var r=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}");return r(e,t,o)}function l(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(r>=0&&1>=r&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var i=n.charCodeAt(n.length-1)-48;if(2>i||i>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+i+"fv(locations["+t+"],false,obj"+e+")"}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+n)}var i=n.charCodeAt(n.length-1)-48;if(2>i||i>4)throw new Error("gl-shader: Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+i+"fv(locations["+t+"],obj"+e+")";default:throw new Error("gl-shader: Unrecognized data type for vector "+name+": "+n)}}}function c(e,t){if("object"!=typeof t)return[[e,t]];var n=[];for(var r in t){var i=t[r],o=e;o+=parseInt(r)+""===r?"["+r+"]":"."+r,"object"==typeof i?n.push.apply(n,c(o,i)):n.push([o,i])}return n}function u(t){for(var r=["return function updateProperty(obj){"],i=c("",t),s=0;s<i.length;++s){var a=i[s],u=a[0],h=a[1];o[h]&&r.push(l(u,h,n[h].type))}r.push("return obj}");var d=new Function("gl","locations",r.join("\n"));return d(e,o)}function h(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var t=e.indexOf("vec");if(t>=0&&1>=t&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(2>n||n>4)throw new Error("gl-shader: Invalid data type");return"b"===e.charAt(0)?i(n,!1):i(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n=e.charCodeAt(e.length-1)-48;if(2>n||n>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+e);return i(n*n,0)}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+e)}}function d(e,t,i){if("object"==typeof i){var s=f(i);Object.defineProperty(e,t,{get:r(s),set:u(i),enumerable:!0,configurable:!1})}else o[i]?Object.defineProperty(e,t,{get:a(i),set:u(i),enumerable:!0,configurable:!1}):e[t]=h(n[i].type)}function f(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)d(t,n,e[n])}else{t={};for(var r in e)d(t,r,e[r])}return t}var p=s(n,!0);return{get:r(f(p)),set:u(p),enumerable:!0,configurable:!0}}var s=e("./reflect");t.exports=o},{"./reflect":165}],165:[function(e,t,n){"use strict";function r(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name,o=i.split("."),s=n,a=0;a<o.length;++a){var l=o[a].split("[");if(l.length>1){l[0]in s||(s[l[0]]=[]),s=s[l[0]];for(var c=1;c<l.length;++c){var u=parseInt(l[c]);c<l.length-1||a<o.length-1?(u in s||(c<l.length-1?s[u]=[]:s[u]={}),s=s[u]):t?s[u]=r:s[u]=e[r].type}}else a<o.length-1?(l[0]in s||(s[l[0]]={}),s=s[l[0]]):t?s[l[0]]=r:s[l[0]]=e[r].type}return n}t.exports=r},{}],166:[function(e,t,n){"use strict";function r(e,t){if(!a){var n=Object.keys(s);a={};for(var r=0;r<n.length;++r){var i=n[r];a[e[i]]=s[i]}}return a[t]}function i(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=[],o=0;n>o;++o){var s=e.getActiveUniform(t,o);s&&i.push({name:s.name,type:r(e,s.type)})}return i}function o(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=[],o=0;n>o;++o){var s=e.getActiveAttrib(t,o);s&&i.push({name:s.name,type:r(e,s.type)})}return i}n.uniforms=i,n.attributes=o;var s={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},a=null},{}],167:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=s}function i(e){this.gl=e,this.shaders=[{},{}],this.programs={}}function o(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);throw console.error("gl-shader: Error compiling shader:",i),new Error("gl-shader: Error compiling shader:"+i)}return r}function s(e,t,n,r,i){var o=e.createProgram();e.attachShader(o,t),e.attachShader(o,n);for(var s=0;s<r.length;++s)e.bindAttribLocation(o,i[s],r[s]);if(e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var a=e.getProgramInfoLog(o);throw console.error("gl-shader: Error linking program:",a),new Error("gl-shader: Error linking program:"+a)}return o}function a(e){var t=h.get(e);return t||(t=new i(e),h.set(e,t)),t}function l(e,t,n){return a(e).getShaderReference(t,n)}function c(e,t,n,r,i){return a(e).getProgram(t,n,r,i)}n.shader=l,n.program=c;var u="undefined"==typeof WeakMap?e("weakmap-shim"):WeakMap,h=new u,d=0;r.prototype.dispose=function(){if(0===--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,i=n.length;i>r;++r){var o=e.programs[n[r]];o&&(delete e.programs[r],t.deleteProgram(o))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var f=i.prototype;f.getShaderReference=function(e,t){var n=this.gl,i=this.shaders[e===n.FRAGMENT_SHADER|0],s=i[t];if(s)s.count+=1;else{var a=o(n,e,t);s=i[t]=new r(d++,t,e,a,[],1,this)}return s},f.getProgram=function(e,t,n,r){var i=[e.id,t.id,n.join(":"),r.join(":")].join("@"),o=this.programs[i];return o||(this.programs[i]=o=s(this.gl,e.shader,t.shader,n,r),e.programs.push(i),t.programs.push(i)),o}},{"weakmap-shim":170}],168:[function(e,t,n){function r(){var e={};return function(t){if(("object"!=typeof t||null===t)&&"function"!=typeof t)throw new Error("Weakmap-shim: Key must be object");var n=t.valueOf(e);return n&&n.identity===e?n:i(t,e)}}var i=e("./hidden-store.js");t.exports=r},{"./hidden-store.js":169}],169:[function(e,t,n){function r(e,t){var n={identity:t},r=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?r.apply(this,arguments):n},writable:!0}),n}t.exports=r},{}],170:[function(e,t,n){function r(){var e=i();return{get:function(t,n){var r=e(t);return r.hasOwnProperty("value")?r.value:n},set:function(t,n){e(t).value=n},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}var i=e("./create-store.js");t.exports=r},{"./create-store.js":168}],171:[function(e,t,n){"use strict";function r(e){if(!e)return a;for(var t=0;t<e.args.length;++t){var n=e.args[t];0===t?e.args[t]={name:n,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:e.args[t]={name:n,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function i(e){return s({args:e.args,pre:r(e.pre),body:r(e.body),post:r(e.proc),funcName:e.funcName})}function o(e){for(var t=[],n=0;n<e.args.length;++n)t.push("a"+n);var r=new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""));return r(i(e))}var s=e("cwise-compiler"),a={body:"",args:[],thisVars:[],localVars:[]},l={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in l){var t=l[e];n[e]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),n[e+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),n[e+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),n[e+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}}();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in c){var t=c[e];n[e]=o({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),n[e+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var u={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in u){var t=u[e];n[e]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),n[e+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),n[e+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),n[e+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var h=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<h.length;++e){var t=h[e];n[t]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),n[t+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var d=["max","min","atan2","pow"];!function(){for(var e=0;e<d.length;++e){var t=d[e];n[t]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),n[t+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),n[t+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),n[t+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var f=["atan2","pow"];!function(){for(var e=0;e<f.length;++e){var t=f[e];n[t+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),n[t+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),n[t+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),n[t+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),n.any=s({args:["array"],pre:a,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),n.all=s({args:["array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),n.sum=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),n.prod=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),n.norm2squared=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),n.norm2=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),n.norminf=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),n.norm1=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),n.sup=s({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.inf=s({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.argmin=s({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.argmax=s({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),n.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),n.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),n.equals=s({args:["array","array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":172}],172:[function(e,t,n){"use strict";function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(e){var t=new r;t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var i=0;i<n.length;++i){var s=n[i];if("array"===s||"object"==typeof s&&s.blockIndices){if(t.argTypes[i]="array",t.arrayArgs.push(i),t.arrayBlockIndices.push(s.blockIndices?s.blockIndices:0),t.shimArgs.push("array"+i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===s)t.scalarArgs.push(i),t.shimArgs.push("scalar"+i);else if("index"===s){if(t.indexArgs.push(i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===s){if(t.shapeArgs.push(i),i<t.pre.args.length&&t.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<t.post.args.length&&t.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof s||!s.offset)throw new Error("cwise: Unknown argument type "+n[i]);t.argTypes[i]="offset",t.offsetArgs.push({array:s.array,offset:s.offset}),t.offsetArgIndex.push(i)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,o(t)}var o=e("./lib/thunk.js");t.exports=i},{"./lib/thunk.js":174}],173:[function(e,t,n){"use strict";function r(e,t,n){var r,i,o=e.length,s=t.arrayArgs.length,a=t.indexArgs.length>0,l=[],c=[],u=0,h=0;for(r=0;o>r;++r)c.push(["i",r,"=0"].join(""));for(i=0;s>i;++i)for(r=0;o>r;++r)h=u,u=e[r],0===r?c.push(["d",i,"s",r,"=t",i,"p",u].join("")):c.push(["d",i,"s",r,"=(t",i,"p",u,"-s",h,"*t",i,"p",h,")"].join(""));for(l.push("var "+c.join(",")),r=o-1;r>=0;--r)u=e[r],l.push(["for(i",r,"=0;i",r,"<s",u,";++i",r,"){"].join(""));for(l.push(n),r=0;o>r;++r){for(h=u,u=e[r],i=0;s>i;++i)l.push(["p",i,"+=d",i,"s",r].join(""));a&&(r>0&&l.push(["index[",h,"]-=s",h].join("")),l.push(["++index[",u,"]"].join(""))),l.push("}")}return l.join("\n")}function i(e,t,n,i){for(var o=t.length,s=n.arrayArgs.length,a=n.blockSize,l=n.indexArgs.length>0,c=[],u=0;s>u;++u)c.push(["var offset",u,"=p",u].join(""));for(var u=e;o>u;++u)c.push(["for(var j"+u+"=SS[",t[u],"]|0;j",u,">0;){"].join("")),c.push(["if(j",u,"<",a,"){"].join("")),c.push(["s",t[u],"=j",u].join("")),c.push(["j",u,"=0"].join("")),c.push(["}else{s",t[u],"=",a].join("")),c.push(["j",u,"-=",a,"}"].join("")),l&&c.push(["index[",t[u],"]=j",u].join(""));for(var u=0;s>u;++u){for(var h=["offset"+u],d=e;o>d;++d)h.push(["j",d,"*t",u,"p",t[d]].join(""));c.push(["p",u,"=(",h.join("+"),")"].join(""))}c.push(r(t,n,i));for(var u=e;o>u;++u)c.push("}");return c.join("\n")}function o(e){for(var t=0,n=e[0].length;n>t;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}function s(e,t,n){for(var r=e.body,i=[],o=[],s=0;s<e.args.length;++s){var a=e.args[s];if(!(a.count<=0)){var l=new RegExp(a.name,"g"),c="",u=t.arrayArgs.indexOf(s);switch(t.argTypes[s]){case"offset":var h=t.offsetArgIndex.indexOf(s),d=t.offsetArgs[h];u=d.array,c="+q"+h;case"array":c="p"+u+c;var f="l"+s,p="a"+u;if(0===t.arrayBlockIndices[u])1===a.count?"generic"===n[u]?a.lvalue?(i.push(["var ",f,"=",p,".get(",c,")"].join("")),r=r.replace(l,f),o.push([p,".set(",c,",",f,")"].join(""))):r=r.replace(l,[p,".get(",c,")"].join("")):r=r.replace(l,[p,"[",c,"]"].join("")):"generic"===n[u]?(i.push(["var ",f,"=",p,".get(",c,")"].join("")),r=r.replace(l,f),a.lvalue&&o.push([p,".set(",c,",",f,")"].join(""))):(i.push(["var ",f,"=",p,"[",c,"]"].join("")),r=r.replace(l,f),a.lvalue&&o.push([p,"[",c,"]=",f].join("")));else{for(var g=[a.name],m=[c],v=0;v<Math.abs(t.arrayBlockIndices[u]);v++)g.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(v+1)+"*t"+u+"b"+v);if(l=new RegExp(g.join(""),"g"),c=m.join("+"),"generic"===n[u])throw new Error("cwise: Generic arrays not supported in combination with blocks!");
r=r.replace(l,[p,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+t.scalarArgs.indexOf(s));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function a(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var i=e[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?t[r]="u"+i.charAt(1)+o:t[r]=i.charAt(0)+o,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}function l(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,l=new Array(e.arrayArgs.length),u=new Array(e.arrayArgs.length),h=0;h<e.arrayArgs.length;++h)u[h]=t[2*h],l[h]=t[2*h+1];for(var d=[],f=[],p=[],g=[],m=[],h=0;h<e.arrayArgs.length;++h){e.arrayBlockIndices[h]<0?(p.push(0),g.push(n),d.push(n),f.push(n+e.arrayBlockIndices[h])):(p.push(e.arrayBlockIndices[h]),g.push(e.arrayBlockIndices[h]+n),d.push(0),f.push(e.arrayBlockIndices[h]));for(var v=[],y=0;y<l[h].length;y++)p[h]<=l[h][y]&&l[h][y]<g[h]&&v.push(l[h][y]-p[h]);m.push(v)}for(var b=["SS"],w=["'use strict'"],E=[],y=0;n>y;++y)E.push(["s",y,"=SS[",y,"]"].join(""));for(var h=0;h<e.arrayArgs.length;++h){b.push("a"+h),b.push("t"+h),b.push("p"+h);for(var y=0;n>y;++y)E.push(["t",h,"p",y,"=t",h,"[",p[h]+y,"]"].join(""));for(var y=0;y<Math.abs(e.arrayBlockIndices[h]);++y)E.push(["t",h,"b",y,"=t",h,"[",d[h]+y,"]"].join(""))}for(var h=0;h<e.scalarArgs.length;++h)b.push("Y"+h);if(e.shapeArgs.length>0&&E.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var C=new Array(n),h=0;n>h;++h)C[h]="0";E.push(["index=[",C.join(","),"]"].join(""))}for(var h=0;h<e.offsetArgs.length;++h){for(var x=e.offsetArgs[h],_=[],y=0;y<x.offset.length;++y)0!==x.offset[y]&&(1===x.offset[y]?_.push(["t",x.array,"p",y].join("")):_.push([x.offset[y],"*t",x.array,"p",y].join("")));0===_.length?E.push("q"+h+"=0"):E.push(["q",h,"=",_.join("+")].join(""))}var A=c([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));E=E.concat(A),w.push("var "+E.join(","));for(var h=0;h<e.arrayArgs.length;++h)w.push("p"+h+"|=0");e.pre.body.length>3&&w.push(s(e.pre,e,u));var D=s(e.body,e,u),F=o(m);n>F?w.push(i(F,m[0],e,D)):w.push(r(m[0],e,D)),e.post.body.length>3&&w.push(s(e.post,e,u)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+w.join("\n")+"\n----------");var S=[e.funcName||"unnamed","_cwise_loop_",l[0].join("s"),"m",F,a(u)].join(""),T=new Function(["function ",S,"(",b.join(","),"){",w.join("\n"),"} return ",S].join(""));return T()}var c=e("uniq");t.exports=l},{uniq:175}],174:[function(e,t,n){"use strict";function r(e){var t=["'use strict'","var CACHED={}"],n=[],r=e.funcName+"_cwise_thunk";t.push(["return function ",r,"(",e.shimArgs.join(","),"){"].join(""));for(var o=[],s=[],a=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[l]),e.arrayBlockIndices[l]<0?","+e.arrayBlockIndices[l]+")":")"].join("")],l=0;l<e.arrayArgs.length;++l){var c=e.arrayArgs[l];n.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),o.push("t"+c),o.push("r"+c),s.push("t"+c),s.push("r"+c+".join()"),a.push("array"+c+".data"),a.push("array"+c+".stride"),a.push("array"+c+".offset|0")}for(var l=0;l<e.scalarArgs.length;++l)a.push("scalar"+e.scalarArgs[l]);n.push(["type=[",s.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",a.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------");var u=new Function("compile",t.join("\n"));return u(i.bind(void 0,e))}var i=e("./compile.js");t.exports=r},{"./compile.js":173}],175:[function(e,t,n){"use strict";function r(e,t){for(var n=1,r=e.length,i=e[0],o=e[0],s=1;r>s;++s)if(o=i,i=e[s],t(i,o)){if(s===n){n++;continue}e[n++]=i}return e.length=n,e}function i(e){for(var t=1,n=e.length,r=e[0],i=e[0],o=1;n>o;++o,i=r)if(i=r,r=e[o],r!==i){if(o===t){t++;continue}e[t++]=r}return e.length=t,e}function o(e,t,n){return 0===e.length?e:t?(n||e.sort(t),r(e,t)):(n||e.sort(),i(e))}t.exports=o},{}],176:[function(e,t,n){"use strict";"use restrict";function r(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}var i=32;n.INT_BITS=i,n.INT_MAX=2147483647,n.INT_MIN=-1<<i-1,n.sign=function(e){return(e>0)-(0>e)},n.abs=function(e){var t=e>>i-1;return(e^t)-t},n.min=function(e,t){return t^(e^t)&-(t>e)},n.max=function(e,t){return e^(e^t)&-(t>e)},n.isPow2=function(e){return!(e&e-1||!e)},n.log2=function(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1},n.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},n.popCount=function(e){return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24},n.countTrailingZeros=r,n.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},n.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},n.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var o=new Array(256);!function(e){for(var t=0;256>t;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(o),n.reverse=function(e){return o[255&e]<<24|o[e>>>8&255]<<16|o[e>>>16&255]<<8|o[e>>>24&255]},n.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},n.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),e=65535&(e|e>>>16),e<<16>>16},n.interleave3=function(e,t,n){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),e|n<<2},n.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),e=1023&(e|e>>>16),e<<22>>22},n.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},{}],177:[function(e,t,n){"use strict";function r(e,t,n){var i=0|e[n];if(0>=i)return[];var o,s=new Array(i);if(n===e.length-1)for(o=0;i>o;++o)s[o]=t;else for(o=0;i>o;++o)s[o]=r(e,t,n+1);return s}function i(e,t){var n,r;for(n=new Array(e),r=0;e>r;++r)n[r]=t;return n}function o(e,t){switch("undefined"==typeof t&&(t=0),typeof e){case"number":if(e>0)return i(0|e,t);break;case"object":if("number"==typeof e.length)return r(e,t,0)}return[]}t.exports=o},{}],178:[function(e,t,n){(function(t,r){"use strict";function i(e){if(e){var t=e.length||e.byteLength,n=y.log2(t);C[n].push(e)}}function o(e){i(e.buffer)}function s(e){var e=y.nextPow2(e),t=y.log2(e),n=C[t];return n.length>0?n.pop():new ArrayBuffer(e)}function a(e){return new Uint8Array(s(e),0,e)}function l(e){return new Uint16Array(s(2*e),0,e)}function c(e){return new Uint32Array(s(4*e),0,e)}function u(e){return new Int8Array(s(e),0,e)}function h(e){return new Int16Array(s(2*e),0,e)}function d(e){return new Int32Array(s(4*e),0,e)}function f(e){return new Float32Array(s(4*e),0,e)}function p(e){return new Float64Array(s(8*e),0,e)}function g(e){return w?new Uint8ClampedArray(s(e),0,e):a(e)}function m(e){return new DataView(s(e),0,e)}function v(e){e=y.nextPow2(e);var t=y.log2(e),n=x[t];return n.length>0?n.pop():new r(e)}var y=e("bit-twiddle"),b=e("dup");t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var w="undefined"!=typeof Uint8ClampedArray,E=t.__TYPEDARRAY_POOL;E.UINT8C||(E.UINT8C=b([32,0])),E.BUFFER||(E.BUFFER=b([32,0]));var C=E.DATA,x=E.BUFFER;n.free=function(e){if(r.isBuffer(e))x[y.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|y.log2(t);C[n].push(e)}},n.freeUint8=n.freeUint16=n.freeUint32=n.freeInt8=n.freeInt16=n.freeInt32=n.freeFloat32=n.freeFloat=n.freeFloat64=n.freeDouble=n.freeUint8Clamped=n.freeDataView=o,n.freeArrayBuffer=i,n.freeBuffer=function(e){x[y.log2(e.length)].push(e)},n.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return s(e);switch(t){case"uint8":return a(e);case"uint16":return l(e);case"uint32":return c(e);case"int8":return u(e);case"int16":return h(e);case"int32":return d(e);case"float":case"float32":return f(e);case"double":case"float64":return p(e);case"uint8_clamped":return g(e);case"buffer":return v(e);case"data":case"dataview":return m(e);default:return null}return null},n.mallocArrayBuffer=s,n.mallocUint8=a,n.mallocUint16=l,n.mallocUint32=c,n.mallocInt8=u,n.mallocInt16=h,n.mallocInt32=d,n.mallocFloat32=n.mallocFloat=f,n.mallocFloat64=n.mallocDouble=p,n.mallocUint8Clamped=g,n.mallocDataView=m,n.mallocBuffer=v,n.clearCache=function(){for(var e=0;32>e;++e)E.UINT8[e].length=0,E.UINT16[e].length=0,E.UINT32[e].length=0,E.INT8[e].length=0,E.INT16[e].length=0,E.INT32[e].length=0,E.FLOAT[e].length=0,E.DOUBLE[e].length=0,E.UINT8C[e].length=0,C[e].length=0,x[e].length=0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"bit-twiddle":176,buffer:78,dup:177}],179:[function(e,t,n){"use strict";function r(e){v=[e.LINEAR,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_NEAREST],y=[e.NEAREST,e.LINEAR,e.NEAREST_MIPMAP_NEAREST,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_LINEAR],b=[e.REPEAT,e.CLAMP_TO_EDGE,e.MIRRORED_REPEAT]}function i(e,t,n){var r=e.gl,i=r.getParameter(r.MAX_TEXTURE_SIZE);if(0>t||t>i||0>n||n>i)throw new Error("gl-texture2d: Invalid texture size");return e._shape=[t,n],e.bind(),r.texImage2D(r.TEXTURE_2D,0,e.format,t,n,0,e.format,e.type,null),e._mipLevels=[0],e}function o(e,t,n,r,i,o){this.gl=e,this.handle=t,this.format=i,this.type=o,this._shape=[n,r],this._mipLevels=[0],this._magFilter=e.NEAREST,this._minFilter=e.NEAREST,this._wrapS=e.CLAMP_TO_EDGE,this._wrapT=e.CLAMP_TO_EDGE,this._anisoSamples=1;var s=this,a=[this._wrapS,this._wrapT];Object.defineProperties(a,[{get:function(){return s._wrapS},set:function(e){return s.wrapS=e}},{get:function(){return s._wrapT},set:function(e){return s.wrapT=e}}]),this._wrapVector=a;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return s._shape[0]},set:function(e){return s.width=e}},{get:function(){return s._shape[1]},set:function(e){return s.height=e}}]),this._shapeVector=l}function s(e,t){return 3===e.length?1===t[2]&&t[1]===e[0]*e[2]&&t[0]===e[2]:1===t[0]&&t[1]===e[0]}function a(e,t,n,r,i,o,a,l){var c=l.dtype,u=l.shape.slice();if(u.length<2||u.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var h=0,d=0,m=s(u,l.stride.slice());"float32"===c?h=e.FLOAT:"float64"===c?(h=e.FLOAT,m=!1,c="float32"):"uint8"===c?h=e.UNSIGNED_BYTE:(h=e.UNSIGNED_BYTE,m=!1,c="uint8");var v=1;if(2===u.length)d=e.LUMINANCE,u=[u[0],u[1],1],l=f(l.data,u,[l.stride[0],l.stride[1],1],l.offset);else{if(3!==u.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===u[2])d=e.ALPHA;else if(2===u[2])d=e.LUMINANCE_ALPHA;else if(3===u[2])d=e.RGB;else{if(4!==u[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");d=e.RGBA}v=u[2]}if(d!==e.LUMINANCE&&d!==e.ALPHA||i!==e.LUMINANCE&&i!==e.ALPHA||(d=i),d!==i)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=l.size,b=a.indexOf(r)<0;if(b&&a.push(r),h===o&&m)0===l.offset&&l.data.length===y?b?e.texImage2D(e.TEXTURE_2D,r,i,u[0],u[1],0,i,o,l.data):e.texSubImage2D(e.TEXTURE_2D,r,t,n,u[0],u[1],i,o,l.data):b?e.texImage2D(e.TEXTURE_2D,r,i,u[0],u[1],0,i,o,l.data.subarray(l.offset,l.offset+y)):e.texSubImage2D(e.TEXTURE_2D,r,t,n,u[0],u[1],i,o,l.data.subarray(l.offset,l.offset+y));else{var E;E=o===e.FLOAT?g.mallocFloat32(y):g.mallocUint8(y);var C=f(E,u,[u[2],u[2]*u[0],1]);h===e.FLOAT&&o===e.UNSIGNED_BYTE?w(C,l):p.assign(C,l),b?e.texImage2D(e.TEXTURE_2D,r,i,u[0],u[1],0,i,o,E.subarray(0,y)):e.texSubImage2D(e.TEXTURE_2D,r,t,n,u[0],u[1],i,o,E.subarray(0,y)),o===e.FLOAT?g.freeFloat32(E):g.freeUint8(E)}}function l(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}function c(e,t,n,r,i){var s=e.getParameter(e.MAX_TEXTURE_SIZE);if(0>t||t>s||0>n||n>s)throw new Error("gl-texture2d: Invalid texture shape");if(i===e.FLOAT&&!m(e).texture_float)throw new Error("gl-texture2d: Floating point textures not supported on this platform");var a=l(e);return e.texImage2D(e.TEXTURE_2D,0,r,t,n,0,r,i,null),new o(e,a,t,n,r,i)}function u(e,t,n,r){var i=l(e);return e.texImage2D(e.TEXTURE_2D,0,n,n,r,t),new o(e,i,0|t.width,0|t.height,n,r)}function h(e,t){var n=t.dtype,r=t.shape.slice(),i=e.getParameter(e.MAX_TEXTURE_SIZE);if(r[0]<0||r[0]>i||r[1]<0||r[1]>i)throw new Error("gl-texture2d: Invalid texture size");var a=s(r,t.stride.slice()),c=0;"float32"===n?c=e.FLOAT:"float64"===n?(c=e.FLOAT,a=!1,n="float32"):"uint8"===n?c=e.UNSIGNED_BYTE:(c=e.UNSIGNED_BYTE,a=!1,n="uint8");var u=0;if(2===r.length)u=e.LUMINANCE,r=[r[0],r[1],1],t=f(t.data,r,[t.stride[0],t.stride[1],1],t.offset);else{if(3!==r.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===r[2])u=e.ALPHA;else if(2===r[2])u=e.LUMINANCE_ALPHA;else if(3===r[2])u=e.RGB;else{if(4!==r[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");u=e.RGBA}}c!==e.FLOAT||m(e).texture_float||(c=e.UNSIGNED_BYTE,a=!1);var h,d,v=t.size;if(a)h=0===t.offset&&t.data.length===v?t.data:t.data.subarray(t.offset,t.offset+v);else{var y=[r[2],r[2]*r[0],1];d=g.malloc(v,n);var b=f(d,r,y,0);"float32"!==n&&"float64"!==n||c!==e.UNSIGNED_BYTE?p.assign(b,t):w(b,t),h=d.subarray(0,v)}var E=l(e);return e.texImage2D(e.TEXTURE_2D,0,u,r[0],r[1],0,u,c,h),a||g.free(d),new o(e,E,r[0],r[1],u,c)}function d(e){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(v||r(e),"number"==typeof arguments[1])return c(e,arguments[1],arguments[2],arguments[3]||e.RGBA,arguments[4]||e.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return c(e,0|arguments[1][0],0|arguments[1][1],arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var t=arguments[1];if(t instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof ImageData)return u(e,t,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(t.shape&&t.data&&t.stride)return h(e,t)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var f=e("ndarray"),p=e("ndarray-ops"),g=e("typedarray-pool"),m=e("webglew");t.exports=d;var v=null,y=null,b=null,w=function(e,t){p.muls(e,t,255)},E=o.prototype;Object.defineProperties(E,{minFilter:{get:function(){return this._minFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&v.indexOf(e)>=0&&(m(t).texture_float_linear||(e=t.NEAREST)),y.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),this._minFilter=e}},magFilter:{get:function(){return this._magFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&v.indexOf(e)>=0&&(m(t).texture_float_linear||(e=t.NEAREST)),y.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),this._magFilter=e}},mipSamples:{get:function(){return this._anisoSamples},set:function(e){var t=this._anisoSamples;if(this._anisoSamples=0|Math.max(e,1),t!==this._anisoSamples){var n=m(this.gl).EXT_texture_filter_anisotropic;n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(e){if(this.bind(),b.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this._wrapS=e}},wrapT:{get:function(){return this._wrapT},set:function(e){if(this.bind(),b.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this._wrapT=e}},wrap:{get:function(){return this._wrapVector},set:function(e){if(Array.isArray(e)||(e=[e,e]),2!==e.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var t=0;2>t;++t)if(b.indexOf(e[t])<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);this._wrapS=e[0],this._wrapT=e[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),e}},shape:{get:function(){return this._shapeVector},set:function(e){if(Array.isArray(e)){if(2!==e.length)throw new Error("gl-texture2d: Invalid texture shape")}else e=[0|e,0|e];return i(this,0|e[0],0|e[1]),[0|e[0],0|e[1]]}},width:{get:function(){return this._shape[0]},set:function(e){return e=0|e,i(this,e,this._shape[1]),e}},height:{get:function(){return this._shape[1]},set:function(e){return e=0|e,i(this,this._shape[0],e),e}}}),E.bind=function(e){var t=this.gl;return void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(t.TEXTURE_2D,this.handle),void 0!==e?0|e:t.getParameter(t.ACTIVE_TEXTURE)-t.TEXTURE0},E.dispose=function(){this.gl.deleteTexture(this.handle)},E.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var e=Math.min(this._shape[0],this._shape[1]),t=0;e>0;++t,e>>>=1)this._mipLevels.indexOf(t)<0&&this._mipLevels.push(t)},E.setPixels=function(e,t,n,r){var i=this.gl;if(this.bind(),Array.isArray(t)?(r=n,n=0|t[1],t=0|t[0]):(t=t||0,n=n||0),r=r||0,e instanceof HTMLCanvasElement||e instanceof ImageData||e instanceof HTMLImageElement||e instanceof HTMLVideoElement){var o=this._mipLevels.indexOf(r)<0;o?(i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,e),this._mipLevels.push(r)):i.texSubImage2D(i.TEXTURE_2D,r,t,n,this.format,this.type,e)}else{if(!(e.shape&&e.stride&&e.data))throw new Error("gl-texture2d: Unsupported data type");if(e.shape.length<2||t+e.shape[1]>this._shape[1]>>>r||n+e.shape[0]>this._shape[0]>>>r||0>t||0>n)throw new Error("gl-texture2d: Texture dimensions are out of bounds");a(i,t,n,r,this.format,this.type,this._mipLevels,e)}}},{ndarray:183,"ndarray-ops":171,"typedarray-pool":178,webglew:188}],180:[function(e,t,n){function r(e,t){return this instanceof r?(this.gl=e,this.shader=i(e,o,t),void(this.buffer=e.createBuffer())):new r(e,t)}var i=e("gl-shader"),o="attribute vec2 position; void main() { gl_Position = vec4(2.0*position-1.0, 0.0, 1.0);}";t.exports=r,r.prototype={dispose:function(){this.shader.dispose(),this.gl.deleteBuffer(this.buffer),this.shader=null,this.buffer=null},render:function(e,t,n,r){var i=this.gl,o=this.shader,s=0;o.bind(),this._checkViewport(),o.uniforms.progress=e,o.uniforms.from=t.bind(s++),o.uniforms.to=n.bind(s++);for(var a in r){var l=r[a];l&&l.bind?o.uniforms[a]=l.bind(s++):o.uniforms[a]!==l&&(o.uniforms[a]=l)}i.drawArrays(i.TRIANGLES,0,6)},_checkViewport:function(){var e=this.gl,t=e.canvas,n=t.width,r=t.height;(this._w!==n||this._h!==r)&&(this._syncViewport(n,r),this._w=n,this._h=r)},_syncViewport:function(e,t){var n=this.gl,r=this.shader,i=this.buffer,o=0,s=e,a=0,l=t;r.uniforms.resolution=new Float32Array([e,t]),n.bindBuffer(n.ARRAY_BUFFER,i),r.attributes.position.pointer(),n.bufferData(n.ARRAY_BUFFER,new Float32Array([o,a,s,a,o,l,o,l,s,a,s,l]),n.STATIC_DRAW),n.viewport(o,a,s,l)}}},{"gl-shader":162}],181:[function(e,t,n){function r(e){this.elt=e,"absolute"!==e.style.position&&(e.style.position="relative"),e.style.overflow="hidden"}var i=e("vendor-prefix"),o=i("transform"),s=i("transform-origin");r.prototype={clamped:!0,rgb:[0,0,0],getViewport:function(){return this.elt.getBoundingClientRect()},abort:function(){this.reset()},_transformForRect:function(e){var t=this.getViewport(),n=t.width/e[2],r=[-e[0]+"px",-e[1]+"px"];return"scale("+n+") translate("+r+")"},_reset:function(){this.elt.style.backgroundColor="rgb("+this.rgb.map(function(e){return 255*e})+")",this.elt.innerHTML=""},_setImage:function(e){e!==this.image&&(this._reset(),this.elt.appendChild(e),e.style.position="absolute",e.style.top=0,e.style.left=0,e.style[s]="0% 0%",this.image=e)},_positionImage:function(e){this.image.style[o]=this._transformForRect(e)},runStart:function(e){this._setImage(e)},draw:function(e,t){this._positionImage(t)}},t.exports=r},{"vendor-prefix":569}],182:[function(e,t,n){function r(e){return this instanceof r?(this.gl=e,this.shader=i(e,"#define GLSLIFY 1\n\n\nvarying vec2 uv;\n\nattribute vec2 p;\n\nuniform vec2 imgRes; // image size\nuniform vec2 pos; // bound position\nuniform vec2 dim; // bound size\n\nvoid main() {\n  uv = pos/imgRes + ((p * vec2(1.,-1.)+1.)/2.) * (dim/imgRes);\n  gl_Position = vec4(p,0.,1.);\n}\n","#define GLSLIFY 1\n\nprecision highp float;\n\nvarying vec2 uv;\n\nuniform sampler2D img;\nuniform vec3 bg;\n\nvoid main() {\n  if(uv.x<0.||uv.x>1.||uv.y<0.||uv.y>1.)\n    gl_FragColor = vec4(bg, 1.0);\n  else\n    gl_FragColor = texture2D(img, uv);\n}\n"),this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),void e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW)):new r(e)}var i=e("gl-shader");r.prototype={clamped:!0,rgb:[0,0,0],dispose:function(){this.shader.dispose(),this.gl.deleteBuffer(this.buffer),this.gl=null,this.shader=null,this.buffer=null},render:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3];if(isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw new Error("invalid numbers in bound: "+t);var s=this.gl,a=this.shader;a.bind(),s.bindBuffer(s.ARRAY_BUFFER,this.buffer),a.attributes.p.pointer(),a.uniforms.imgRes=e.shape.slice(0,2),a.uniforms.bg=this.rgb,a.uniforms.img=e.bind(),a.uniforms.pos=[n,r],a.uniforms.dim=[i,o],s.drawArrays(s.TRIANGLES,0,6)},getViewport:function(){return{width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight}}},t.exports=r},{"gl-shader":162}],183:[function(e,t,n){function r(e,t){return e[0]-t[0]}function i(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(r);var i=new Array(n.length);for(e=0;e<i.length;++e)i[e]=n[e][1];return i}function o(e,t){var n=["View",t,"d",e].join("");0>t&&(n="View_Nil"+e);var r="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",s=new Function(o);return s()}if(0===t){var o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",s=new Function("TrivialArray",o);return s(h[e][0])}var o=["'use strict'"],a=l(t),c=a.map(function(e){return"i"+e}),u="this.offset+"+a.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),d=a.map(function(e){return"b"+e}).join(","),f=a.map(function(e){return"c"+e}).join(",");o.push("function "+n+"(a,"+d+","+f+",d){this.data=a","this.shape=["+d+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),4>t?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),r?o.push("return this.data.set("+u+",v)}"):o.push("return this.data["+u+"]=v}"),o.push("proto.get=function "+n+"_get("+c.join(",")+"){"),r?o.push("return this.data.get("+u+")}"):o.push("return this.data["+u+"]}"),o.push("proto.index=function "+n+"_index(",c.join(),"){return "+u+"}"),o.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+a.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+a.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var p=a.map(function(e){return"a"+e+"=this.shape["+e+"]"}),g=a.map(function(e){return"c"+e+"=this.stride["+e+"]"});o.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+g.join(","));for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");o.push("return new "+n+"(this.data,"+a.map(function(e){return"a"+e}).join(",")+","+a.map(function(e){return"c"+e}).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+a.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+a.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");o.push("return new "+n+"(this.data,"+a.map(function(e){return"a"+e}).join(",")+","+a.map(function(e){return"b"+e}).join(",")+",c)}");for(var v=new Array(t),y=new Array(t),m=0;t>m;++m)v[m]="a[i"+m+"]",y[m]="b[i"+m+"]";o.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+y.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var m=0;t>m;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map(function(e){return"shape["+e+"]"}).join(",")+","+a.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}");var s=new Function("CTOR_LIST","ORDER",o.join("\n"));return s(h[e],i)}function s(e){if(c(e))return"buffer";if(u)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}function a(e,t,n,r){if(void 0===e){var i=h.array[0];return i([])}"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var a=t.length;if(void 0===n){n=new Array(a);for(var l=a-1,c=1;l>=0;--l)n[l]=c,c*=t[l]}if(void 0===r){r=0;for(var l=0;a>l;++l)n[l]<0&&(r-=(t[l]-1)*n[l])}for(var u=s(e),d=h[u];d.length<=a+1;)d.push(o(u,d.length-1));var i=d[a+1];return i(e,t,n,r)}var l=e("iota-array"),c=e("is-buffer"),u="undefined"!=typeof Float64Array,h={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=a},{"iota-array":184,"is-buffer":185}],184:[function(e,t,n){"use strict";function r(e){for(var t=new Array(e),n=0;e>n;++n)t[n]=n;return t}t.exports=r},{}],185:[function(e,t,n){t.exports=function(e){return!(null==e||!e.constructor||"function"!=typeof e.constructor.isBuffer||!e.constructor.isBuffer(e))}},{}],186:[function(e,t,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],187:[function(e,t,n){!function(){"use strict";function e(t){t.permitHostObjects___&&t.permitHostObjects___(e)}function n(e){return!(e.substr(0,f.length)==f&&"___"===e.substr(e.length-3))}function r(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[p];if(t&&t.key===e)return t;if(!d(e))return void 0;t={key:e};try{return h(e,p,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch(e){return void 0}}function i(e){return e.prototype=null,Object.freeze(e)}function o(){y||"undefined"==typeof console||(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=e);var s=!1;if("function"==typeof WeakMap){var a=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var l=new a,c=Object.freeze({});if(l.set(c,1),1===l.get(c))return void(t.exports=WeakMap);s=!0}}var u=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),h=Object.defineProperty,d=Object.isExtensible,f="weakmap:",p=f+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var g=new ArrayBuffer(25),m=new Uint8Array(g);crypto.getRandomValues(m),p=f+"rand:"+Array.prototype.map.call(m,function(e){return(e%36).toString(36)}).join("")+"___"}if(h(Object,"getOwnPropertyNames",{value:function(e){return u(e).filter(n)}}),"getPropertyNames"in Object){var v=Object.getPropertyNames;h(Object,"getPropertyNames",{value:function(e){return v(e).filter(n)}})}!function(){var e=Object.freeze;h(Object,"freeze",{value:function(t){return r(t),e(t)}});var t=Object.seal;h(Object,"seal",{value:function(e){return r(e),t(e)}});var n=Object.preventExtensions;h(Object,"preventExtensions",{value:function(e){return r(e),n(e)}})}();var y=!1,b=0,w=function(){function e(e,t){var n,i=r(e);return i?c in i?i[c]:t:(n=a.indexOf(e),n>=0?l[n]:t)}function t(e){var t=r(e);return t?c in t:a.indexOf(e)>=0}function n(e,t){var n,i=r(e);return i?i[c]=t:(n=a.indexOf(e),n>=0?l[n]=t:(n=a.length,l[n]=t,a[n]=e)),this}function s(e){var t,n,i=r(e);return i?c in i&&delete i[c]:(t=a.indexOf(e),0>t?!1:(n=a.length-1,a[t]=void 0,l[t]=l[n],a[t]=a[n],a.length=n,l.length=n,!0))}this instanceof w||o();var a=[],l=[],c=b++;return Object.create(w.prototype,{get___:{value:i(e)},has___:{value:i(t)},set___:{value:i(n)},delete___:{value:i(s)}})};w.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},delete:{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),"function"==typeof a?!function(){function n(){function t(e,t){return u?c.has(e)?c.get(e):u.get___(e,t):c.get(e,t);
}function n(e){return c.has(e)||(u?u.has___(e):!1)}function r(e){var t=!!c.delete(e);return u?u.delete___(e)||t:t}this instanceof w||o();var l,c=new a,u=void 0,h=!1;return l=s?function(e,t){return c.set(e,t),c.has(e)||(u||(u=new w),u.set(e,t)),this}:function(e,t){if(h)try{c.set(e,t)}catch(n){u||(u=new w),u.set___(e,t)}else c.set(e,t);return this},Object.create(w.prototype,{get___:{value:i(t)},has___:{value:i(n)},set___:{value:i(l)},delete___:{value:i(r)},permitHostObjects___:{value:i(function(t){if(t!==e)throw new Error("bogus call to permitHostObjects___");h=!0})}})}s&&"undefined"!=typeof Proxy&&(Proxy=void 0),n.prototype=w.prototype,t.exports=n,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),t.exports=w)}}()},{}],188:[function(e,t,n){"use strict";function r(e){return e.replace(/^[A-Z]+_/,"")}function i(e){var t=s.get(e);if(t)return t;for(var n={},i=e.getSupportedExtensions(),o=0;o<i.length;++o){var a=i[o];if(0!==a.indexOf("MOZ_")){var l=e.getExtension(i[o]);if(l)for(;;){n[a]=l;var c=r(a);if(c===a)break;a=c}}}return s.set(e,n),n}var o="undefined"==typeof WeakMap?e("weak-map"):WeakMap,s=new o;t.exports=i},{"weak-map":187}],189:[function(e,t,n){t.exports={glsl:"#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 resolution;uniform sampler2D from, to;uniform float progress;void main() {vec2 p = gl_FragCoord.xy / resolution;gl_FragColor = mix(texture2D(from, p), texture2D(to, p), progress);}",uniforms:{},id:"7e61b1f44a391f0c0894",name:"fade",owner:"glslioadmin",html_url:"https://gist.github.com/glslioadmin/7e61b1f44a391f0c0894",created_at:"2014-05-16T00:00:00Z",updated_at:"2014-05-16T00:00:00Z",stars:0}},{}],190:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){this._gl=e,this._program=t,this._location=n,this._dimension=r,this._name=i,this._constFunc=o,this._relink=s}function i(e,t,n,i,o,s,a){for(var l=["gl","v"],c=[],u=0;i>u;++u)l.push("x"+u),c.push("x"+u);l.push(["if(x0.length===undefined){return gl.vertexAttrib",i,"f(v,",c.join(","),")}else{return gl.vertexAttrib",i,"fv(v,x0)}"].join(""));var h=Function.apply(void 0,l),d=new r(e,t,n,i,s,h,a);Object.defineProperty(o,s,{set:function(t){return e.disableVertexAttribArray(d._location),h(e,d._location,t),t},get:function(){return d},enumerable:!0})}function o(e,t,n,r){for(var o={},s=0,a=n.length;a>s;++s){var l=n[s],c=l.name,u=l.type,h=e.getAttribLocation(t,c);switch(u){case"bool":case"int":case"float":i(e,t,h,1,o,c,r);break;default:if(!(u.indexOf("vec")>=0))throw new Error("Unknown data type for attribute "+c+": "+u);var d=u.charCodeAt(u.length-1)-48;if(2>d||d>4)throw new Error("Invalid data type for attribute "+c+": "+u);i(e,t,h,d,o,c,r)}}return o}t.exports=o;var s=r.prototype;s.pointer=function(e,t,n,r){var i=this._gl;i.vertexAttribPointer(this._location,this._dimension,e||i.FLOAT,t?i.TRUE:i.FALSE,n||0,r||0),this._gl.enableVertexAttribArray(this._location)},Object.defineProperty(s,"location",{get:function(){return this._location},set:function(e){e!==this._location&&(this._location=e,this._gl.bindAttribLocation(this._program,e,this._name),this._gl.linkProgram(this._program),this._relink())}})},{}],191:[function(e,t,n){"use strict";function r(e){var t=new Function("y","return function(){return y}");return t(e)}function i(e,t,n,i){function a(n){var r=new Function("gl","prog","locations","return function(){return gl.getUniform(prog,locations["+n+"])}");return r(e,t,i)}function l(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(r>=0&&1>=r&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var i=n.charCodeAt(n.length-1)-48;if(2>i||i>4)throw new Error("Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+i+"fv(locations["+t+"],false,obj"+e+")"}throw new Error("Unknown uniform data type for "+name+": "+n)}var i=n.charCodeAt(n.length-1)-48;if(2>i||i>4)throw new Error("Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+i+"fv(locations["+t+"],obj"+e+")";default:throw new Error("Unrecognized data type for vector "+name+": "+n)}}}function c(e,t){if("object"!=typeof t)return[[e,t]];var n=[];for(var r in t){var i=t[r],o=e;o+=parseInt(r)+""===r?"["+r+"]":"."+r,"object"==typeof i?n.push.apply(n,c(o,i)):n.push([o,i])}return n}function u(r){for(var o=["return function updateProperty(obj){"],s=c("",r),a=0;a<s.length;++a){var u=s[a],h=u[0],d=u[1];i[d]&&o.push(l(h,d,n[d].type))}o.push("return obj}");var f=new Function("gl","prog","locations",o.join("\n"));return f(e,t,i)}function h(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var t=e.indexOf("vec");if(t>=0&&1>=t&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(2>n||n>4)throw new Error("Invalid data type");return"b"===e.charAt(0)?o(n,!1):o(n)}if(0===e.indexOf("mat")&&4===e.length){var n=e.charCodeAt(e.length-1)-48;if(2>n||n>4)throw new Error("Invalid uniform dimension type for matrix "+name+": "+e);return o([n,n])}throw new Error("Unknown uniform data type for "+name+": "+e)}}function d(e,t,o){if("object"==typeof o){var s=f(o);Object.defineProperty(e,t,{get:r(s),set:u(o),enumerable:!0,configurable:!1})}else i[o]?Object.defineProperty(e,t,{get:a(o),set:u(o),enumerable:!0,configurable:!1}):e[t]=h(n[o].type)}function f(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)d(t,n,e[n])}else{t={};for(var r in e)d(t,r,e[r])}return t}var p=s(n,!0);return{get:r(f(p)),set:u(p),enumerable:!0,configurable:!0}}var o=e("dup"),s=e("./reflect.js");t.exports=i},{"./reflect.js":192,dup:193}],192:[function(e,t,n){"use strict";function r(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name,o=i.split("."),s=n,a=0;a<o.length;++a){var l=o[a].split("[");if(l.length>1){l[0]in s||(s[l[0]]=[]),s=s[l[0]];for(var c=1;c<l.length;++c){var u=parseInt(l[c]);c<l.length-1||a<o.length-1?(u in s||(c<l.length-1?s[u]=[]:s[u]={}),s=s[u]):t?s[u]=r:s[u]=e[r].type}}else a<o.length-1?(l[0]in s||(s[l[0]]={}),s=s[l[0]]):t?s[l[0]]=r:s[l[0]]=e[r].type}return n}t.exports=r},{}],193:[function(e,t,n){arguments[4][177][0].apply(n,arguments)},{dup:177}],194:[function(e,t,n){"use strict";function r(e,t,n,r){this.gl=e,this.handle=t,this.attributes=null,this.uniforms=null,this.types=null,this.vertexShader=n,this.fragmentShader=r}function i(e,t,n,r){for(var i=0;i<r.length;++i)n[i]=e.getUniformLocation(t,r[i].name)}function o(e,t,n,i,o){var s=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(s,t),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+e.getShaderInfoLog(s));var a=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+e.getShaderInfoLog(a));var l=e.createProgram();if(e.attachShader(l,a),e.attachShader(l,s),e.linkProgram(l),!e.getProgramParameter(l,e.LINK_STATUS))throw new Error("Error linking shader program: "+e.getProgramInfoLog(l));var c=new r(e,l,s,a);return c.updateExports(i,o),c}var s=e("./lib/create-uniforms.js"),a=e("./lib/create-attributes.js"),l=e("./lib/reflect.js");r.prototype.bind=function(){this.gl.useProgram(this.handle)},r.prototype.dispose=function(){var e=this.gl;e.deleteShader(this.vertexShader),e.deleteShader(this.fragmentShader),e.deleteProgram(this.handle)},r.prototype.updateExports=function(e,t){var n=new Array(e.length),r=this.handle,o=this.gl,c=i.bind(void 0,o,r,n,e);c(),this.types={uniforms:l(e),attributes:l(t)},this.attributes=a(o,r,t,c),Object.defineProperty(this,"uniforms",s(o,r,e,n))},t.exports=o},{"./lib/create-attributes.js":190,"./lib/create-uniforms.js":191,"./lib/reflect.js":192}],195:[function(e,t,n){"use strict";function r(e){for(var t,n,r=[],n=0;n<e.children.length;++n){var i=e.children[n];if("placeholder"!==i.type)if("keyword"===i.type){if("uniform"===i.token.data||"attribute"===i.token.data)continue;t=i.token.data}else if("decllist"===i.type)for(var o=0;o<i.children.length;++o){var s=i.children[o];"ident"===s.type&&r.push(s.token.data)}}return{type:t,vars:r}}function i(e){var t={},n={},i=a();return i.pipe(o()).pipe(s()).on("data",function(e){if("decl"===e.type&&"keyword"===e.token.type)if("uniform"===e.token.data)for(var i=r(e),o=0;o<i.vars.length;++o)t[i.vars[o]]=i.type;else if("attribute"===e.token.data)for(var i=r(e),o=0;o<i.vars.length;++o)n[i.vars[o]]=i.type}),i.write(e),{uniforms:t,attributes:n}}var o=e("glsl-tokenizer"),s=e("glsl-parser"),a=e("through");t.exports=i},{"glsl-parser":196,"glsl-tokenizer":201,through:205}],196:[function(e,t,n){t.exports=e("./lib/index")},{"./lib/index":198}],197:[function(e,t,n){function r(){return this}function i(e,t){var n=y[e];return t=t||0,n?t>n.lbp&&(n.lbp=t):(n=Object.create(v),n.id=e,n.lbp=t,y[e]=n),n}function o(e){var t,n=p;for(h(),t=n.nud();e<p.lbp;)n=p,h(),t=n.led(t);return t}function s(e,t,n){var r=i(e,t);r.led=n||function(e){return this.children=[e,o(t)],this.type="binary",this}}function a(e,t,n){var r=i(e,t);return r.led=n||function(e){return this.children=[e,o(t-1)],this.type="binary",this},r}function l(e,t){var n=i(e);return n.nud=t||function(){return this.children=[o(70)],this.type="unary",this},n}function c(e){var t=i(e,150);t.led=function(e){return this.children=[e],this.type="suffix",this}}function u(e){return a(e,10,function(e){return this.children=[e,o(9)],this.assignment=!0,this.type="assign",this})}function h(e){var t,n,i,o;if(e&&p.data!==e)return f.unexpected("expected `"+e+"`, got `"+p.data+"`");if(m>=g.length)return void(p=y["(end)"]);if(t=g[m++],n=t.data,i=t.type,"ident"===i)o=f.scope.find(n)||f.create_node(),i=o.type;else if("builtin"===i)o=y["(builtin)"];else if("keyword"===i)o=y["(keyword)"];else if("operator"===i){if(o=y[n],!o)return f.unexpected("unknown operator `"+n+"`")}else{if("float"!==i&&"integer"!==i)return f.unexpected("unexpected token.");i="literal",o=y["(literal)"]}return o&&(o.nud||(o.nud=r),o.children||(o.children=[])),o=Object.create(o),o.token=t,o.type=i,o.data||(o.data=n),p=o}function d(e){return function(){return f.unexpected(e)}}var f,p,g,m,v={nud:function(){return this.children&&this.children.length?this:d("unexpected")()},led:d("missing operator")},y={};i("(ident)").nud=r,i("(keyword)").nud=r,i("(builtin)").nud=r,i("(literal)").nud=r,i("(end)"),i(":"),i(";"),i(","),i(")"),i("]"),i("}"),a("&&",30),a("||",30),s("|",43),s("^",44),s("&",45),s("==",46),s("!=",46),s("<",47),s("<=",47),s(">",47),s(">=",47),s(">>",48),s("<<",48),s("+",50),s("-",50),s("*",60),s("/",60),s("%",60),s("?",20,function(e){return this.children=[e,o(0),(h(":"),o(0))],this.type="ternary",this}),s(".",80,function(e){return p.type="literal",f.fake(p),this.children=[e,p],h(),this}),s("[",80,function(e){return this.children=[e,o(0)],this.type="binary",h("]"),this}),s("(",80,function(e){if(this.children=[e],this.type="call",")"!==p.data)for(;;){if(this.children.push(o(0)),","!==p.data)break;h(",")}return h(")"),this}),l("-"),l("+"),l("!"),l("~"),l("defined"),l("(",function(){return this.type="group",this.children=[o(0)],h(")"),this}),l("++"),l("--"),c("++"),c("--"),u("="),u("+="),u("-="),u("*="),u("/="),u("%="),u("&="),u("|="),u("^="),u(">>="),u("<<="),t.exports=function(e,t){function n(e){f.unshift(e,!1);for(var t=0,r=e.children.length;r>t;++t)n(e.children[t]);f.shift()}f=e,g=t,m=0;var r;if(g.length){if(h(),r=o(0),r.parent=f[0],n(r),m<g.length)throw new Error("did not use all tokens");r.parent.children=[r]}}},{}],198:[function(e,t,n){function r(){function e(e){if("whitespace"===e.type||"line-comment"===e.type||"block-comment"===e.type)return void Xe.push(e);for(Ye.push(e),ke=ke||Ye[0],ke&&Xe.length&&(ke.preceding=ke.preceding||[],ke.preceding=ke.preceding.concat(Xe),Xe=[]);n();)switch(Ke[0].mode){case g:N();break;case m:S();break;case w:Z();break;case E:Q();break;case A:ne();break;case v:we(!0,!0);break;case D:Ee();break;case p:te();break;case T:ee();break;case R:J();break;case y:Se();break;case b:Te();break;case C:xe();break;case x:De();break;case O:Fe();break;case k:Ae();break;case _:_e();break;case P:Ce()}}function t(t){return arguments.length&&e(t),Ke.length>1?void ce("unexpected EOF"):void qe.emit("end")}function n(){return Ze||!Ke.length?!1:(ke=Ye[0])&&!qe.paused}function r(e){Ke.unshift(e),Ke.shift()}function f(e,t){e.parent=Ke[0];var n=[].unshift.call(this,e);if(t=void 0===t?!0:t,d){for(var r="",i=0,o=this.length-1;o>i;++i)r+=" |";console.log(r,"\\"+e.type,e.token.data)}return t&&Me!==e&&Me.children.push(e),Me=e,n}function F(){var e=[].shift.call(this),t=Ge[this.length],n=!1;if(d){for(var r="",i=0,o=this.length;o>i;++i)r+=" |";console.log(r,"/"+e.type)}return Ge.length?"function"==typeof Ge[0]?n=Ge[0](e):void 0!==t&&(n=t.test?t.test(e.type):t===e.type):n=!0,n&&qe.emit("data",e),Me=e.parent,e}function S(){function e(){if(ke.data===Ke[0].expecting)return Ke.scope.exit(),Ke.shift();switch(ke.type){case"preprocessor":return Ke.fake(ie()),void Ye.shift();default:return void Ke.unshift(Be())}}return de(function(){return Ke.scope.enter(),h},e)()}function N(){if(Ke[0].brace)return"}"!==ke.data?ce("expected `}`, got "+ke.data):(Ke[0].brace=!1,Ye.shift(),Ke.shift());switch(ke.type){case"eof":return Ke.shift();case"keyword":switch(ke.data){case"for":return Ke.unshift(Ne());case"if":return Ke.unshift(Ue());case"while":return Ke.unshift(ze());case"do":return Ke.unshift(He());case"break":return Ke.fake(i(M,ke)),Ye.shift();case"continue":return Ke.fake(i(L,ke)),Ye.shift();case"discard":return Ke.fake(i(B,ke)),Ye.shift();case"return":return Ke.unshift(We());case"precision":return Ke.unshift(Ie())}return Ke.unshift(oe(V));case"ident":var e;if(e=Ke.scope.find(ke.data))return"struct"===e.parent.type?Ke.unshift(oe(V)):Ke.unshift(ae(";"));case"operator":if("{"===ke.data){Ke[0].brace=!0;var t=Le();return t.expecting="}",Ye.shift(),Ke.unshift(t)}if(";"===ke.data)return Ye.shift(),Ke.shift();default:return Ke.unshift(ae(";"))}}function Z(){function e(){return"invariant"===ke.data?p.flags&U?(Ke.unshift(le()),h):ce("`invariant` is not allowed here"):(Ke.fake(i(I,{data:"",position:ke.position})),h)}function t(){return o(ke)?p.flags&z?(Ke.unshift(le()),h):ce("storage is not allowed here"):(Ke.fake(i(I,{data:"",position:ke.position})),h)}function n(){return s(ke)?p.flags&W?ce("parameter is not allowed here"):(Ke.unshift(le()),h):(Ke.fake(i(I,{data:"",position:ke.position})),h)}function r(){return a(ke)?(Ke.unshift(le()),h):(Ke.fake(i(I,{data:"",position:ke.position})),h)}function l(){if("struct"===ke.data)return p.flags&H?(Ke.unshift(se()),h):ce("cannot nest structs");if("keyword"===ke.type)return Ke.unshift(le()),h;var e=Ke.scope.find(ke.data);return e?(Ke.fake(Object.create(e)),Ye.shift(),h):ce("expected user defined type, struct or keyword, got "+ke.data)}function c(){return","!==ke.data||p.flags&j?"["===ke.data?void Ke.unshift(Ve()):")"===ke.data?Ke.shift():";"===ke.data?p.stage+3:"ident"!==ke.type&&"builtin"!==ke.type?ce("expected identifier, got "+ke.data):(p.collected_name=Ye.shift(),h):Ke.shift()}function u(){return"("===ke.data?(Ye.unshift(p.collected_name),delete p.collected_name,Ke.unshift($e()),p.stage+2):h}function d(){return Ye.unshift(p.collected_name),delete p.collected_name,Ke.unshift(Oe()),h}function f(){return Ke.shift()}var p=Ke[0];return de(e,t,n,r,l,c,u,d,f)()}function Q(){if("ident"===ke.type){var e=ke.data;return Ke.unshift(Pe()),void Ke.scope.define(e)}if("operator"===ke.type){if(","===ke.data)return Ke[1].flags&j?Ye.shift():Ke.shift();if("="===ke.data)return Ke[1].flags&$?(Ye.shift(),void Ke.unshift(ae(",",";"))):ce("`=` is not allowed here.");if("["===ke.data)return void Ke.unshift(Ve())}return Ke.shift()}function J(){return"keyword"===ke.type?(Ke[0].type="keyword",void(Ke[0].mode=T)):"ident"===ke.type?(Ke[0].type="ident",void(Ke[0].mode=p)):ce("expected keyword or user-defined name, got "+ke.data)}function ee(){return"keyword"!==ke.type?ce("expected keyword, got "+ke.data):(Ke.shift(),Ye.shift())}function te(){return"ident"!==ke.type?ce("expected user-defined name, got "+ke.data):(Ke[0].data=ke.data,Ke.shift(),Ye.shift())}function ne(){function e(e){return c(Ke,e),Ke.shift()}var t=Ke[0].expecting;if(Ke[0].tokens=Ke[0].tokens||[],void 0===Ke[0].parenlevel&&(Ke[0].parenlevel=0,Ke[0].bracelevel=0),Ke[0].parenlevel<1&&t.indexOf(ke.data)>-1)return e(Ke[0].tokens);switch("("===ke.data?++Ke[0].parenlevel:")"===ke.data&&--Ke[0].parenlevel,ke.data){case"{":++Ke[0].bracelevel;break;case"}":--Ke[0].bracelevel;break;case"(":++Ke[0].parenlevel;break;case")":--Ke[0].parenlevel}return Ke[0].parenlevel<0?ce("unexpected `)`"):Ke[0].bracelevel<0?ce("unexpected `}`"):void Ke[0].tokens.push(Ye.shift())}function re(e){return function(){return i(e,ke)}}function ie(){return i(X[ke.type],ke,Me)}function oe(e){var t=i(w,ke,Me);return t.flags=e,t}function se(e,t){var n=i(v,ke,Me);return n.allow_assign=void 0===e?!0:e,n.allow_comma=void 0===t?!0:t,n}function ae(){var e=i(A,ke,Me);return e.expecting=[].slice.call(arguments),e}function le(e){var t=ke;return e&&(t={type:"(implied)",data:"(default)",position:t.position}),i(T,t,Me)}function ce(e){Ze=!0,qe.emit("error",new Error((e||"unexpected "+Ke)+" at line "+Ke[0].token.line))}function ue(e,t){return he(e,ke.type)&&he(t,ke.data)}function he(e,t){switch(typeof e){case"string":return t!==e&&ce("expected `"+e+"`, got "+t+"\n"+ke.data),!Ze;case"object":return e&&-1===e.indexOf(t)&&ce("expected one of `"+e.join("`, `")+"`, got "+t),!Ze}return!0}function de(){var e,t,n=[].slice.call(arguments);return function(){var r=Ke[0];return r.stage||(r.stage=0),(e=n[r.stage])?(t=e(),t===h?++r.stage:void(void 0!==t&&(r.stage=t))):ce("parser in undefined state!")}}function fe(e,t){return t=t||"operator",function(){if(ue(t,e)){var n=Ye.shift(),r=Ke[0].children,i=r[r.length-1];return i&&i.token&&n.preceding&&(i.token.succeeding=i.token.succeeding||[],i.token.succeeding=i.token.succeeding.concat(n.preceding)),h}}}function pe(e){return function(){return Ke.unshift(ae(e)),h}}function ge(e){return e?function(){var e=ke.data;return ue("ident")&&(Ke.unshift(Pe()),Ke.scope.define(e),h)}:function(){if(ue("ident")){var e=Object.create(Ke.scope.find(ke.data));return e.token=ke,Ye.shift(),h}}}function me(){return function(){var e=Le();return e.expecting="}",Ke.unshift(e),h}}function ve(e){return function(){var t=Ke[0].stage;return"{"!==ke.data?(Ke.unshift(Be()),t+e):(Ye.shift(),h)}}function ye(){return function(){return Ke.shift(),Ke.shift()}}function be(){we=de(fe("struct","keyword"),function(){return"{"===ke.data?(Ke.fake(i(p,{data:"",position:ke.position,type:"ident"})),h):ge(!0)()},function(){return Ke.scope.enter(),h},fe("{"),function(){return"preprocessor"===ke.type?(Ke.fake(ie()),void Ye.shift()):"}"===ke.data?(Ke.scope.exit(),Ye.shift(),Ke.shift()):";"===ke.data?void Ye.shift():void Ke.unshift(oe(G))}),Ee=de(function(){return Ye.shift(),h},function(){return ue("keyword",["lowp","mediump","highp"])&&(Ke.unshift(le()),h)},function(){return Ke.unshift(le()),h},function(){return Ke.shift()}),Ce=de(fe("["),pe("]"),fe("]"),function(){return Ke.shift()}),xe=de(fe("for","keyword"),fe("("),function(){var e;if("ident"===ke.type){if((e=Ke.scope.find(ke.data))||(e=Ke.create_node()),"struct"===e.parent.type)return Ke.unshift(oe(V)),h}else if("builtin"===ke.type||"keyword"===ke.type)return Ke.unshift(oe(V)),h;return pe(";")()},fe(";"),pe(";"),fe(";"),pe(")"),fe(")"),ve(3),me(),fe("}"),ye()),_e=de(fe("if","keyword"),fe("("),pe(")"),fe(")"),ve(3),me(),fe("}"),function(){return"else"===ke.data?(Ye.shift(),Ke.unshift(Be()),h):ye()()},ye()),Ae=de(fe("return","keyword"),function(){return";"===ke.data?h:(Ke.unshift(ae(";")),h)},function(){Ye.shift(),ye()()}),De=de(fe("while","keyword"),fe("("),pe(")"),fe(")"),ve(3),me(),fe("}"),ye()),Fe=de(fe("do","keyword"),ve(3),me(),fe("}"),fe("while","keyword"),fe("("),pe(")"),fe(")"),ye()),Se=de(function(){for(var e=1,t=Ke.length;t>e;++e)if(Ke[e].mode===y)return ce("function definition is not allowed within another function");return h},function(){if(ue("ident")){var e=ke.data,t=Ke.scope.find(e);return Ke.unshift(Pe()),Ke.scope.define(e),Ke.scope.enter(t?t.scope:null),h}},fe("("),function(){return Ke.unshift(je()),h},fe(")"),function(){return";"===ke.data?(Ke.scope.exit(),Ke.shift(),Ke.shift()):h},fe("{"),me(),fe("}"),function(){return Ke.scope.exit(),h},function(){return Ke.shift(),Ke.shift(),Ke.shift()}),Te=de(function(){return"void"===ke.data?(Ke.fake(le()),Ye.shift(),h):")"===ke.data?void Ke.shift():"struct"===ke.data?(Ke.unshift(se(K,Y)),h):(Ke.unshift(oe(q)),h)},function(){return","===ke.data?(Ye.shift(),0):")"===ke.data?void Ke.shift():void ce("expected one of `,` or `)`, got "+ke.data)})}var we,Ee,Ce,xe,_e,Ae,De,Fe,Se,Te,Re,ke,Me,Le=re(m),Be=re(g),Oe=re(E),Ie=re(D),Pe=re(p),$e=(re(R),re(y)),je=re(b),Ne=re(C),Ue=re(_),ze=re(x),We=re(k),He=re(O),Ve=re(P),qe=l(e,t),Ge=arguments.length?[].slice.call(arguments):[],Ke=[],Ye=[],Xe=[],Ze=!1;return Ke.shift=F,Ke.unshift=f,Ke.fake=r,Ke.unexpected=ce,Ke.scope=new u(Ke),Ke.create_node=function(){var e=i(p,ke);return e.parent=qe.program,e},be(),Me=Le(),Me.expecting="(eof)",Me.mode=m,Me.token={type:"(program)",data:"(program)"},Re=Me,qe.program=Re,qe.scope=function(e){return 1===arguments.length&&(Ke.scope=e),Ke.scope},Ke.unshift(Me),qe}function i(e,t){return{mode:e,token:t,children:[],type:Z[e],id:(4294967295*Math.random()).toString(16)}}function o(e){return"const"===e.data||"attribute"===e.data||"uniform"===e.data||"varying"===e.data}function s(e){return"in"===e.data||"inout"===e.data||"out"===e.data}function a(e){return"highp"===e.data||"mediump"===e.data||"lowp"===e.data}t.exports=r;var l=e("through"),c=e("./expr"),u=e("./scope"),h=new Object,d=!1,f=0,p=f++,g=f++,m=f++,v=f++,y=f++,b=f++,w=f++,E=f++,C=f++,x=f++,_=f++,A=f++,D=f++,F=f++,S=f++,T=f++,R=f++,k=f++,M=f++,L=f++,B=f++,O=f++,I=f++,P=f++,$=1,j=2,N=4,U=8,z=16,W=32,H=64,V=255,q=V&~($|j|W|U|N),G=V&~($|U|z|H),K=!1,Y=!1,X={"block-comment":F,"line-comment":F,preprocessor:S},Z=f=["ident","stmt","stmtlist","struct","function","functionargs","decl","decllist","forloop","whileloop","if","expr","precision","comment","preprocessor","keyword","keyword_or_ident","return","break","continue","discard","do-while","placeholder","quantifier"]},{"./expr":197,"./scope":199,through:200}],199:[function(e,t,n){function r(e){return this.constructor!==r?new r(e):(this.state=e,this.scopes=[],void(this.current=null))}t.exports=r;var i=r,o=i.prototype;o.enter=function(e){this.scopes.push(this.current=this.state[0].scope=e||{})},o.exit=function(){this.scopes.pop(),this.current=this.scopes[this.scopes.length-1]},o.define=function(e){this.current[e]=this.state[0]},o.find=function(e,t){for(var n=this.scopes.length-1;n>-1;--n)if(this.scopes[n].hasOwnProperty(e))return this.scopes[n][e];return null}},{}],200:[function(e,t,n){(function(r){function i(e,t){function n(){for(;c.length&&!l.paused;){var e=c.shift();if(null===e)return l.emit("end");l.emit("data",e)}}function i(){l.writable=!1,t.call(l),l.readable||l.destroy()}e=e||function(e){this.emit("data",e)},t=t||function(){this.emit("end")};var s=!1,a=!1,l=new o,c=[];return l.buffer=c,l.readable=l.writable=!0,l.paused=!1,l.write=function(t){return e.call(this,t),!l.paused},l.queue=function(e){c.push(e),n()},l.on("end",function(){l.readable=!1,l.writable||r.nextTick(function(){l.destroy()})}),l.end=function(e){s||(s=!0,arguments.length&&l.write(e),i())},l.destroy=function(){a||(a=!0,s=!0,c.length=0,l.writable=l.readable=!1,l.emit("close"))},l.pause=function(){l.paused||(l.paused=!0,l.emit("pause"))},l.resume=function(){l.paused&&(l.paused=!1),n(),l.paused||l.emit("drain")},l}var o=e("stream");n=t.exports=i,i.through=i}).call(this,e("_process"))},{_process:85,stream:101}],201:[function(e,t,n){function r(){function e(e){e.length&&I.queue({type:C[j],data:e,position:z,line:U})}function t(e){for(P=0,V+=e.toString(),O=V.length;L=V[P],O>P;)switch(j){case u:P=D();break;case h:P=A();break;case d:P=_();break;case f:P=F();break;case p:P=R();break;case E:P=T();break;case g:P=k();break;case c:P=M();break;case b:P=x();break;case l:P=r()}$+=P,V=V.slice(P)}function n(t){N.length&&e(N.join("")),j=w,e("(eof)"),I.queue(null)}function r(){return N=N.length?[]:N,"/"===B&&"*"===L?(z=$+P-1,j=u,B=L,P+1):"/"===B&&"/"===L?(z=$+P-1,j=h,B=L,P+1):"#"===L?(j=d,z=$+P,P):/\s/.test(L)?(j=b,z=$+P,P):(W=/\d/.test(L),H=/[^\w_]/.test(L),z=$+P,j=W?p:H?f:c,P)}function x(){return"\n"===L&&++U,/[^\s]/g.test(L)?(e(N.join("")),j=l,P):(N.push(L),B=L,P+1)}function _(){return"\n"===L&&++U,"\n"===L&&"\\"!==B?(e(N.join("")),j=l,P):(N.push(L),B=L,P+1)}function A(){return _()}function D(){return"/"===L&&"*"===B?(N.push(L),e(N.join("")),j=l,P+1):("\n"===L&&++U,N.push(L),B=L,P+1)}function F(){if("."===B&&/\d/.test(L))return j=g,P;if("/"===B&&"*"===L)return j=u,P;if("/"===B&&"/"===L)return j=h,P;if("."===L&&N.length){for(;S(N););return j=g,P}if(";"===L||")"===L||"("===L){if(N.length)for(;S(N););return e(L),j=l,P+1}var t=2===N.length&&"="!==L;if(/[\w_\d\s]/.test(L)||t){for(;S(N););return j=l,P}return N.push(L),B=L,P+1}function S(t){for(var n,r=0;;){n=s.indexOf(t.slice(0,t.length+r).join(""));{if(-1!==n)return e(s[n]),z+=s[n].length,N=N.slice(s[n].length),N.length;r-=1}}}function T(){return/[^a-fA-F0-9]/.test(L)?(e(N.join("")),j=l,P):(N.push(L),B=L,P+1)}function R(){return"."===L?(N.push(L),j=g,B=L,P+1):/[eE]/.test(L)?(N.push(L),j=g,B=L,P+1):"x"===L&&1===N.length&&"0"===N[0]?(j=E,N.push(L),B=L,P+1):/[^\d]/.test(L)?(e(N.join("")),j=l,P):(N.push(L),B=L,P+1)}function k(){return"f"===L&&(N.push(L),B=L,P+=1),/[eE]/.test(L)?(N.push(L),B=L,P+1):/[^\d]/.test(L)?(e(N.join("")),j=l,P):(N.push(L),B=L,P+1)}function M(){if(/[^\d\w_]/.test(L)){var t=N.join("");return j=o.indexOf(t)>-1?y:a.indexOf(t)>-1?v:m,e(N.join("")),j=l,P}return N.push(L),B=L,P+1}var L,B,O,I=i(t,n),P=0,$=0,j=l,N=[],U=1,z=0,W=!1,H=!1,V="";return I}t.exports=r;var i=e("through"),o=e("./lib/literals"),s=e("./lib/operators"),a=e("./lib/builtins"),l=999,c=9999,u=0,h=1,d=2,f=3,p=4,g=5,m=6,v=7,y=8,b=9,w=10,E=11,C=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"./lib/builtins":202,"./lib/literals":203,"./lib/operators":204,through:205}],202:[function(e,t,n){t.exports=["gl_Position","gl_PointSize","gl_ClipVertex","gl_FragCoord","gl_FrontFacing","gl_FragColor","gl_FragData","gl_FragDepth","gl_Color","gl_SecondaryColor","gl_Normal","gl_Vertex","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_FogCoord","gl_MaxLights","gl_MaxClipPlanes","gl_MaxTextureUnits","gl_MaxTextureCoords","gl_MaxVertexAttribs","gl_MaxVertexUniformComponents","gl_MaxVaryingFloats","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformComponents","gl_MaxDrawBuffers","gl_ModelViewMatrix","gl_ProjectionMatrix","gl_ModelViewProjectionMatrix","gl_TextureMatrix","gl_NormalMatrix","gl_ModelViewMatrixInverse","gl_ProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverse","gl_TextureMatrixInverse","gl_ModelViewMatrixTranspose","gl_ProjectionMatrixTranspose","gl_ModelViewProjectionMatrixTranspose","gl_TextureMatrixTranspose","gl_ModelViewMatrixInverseTranspose","gl_ProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixInverseTranspose","gl_TextureMatrixInverseTranspose","gl_NormalScale","gl_DepthRangeParameters","gl_DepthRange","gl_ClipPlane","gl_PointParameters","gl_Point","gl_MaterialParameters","gl_FrontMaterial","gl_BackMaterial","gl_LightSourceParameters","gl_LightSource","gl_LightModelParameters","gl_LightModel","gl_LightModelProducts","gl_FrontLightModelProduct","gl_BackLightModelProduct","gl_LightProducts","gl_FrontLightProduct","gl_BackLightProduct","gl_FogParameters","gl_Fog","gl_TextureEnvColor","gl_EyePlaneS","gl_EyePlaneT","gl_EyePlaneR","gl_EyePlaneQ","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_ObjectPlaneR","gl_ObjectPlaneQ","gl_FrontColor","gl_BackColor","gl_FrontSecondaryColor","gl_BackSecondaryColor","gl_TexCoord","gl_FogFragCoord","gl_Color","gl_SecondaryColor","gl_TexCoord","gl_FogFragCoord","gl_PointCoord","radians","degrees","sin","cos","tan","asin","acos","atan","pow","exp","log","exp2","log2","sqrt","inversesqrt","abs","sign","floor","ceil","fract","mod","min","max","clamp","mix","step","smoothstep","length","distance","dot","cross","normalize","faceforward","reflect","refract","matrixCompMult","lessThan","lessThanEqual","greaterThan","greaterThanEqual","equal","notEqual","any","all","not","texture2D","texture2DProj","texture2DLod","texture2DProjLod","textureCube","textureCubeLod"]},{}],203:[function(e,t,n){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],204:[function(e,t,n){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],205:[function(e,t,n){(function(r){function i(e,t,n){function i(){for(;c.length&&!h.paused;){var e=c.shift();if(null===e)return h.emit("end");h.emit("data",e)}}function s(){h.writable=!1,t.call(h),!h.readable&&h.autoDestroy&&h.destroy()}e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var a=!1,l=!1,c=[],u=!1,h=new o;return h.readable=h.writable=!0,h.paused=!1,h.autoDestroy=!(n&&n.autoDestroy===!1),h.write=function(t){return e.call(this,t),!h.paused},h.queue=h.push=function(e){return u?h:(null===e&&(u=!0),c.push(e),i(),h)},h.on("end",function(){h.readable=!1,!h.writable&&h.autoDestroy&&r.nextTick(function(){h.destroy()})}),h.end=function(e){return a?void 0:(a=!0,arguments.length&&h.write(e),s(),h)},h.destroy=function(){return l?void 0:(l=!0,a=!0,c.length=0,h.writable=h.readable=!1,h.emit("close"),h)},h.pause=function(){return h.paused?void 0:(h.paused=!0,h)},h.resume=function(){return h.paused&&(h.paused=!1,h.emit("resume")),i(),h.paused||h.emit("drain"),h},h}var o=e("stream");n=t.exports=i,i.through=i}).call(this,e("_process"))},{_process:85,stream:101}],206:[function(e,t,n){function r(e,t){if(e.getContext)for(var n=0;n<d.length;++n)try{var r=e.getContext(d[n],t||{});if(r)return r}catch(e){}}function i(e){for(var t=1;t<arguments.length;++t){var n=arguments[t];for(var r in n)void 0!==n[r]&&(e[r]=n[r])}return e}function o(e,t){function n(){E=[],b=r(e,C),e.addEventListener("webglcontextlost",d,!1),e.addEventListener("webglcontextrestored",f,!1)}function d(e){e.preventDefault(),b=null;for(var t=0;t<E.length;++t)E[t].onContextLost(e)}function f(t){b=r(e,C);var n;for(n=0;n<x.length;++n)x[n](t);for(n=0;n<E.length;++n)E[n].onContextRestored(t)}function p(){var e=b.createTexture();return b.bindTexture(b.TEXTURE_2D,e),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),e}function g(e,t){
b.bindTexture(b.TEXTURE_2D,e),t?(b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0),"function"==typeof t?t(b):b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,t)):b.texImage2D(b.TEXTURE_2D,0,b.RGBA,2,2,0,b.RGBA,b.UNSIGNED_BYTE,null)}function m(e,t){var n,r=i({},t.uniforms,c.uniforms),o=i({},t.attributes,c.attributes),a=[],u=[];for(n in r)a.push({name:n,type:r[n]});for(n in o)u.push({name:n,type:o[n]});var h=s(b,l,e,a,u);return b.bindBuffer(b.ARRAY_BUFFER,b.createBuffer()),h.attributes.position.pointer(),h}function v(){b.drawArrays(b.TRIANGLES,0,6)}function y(t){function n(){if(b){C=m(t,A),x={},_={};var e=0;for(var n in A.uniforms){var r=A.uniforms[n];"sampler2D"===r&&(b.activeTexture(b.TEXTURE0+e),x[n]=e,_[n]=p(),e++)}}}function r(){C=null}function o(){n()}function s(){var t=e.width,n=e.height;b.viewport(0,0,t,n),w&&(w.uniforms[h]=new Float32Array([t,n]));var r=0,i=t,o=0,s=n;b.bufferData(b.ARRAY_BUFFER,new Float32Array([r,o,i,o,r,s,r,s,i,o,i,s]),b.STATIC_DRAW)}function l(e){C.uniforms[u]=e}function c(e,t){if(e in x){var n=x[e],r=_[e];b.activeTexture(b.TEXTURE0+n),b.bindTexture(b.TEXTURE_2D,r),g(r,t),C.uniforms[e]=n}else C.uniforms[e]=t}function d(){var e=!1;return C||(n(),e=!0),w!==C&&(w=C,C.bind(),e=!0),s(),e}function f(){w===C&&(w=null),C&&(C.dispose(),C=null)}function y(){return i({},A.uniforms)}var C,x,_,A=a(t),D={getGL:function(){return b},load:function(){C||n()},bind:function(){w!==C&&(w=C,C.bind())},isCurrentTransition:function(){return w===C},onContextLost:r,onContextRestored:o,syncViewport:s,setProgress:l,setUniform:c,reset:d,draw:v,destroy:f,getUniforms:y};return E.push(D),D}if(1!==arguments.length||!("getContext"in e))throw new Error("Bad arguments. usage: GlslTransitionCore(canvas)");var b,w,E,C=i({},t&&t.contextAttributes||{},o.defaults.contextAttributes),x=[];return y.onContextLost=function(e){x.push(e)},y.getGL=function(){return b},n(),y}var s=e("gl-shader-core"),a=e("glsl-exports"),l="attribute vec2 position; void main() { gl_Position = vec4(2.0*position-1.0, 0.0, 1.0);}",c=a(l),u="progress",h="resolution",d=["webgl","experimental-webgl"];o.defaults={contextAttributes:{preserveDrawingBuffer:!0}},o.isSupported=function(){var e=document.createElement("canvas");return!!r(e)},t.exports=o},{"gl-shader-core":194,"glsl-exports":195}],207:[function(e,t,n){function r(e,t,n){this.validator=e,this.glsl=t;for(var r in c)this[r]=i(c[r],this)}var i=e("./lazy"),o=e("./ValidateUniform"),s=e("./readPixels"),a=e("./readPixelsIdentity"),l=["progress","resolution","from","to"],c={compiles:function(){return this.compile().compiles},fromImagePixels:function(){return a(this.validator,this.validator.fromImage)},toImagePixels:function(){return a(this.validator,this.validator.toImage)},compile:function(){var e=this.glsl;this._uniforms=null,this._transition=null;var t,n,r,i,o,s,a,l,c,u,h;if(!e)return{compiles:!1,message:"source code is "+e};try{var d=this.validator.Transition.getGL(),f=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(f,e),d.compileShader(f),c=d.getShaderParameter(f,d.COMPILE_STATUS),c||(a=d.getShaderInfoLog(f)),d.deleteShader(f)}catch(e){return{compiles:!1,line:0,message:e.getMessage}}if(c===!0){try{this._transition=this.validator.Transition(e)}catch(e){var p=""+(e.message||e),g=p.split(" at line ");if(2===g.length){var o=parseInt(g[1],10);return{compiles:!1,line:o,message:g[0]}}return{compiles:!1,line:0,message:p}}return this._uniforms=this._transition.getUniforms(),{compiles:!0}}for(s=a.split("\n"),u=0,h=s.length;h>u;u++)r=s[u],"ERROR"===r.substr(0,5)&&(n=r);return n?(t=n.split(":"),t.length<4?{compiles:!1,line:0,message:n}:(i=t[2],o=parseInt(i,10),isNaN(o)&&(o=0),l=t.splice(3).join(":"),{compiles:!1,line:o,message:l})):{compiles:!1,line:0,message:"Unknown error."}},transition:function(){return this.compile(),this._transition},uniforms:function(){return this.compile(),this._uniforms}};r.prototype={satisfyUniforms:function(e){return this.uniforms()?0===this.validateUniforms(e).length:!1},isValidFrom:function(e){if(!this.compiles())return!1;var t=this.fromImagePixels(),n=this.pixelsFor(0,e),r=this.comparePixels(t,n);return r.similar},isValidTo:function(e){if(!this.compiles())return!1;var t=this.toImagePixels(),n=this.pixelsFor(1,e),r=this.comparePixels(t,n);return r.similar},comparePixels:function(e,t){for(var n=255*this.validator.tolerance*Math.sqrt(3*this.validator.width*this.validator.height),r=0,i=0;i<e.length;++i)r+=Math.abs(e[i]-t[i]);return{strictlyEquals:0===r,similar:n>=r,dist:r,tolerance:n}},validateUniforms:function(e){var t=this.uniforms();if(null===t)return[{message:"no uniforms are available. Have the GLSL compiled?",reasonId:"UniformsNotAvailable"}];var n=[];for(var r in e)-1!==l.indexOf(r)?n.push({message:r+" uniform is not a user uniform.",reasonId:"UniformForbidden",uniformId:r}):r in t||n.push({message:r+" uniform doesn't exists.",reasonId:"UniformUnknown",uniformId:r});for(var r in t)-1===l.indexOf(r)&&(r in e?o(t[r],e[r])||n.push({message:r+" uniform provided value doesn't suit the uniform type = "+t[r],reasonId:"UniformTypeCheckFailed",uniformId:r}):n.push({message:r+" uniform should be provided.",reasonId:"UniformNotProvided",uniformId:r}));return n},destroy:function(){this._transition&&this._transition.destroy();for(var e in this)delete this[e]},pixelsFor:function(e,t){var n=this.transition(),r=this.validator;if(n.load(),n.bind(),n.syncViewport(),n.setUniform("from",r.fromImage),n.setUniform("to",r.toImage),t)for(var i in t)n.setUniform(i,t[i]);return n.setProgress(e),n.draw(),s(n.getGL(),r.width,r.height)}},t.exports=r},{"./ValidateUniform":208,"./lazy":211,"./readPixels":212,"./readPixelsIdentity":213}],208:[function(e,t,n){function r(e,t){var n=i(e),r=Array.isArray(t);return n!==(r?t.length:1)?!1:!0}var i=e("./arityForType");t.exports=function(e,t){return r(e,t)}},{"./arityForType":209}],209:[function(e,t,n){t.exports=function(e){return-1!==e.indexOf("vec2")?2:-1!==e.indexOf("vec3")?3:-1!==e.indexOf("vec4")?4:"mat2"===e?4:"mat3"===e?9:"mat4"===e?16:1}},{}],210:[function(e,t,n){function r(e,t,n,o,s){if(arguments.length<2)throw new Error("you must provide at least fromImage and toImage to the Validator.");this.fromImage=e,this.toImage=t,this.tolerance="undefined"==typeof s?.02:s,this.createCanvas=r.createCanvas,this.width=n||32,this.height=o||16,this.canvas=this.createCanvas(),this.canvas.width=this.width,this.canvas.height=this.height,this.Transition=i(this.canvas),this.validations=[]}var i=e("glsl-transition-core"),o=e("./GlslValidation"),s=e("./ValidateUniform");r.createCanvas=function(){if("undefined"!=typeof window)return window.document.createElement("canvas");throw new Error("You must implement GlslTransitionThumbnail.createCanvas.")},r.prototype={forGlsl:function(e){return this.addValidation(new o(this,e))},addValidation:function(e){return this.validations.push(e),e},destroy:function(){this.identityTransition&&this.identityTransition.destroy();for(var e=0;e<this.validations.length;++e){var t=this.validations[e];t.destroy&&t.destroy()}this.validations=null}},r.validateUniform=s,t.exports=r},{"./GlslValidation":207,"./ValidateUniform":208,"glsl-transition-core":206}],211:[function(e,t,n){t.exports=function(e,t){var n;return function(){if(0!==arguments.length)throw new Error("a lazy function cannot have arguments otherwise it is not invariant.");return void 0===n&&(n=e.call(t)),n}}},{}],212:[function(e,t,n){function r(e,t,n){var r=new Uint8Array(t*n*4);return e.readPixels(0,0,t,n,e.RGBA,e.UNSIGNED_BYTE,r),r}t.exports=r},{}],213:[function(e,t,n){function r(e,t){e.identityTransition||(e.identityTransition=e.Transition(o));var n=e.identityTransition;return n.load(),n.bind(),n.setUniform("from",t),n.syncViewport(),n.setProgress(0),n.draw(),i(n.getGL(),e.width,e.height)}var i=(e("glsl-transition-core"),e("./readPixels")),o="#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\nvoid main() {vec2 p = gl_FragCoord.xy / resolution.xy;gl_FragColor = texture2D(from, p);}";t.exports=r},{"./readPixels":212,"glsl-transition-core":206}],214:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(e("react")),o=r(e("lodash/array/difference")),s=r(e("lodash/collection/find")),a=r(e("glsl-transition-vignette")),l=r(e("glsl-transition-vignette/SharedCanvas")),c=i.PropTypes,u=i.createClass({displayName:"VignetteGrid",propTypes:{style:c.object,vignetteWidth:c.number.isRequired,vignetteHeight:c.number.isRequired,vignetteMargin:c.oneOfType([c.array,c.number]),images:c.array.isRequired,transitions:c.array.isRequired,renderVignette:c.func,cache:c.shape({resolution:c.number,delay:c.number})},getDefaultProps:function(){return{style:{},vignetteMargin:0,dpr:window.devicePixelRatio||1,renderVignette:function(e){return i.createElement(a,e)},cache:{resolution:64,delay:30}}},componentWillMount:function(){var e=this,t=this.props,n=t.transitions,r=t.vignetteWidth,i=t.vignetteHeight,o=t.dpr;this.cache=l.create(r,i,o),n.forEach(function(t){return e.cache.createTransitionDrawer(t.id,t.glsl,t.uniforms)})},componentWillUnmount:function(){this.cache.destroy(),this.cache=null},componentWillUpdate:function(e){var t=this.props,n=t.transitions,r=t.width,i=t.height,a=t.dpr;if((e.dpr!==a||e.width!==r||e.height!==i)&&this.cache.resize(e.width,e.height,e.dpr),e.transitions!==n){var l=this.cache,c=e.transitions,u=l.getAllIds(),h=c.map(function(e){return e.id}),d=o(u,h),f=o(h,u);d.forEach(function(e){return l.removeTransitionDrawer(e)}),f.forEach(function(e){var t=s(c,function(t){return t.id===e});l.createTransitionDrawer(e,t.glsl,t.uniforms)})}},render:function(){var e=this,t=this.props,n=t.style,r=t.transitions,o=t.images,s=t.renderVignette,a=t.vignetteMargin,l=t.vignetteWidth,c=t.vignetteHeight,u=t.cache,h=t.dpr,d=("number"==typeof a?[a]:a).map(function(e){return e+"px"}).join(" "),f=r.map(function(t,n){var r={drawer:e.cache.getTransitionDrawer(t.id),resolution:u.resolution,delay:(n+1)*u.delay};return s({style:{display:"inline-block",margin:d},width:l,height:c,dpr:h,images:o,glsl:t.glsl,uniforms:t.uniforms,id:t.id,key:t.id,name:t.name,owner:t.owner,cache:r},t)});return i.createElement("div",{style:n},f)}});t.exports=u},{"glsl-transition-vignette":220,"glsl-transition-vignette/SharedCanvas":216,"lodash/array/difference":269,"lodash/collection/find":273,react:563}],215:[function(e,t,n){"use strict";function r(e,t){var n=l[t];return n&&-1!==n.indexOf(e)}function i(e,t){var n=l[t];n||(l[t]=n=[]),n.push(e)}function o(e){(l[e]||[]).forEach(function(e){e.isMounted()&&e.forceUpdate()}),delete l[e]}var s={},a={},l={},c={componentDidMount:function(){this.preloadImages()},componentDidUpdate:function(){this.preloadImages()},hasPreloadedImage:function(e){return!!a[e]},getPreloadedImage:function(e){return this.hasPreloadedImage(e)?s[e]:void 0},preloadImages:function(){for(var e=this.getImageUrlsToPreload(),t=!0,n=0;n<e.length;++n){var r=e[n];this.preloadImage(r),t=t&&this.hasPreloadedImage(r)}return t},preloadImage:function(e){if(r(this,e)||i(this,e),e&&!s[e]){var t=new window.Image;t.onload=function(){a[e]=!0,o(e)},t.onerror=function(){delete s[e],delete l[e]},t.src=e,s[e]=t}}};t.exports=c},{}],216:[function(e,t,n){"use strict";function r(){}var i=function(e){return e&&e.__esModule?e.default:e},o=i(e("glsl-transition")),s=i(e("gl-texture2d")),a=i(e("weakmap-shim"));r.prototype={init:function(e,t,n){n=n||1;var r=document.createElement("canvas");r.width=n*e,r.height=n*t;var i=r.getContext("webgl");i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),this.gl=i,this.canvasTransition=r,this.transitions={}},resize:function(e,t,n){n=n||1,this.canvasTransition.width=n*e,this.canvasTransition.height=n*t},destroy:function(){for(var e in this.transitions)this.transitions[e].transition.dispose();this._Transition=null,this.transitions=null,this.canvasTransition=null},getAllIds:function(){return Object.keys(this.transitions)},getTransitionDrawer:function(e){return this.transitions[e].render},removeTransitionDrawer:function(e){this.transitions[e]&&(this.transitions[e].transition.dispose(),delete this.transitions[e])},createTransitionDrawer:function(e,t){function n(e){if(c.has(e))return c.get(e);var t=s(i,e);return c.set(e,t),t}var r=this,i=this.gl,l=o(i,t);this.transitions[e]&&this.transitions[e].transition.dispose();var c=new a,u=function(e,t,i,o){return l.render(e,n(t),n(i),o),r.canvasTransition};return this.transitions[e]={transition:l,render:u},u}},r.create=function(e,t,n){var i=new r;return i.init(e,t,n),i},t.exports=r},{"gl-texture2d":234,"glsl-transition":235,"weakmap-shim":244}],217:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(e("react")),o=r(e("lodash/object/extend")),s=r(e("glsl-transition")),a=r(e("gl-texture2d")),l=i.PropTypes.oneOfType([i.PropTypes.instanceOf(window.HTMLImageElement),i.PropTypes.instanceOf(window.HTMLVideoElement),i.PropTypes.instanceOf(window.HTMLCanvasElement)]),c=i.createClass({displayName:"TransitionCanvas",propTypes:{glsl:i.PropTypes.string.isRequired,progress:i.PropTypes.number.isRequired,from:l.isRequired,to:l.isRequired,uniforms:i.PropTypes.object.isRequired,width:i.PropTypes.number.isRequired,height:i.PropTypes.number.isRequired,dpr:i.PropTypes.number},getDefaultProps:function(){return{dpr:1}},render:function(){var e=this.props,t=e.width,n=e.height,r=e.dpr,s=e.style,a=o({width:t+"px",height:n+"px"},s);return i.createElement("canvas",{width:t*r,height:n*r,style:a})},update:function(){var e=this.props,t=e.progress,n=e.uniforms;this.transition&&this.transition.render(t,this.fromTexture,this.toTexture,n)},componentDidMount:function(){var e=this.getDOMNode(),t=e.getContext("webgl");t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),this.gl=t,this.syncGlsl(),this.syncFrom(),this.syncTo(),this.update()},componentWillUnmount:function(){this.transition&&this.transition.dispose(),this.transition=null,this.gl=null},componentDidUpdate:function(e){var t=this.props,n=t.glsl,r=t.from,i=t.to;i!==e.to&&this.syncTo(),r!==e.from&&this.syncFrom(),n!==e.glsl&&this.syncGlsl(),this.update()},syncFrom:function(){this.fromTexture&&this.fromTexture.dispose(),this.fromTexture=a(this.gl,this.props.from)},syncTo:function(){this.toTexture&&this.toTexture.dispose(),this.toTexture=a(this.gl,this.props.to)},syncGlsl:function(){this.transition&&this.transition.dispose();try{this.transition=s(this.gl,this.props.glsl)}catch(e){console.error(e)}}});t.exports=c},{"gl-texture2d":234,"glsl-transition":235,"lodash/object/extend":341,react:563}],218:[function(e,t,n){"use strict";function r(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n.drawImage(e,0,0),t}var i=function(e){return e&&e.__esModule?e.default:e},o=i(e("react")),s=i(e("lodash/function/memoize")),a=i(e("lodash/object/extend")),l=i(e("./uniformsEquals")),c=o.PropTypes.oneOfType([o.PropTypes.instanceOf(window.HTMLImageElement),o.PropTypes.instanceOf(window.HTMLCanvasElement)]),u=o.createClass({displayName:"TransitionCanvasCache",propTypes:{glsl:o.PropTypes.string.isRequired,from:c,to:c,uniforms:o.PropTypes.object.isRequired,width:o.PropTypes.number.isRequired,height:o.PropTypes.number.isRequired,progress:o.PropTypes.number.isRequired,drawer:o.PropTypes.func.isRequired,resolution:o.PropTypes.number,delay:o.PropTypes.number,dpr:o.PropTypes.number},getDefaultProps:function(){return{resolution:64,dpr:1}},render:function(){var e=this.props,t=e.width,n=e.height,r=e.dpr,i=a({width:t+"px",height:n+"px"},this.props.style);return o.createElement("canvas",{width:t*r,height:n*r,style:i})},sync:function(){this.resetCache(),this.update()},componentDidMount:function(){this.ctx=this.getDOMNode().getContext("2d"),this.props.delay?this.timeout=setTimeout(this.sync,this.props.delay):this.sync()},componentWillUnmount:function(){clearTimeout(this.timeout),this.clearCache()},componentDidUpdate:function(e){var t=this.props,n=t.glsl,r=t.from,i=t.to,o=t.uniforms,s=t.width,a=t.height,c=t.dpr,u=t.drawer,h=t.resolution;i===e.to&&r===e.from&&n===e.glsl&&s===e.width&&a===e.height&&c===e.dpr&&u===e.drawer&&h===e.resolution&&l(o,e.uniforms)||this.resetCache(),this.update()},drawer:function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){var t=this.props,n=t.resolution,i=t.from,o=t.to,s=t.drawer,a=t.uniforms;return r(s(e/n,i,o,a))}),clearCache:function(){if(this._curDrawn=null,this.canvases){for(var e in this.canvases.cache)delete this.canvases.cache[e];this.canvases.cache=null,this.canvases=null}},resetCache:function(){this.clearCache(),this.canvases=s(this.drawer)},update:function(){var e=this.props,t=e.progress,n=e.resolution,r=Math.max(0,Math.min(Math.round(t*n),n));if(r!==this._curDrawn&&this.canvases){var i=this.canvases(r);if(i){this._curDrawn=r;var o=this.ctx.canvas;this.ctx.drawImage(i,0,0,o.width,o.height)}}}});t.exports=u},{"./uniformsEquals":245,"lodash/function/memoize":274,"lodash/object/extend":341,react:563}],219:[function(e,t,n){"use strict";function r(e,t){return t>e?e:0}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("react"),s=e("raf"),a=e("lodash/object/extend"),l=e("./TransitionCanvas"),c=e("./TransitionCanvasCache"),u=e("./ImagePreloaderMixin"),h="hover",d="mousedown",f="none",p=o.createClass({displayName:"Vignette",mixins:[u],propTypes:{glsl:o.PropTypes.string.isRequired,images:o.PropTypes.array.isRequired,uniforms:o.PropTypes.object.isRequired,width:o.PropTypes.number.isRequired,height:o.PropTypes.number.isRequired,dpr:o.PropTypes.number,onClick:o.PropTypes.func,autostart:o.PropTypes.bool,defaultProgress:o.PropTypes.number,transitionDuration:o.PropTypes.number,transitionDelay:o.PropTypes.number,transitionEasing:o.PropTypes.func,cursorColor:o.PropTypes.string,controlsMode:o.PropTypes.oneOf([h,d,f]),cache:o.PropTypes.shape({drawer:o.PropTypes.func.isRequired,resolution:o.PropTypes.number,delay:o.PropTypes.number}),onTransitionPerformed:o.PropTypes.func},getDefaultProps:function(){return{controlsMode:h,autostart:!1,startonleave:!1,defaultProgress:.4,onTransitionPerformed:function(){},transitionDuration:1500,transitionDelay:100,transitionEasing:function(e){return e},cursorColor:"#FC6",dpr:window.devicePixelRatio||1}},getInitialState:function(){return{hover:!1,down:!1,hoverProgress:this.props.defaultProgress,progress:this.props.defaultProgress,i:0,startTime:null}},getImageUrlsToPreload:function(){return this.props.images},componentDidMount:function(){},componentDidUpdate:function(){!this._running&&this.props.autostart&&!this.isControlled()&&this.preloadImages()&&s(this.update)},update:function(e){if(this.isControlled())return void(this._running=!1);this._running=!0,s(this.update);var t=this.props,n=t.transitionDuration,i=t.transitionDelay,o=t.transitionEasing,a=t.images,l=this.state,c=l.startTime,u=l.progress;c||this.setState({startTime:e});var h=e-(c||e);if(h>n+i){var d=r(this.state.i+1,a.length);this.setState({progress:0,startTime:e,i:d})}else if(n>=h){var f=o(h/n);this.setState({progress:f})}else 1!==u&&this.setState({progress:1})},isControlled:function(){var e=this.props.controlsMode,t=this.state,n=t.down,r=t.hover;return e===h&&r||e===d&&n},render:function(){var e,t=this.props,n=t.width,s=t.height,u=t.dpr,f=t.images,p=t.glsl,g=t.uniforms,m=t.cache,v=t.onClick,y=t.cursorColor,b=t.controlsMode,w=t.defaultProgress,E=this.state,C=E.progress,x=E.down,_=E.hoverProgress,A=E.i,D=f.length,F=this.getPreloadedImage(f[r(A,D)]),S=this.getPreloadedImage(f[r(A+1,D)]),T=this.isControlled(),R=T?_:this._running?C:w,k=a({background:"#000",position:"relative",userSelect:"none",outline:T?"1px solid "+y:"1px solid #000",width:n+"px",height:s+"px"},this.props.style),M={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",zIndex:2},L={display:T?"block":"none",position:"absolute",top:0,left:100*R+"%",height:"100%",pointerEvents:"none",zIndex:1,width:"2px",background:y,boxShadow:"0px 0px 4px "+y},B={position:"absolute",top:0,left:0,width:n+"px",height:s+"px"};this.preloadImages()&&(e=m?o.createElement(c,{style:B,width:n,height:s,dpr:u,glsl:p,uniforms:g,progress:R,from:F,to:S,drawer:m.drawer,resolution:m.resolution,delay:m.delay}):o.createElement(l,{style:B,width:n,height:s,dpr:u,glsl:p,uniforms:g,progress:R,from:F,to:S}));var O={};return v&&(O.onClick=v),b===h?(O.onMouseEnter=this.onMouseEnter,O.onMouseLeave=this.onMouseLeave,O.onMouseMove=this.onMouseMove):b===d&&(O.onMouseEnter=this.onMouseEnter,O.onMouseLeave=this.onMouseLeave,O.onMouseDown=this.onMouseDown,x&&(O.onMouseUp=this.onMouseUp,O.onMouseMove=this.onMouseMove)),o.createElement("div",i({style:k},O),e,o.createElement("div",{style:M},this.props.children),o.createElement("span",{style:L}))},progressForEvent:function(e){var t=this.getDOMNode();return(e.clientX-t.getBoundingClientRect().left)/t.clientWidth},onMouseDown:function(e){this.setState({down:!0,hoverProgress:this.progressForEvent(e)})},onMouseUp:function(){this.setState({down:!1})},onMouseMove:function(e){e.preventDefault(),this.setState({hoverProgress:this.progressForEvent(e)})},onMouseEnter:function(e){this.setState({hover:!0,hoverProgress:this.progressForEvent(e)})},onMouseLeave:function(){this.setState({hover:!1,down:!1})}});t.exports=p},{"./ImagePreloaderMixin":215,"./TransitionCanvas":217,"./TransitionCanvasCache":218,"lodash/object/extend":341,raf:353,react:563}],220:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(e("./Vignette"));t.exports=i},{"./Vignette":219}],221:[function(e,t,n){arguments[4][171][0].apply(n,arguments)},{"cwise-compiler":222,dup:171}],222:[function(e,t,n){arguments[4][172][0].apply(n,arguments)},{"./lib/thunk.js":224,dup:172}],223:[function(e,t,n){arguments[4][173][0].apply(n,arguments)},{dup:173,uniq:225}],224:[function(e,t,n){arguments[4][174][0].apply(n,arguments)},{"./compile.js":223,dup:174}],225:[function(e,t,n){arguments[4][175][0].apply(n,arguments)},{dup:175}],226:[function(e,t,n){arguments[4][183][0].apply(n,arguments)},{dup:183,"iota-array":227,"is-buffer":228}],227:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{dup:184}],228:[function(e,t,n){arguments[4][185][0].apply(n,arguments)},{dup:185}],229:[function(e,t,n){arguments[4][176][0].apply(n,arguments)},{dup:176}],230:[function(e,t,n){arguments[4][177][0].apply(n,arguments)},{dup:177}],231:[function(e,t,n){arguments[4][178][0].apply(n,arguments)},{"bit-twiddle":229,buffer:78,dup:178}],232:[function(e,t,n){arguments[4][187][0].apply(n,arguments)},{dup:187}],233:[function(e,t,n){arguments[4][188][0].apply(n,arguments)},{dup:188,"weak-map":232}],234:[function(e,t,n){arguments[4][179][0].apply(n,arguments)},{dup:179,ndarray:226,"ndarray-ops":221,"typedarray-pool":231,webglew:233}],235:[function(e,t,n){arguments[4][180][0].apply(n,arguments)},{dup:180,"gl-shader":236}],236:[function(e,t,n){arguments[4][162][0].apply(n,arguments)},{"./lib/create-attributes":237,"./lib/create-uniforms":238,"./lib/reflect":239,"./lib/runtime-reflect":240,"./lib/shader-cache":241,dup:162}],237:[function(e,t,n){arguments[4][163][0].apply(n,arguments)},{dup:163}],238:[function(e,t,n){arguments[4][164][0].apply(n,arguments)},{"./reflect":239,dup:164}],239:[function(e,t,n){arguments[4][165][0].apply(n,arguments)},{dup:165}],240:[function(e,t,n){arguments[4][166][0].apply(n,arguments)},{dup:166}],241:[function(e,t,n){arguments[4][167][0].apply(n,arguments)},{dup:167,"weakmap-shim":244}],242:[function(e,t,n){arguments[4][168][0].apply(n,arguments)},{"./hidden-store.js":243,dup:168}],243:[function(e,t,n){arguments[4][169][0].apply(n,arguments)},{dup:169}],244:[function(e,t,n){arguments[4][170][0].apply(n,arguments)},{"./create-store.js":242,dup:170}],245:[function(e,t,n){"use strict";var r=e("lodash/lang/isEqual");t.exports=r},{"lodash/lang/isEqual":335}],246:[function(e,t,n){t.exports=e("./transitions.min.json")},{"./transitions.min.json":247}],247:[function(e,t,n){t.exports=[{id:"1b4862e4e2050a3abebe",name:"glitch displace",owner:"mattdesl",uniforms:{},html_url:"https://gist.github.com/1b4862e4e2050a3abebe",created_at:"2015-01-15T19:48:03Z",updated_at:"2015-05-01T02:57:21Z",stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;highp float random(vec2 co){highp float a=12.9898;highp float b=78.233;highp float c=43758.5453;highp float dt=dot(co.xy,vec2(a,b));highp float sn=mod(dt,3.14);return fract(sin(sn)*c);}float voronoi(in vec2 x){vec2 p=floor(x);vec2 f=fract(x);float res=8.0;for(float j=-1.;j<=1.;j++)for(float i=-1.;i<=1.;i++){vec2 b=vec2(i,j);vec2 r=b-f+random(p+b);float d=dot(r,r);res=min(res,d);}return sqrt(res);}vec2 displace(vec4 tex,vec2 texCoord,float dotDepth,float textureDepth,float strength){float b=voronoi(.003*texCoord+2.0);float g=voronoi(0.2*texCoord);float r=voronoi(texCoord-1.0);vec4 dt=tex*1.0;vec4 dis=dt*dotDepth+1.0-tex*textureDepth;dis.x=dis.x-1.0+textureDepth*dotDepth;dis.y=dis.y-1.0+textureDepth*dotDepth;dis.x*=strength;dis.y*=strength;vec2 res_uv=texCoord;res_uv.x=res_uv.x+dis.x-0.0;res_uv.y=res_uv.y+dis.y;return res_uv;}float ease1(float t){return t==0.0||t==1.0?t:t<0.5?+0.5*pow(2.0,(20.0*t)-10.0):-0.5*pow(2.0,10.0-(t*20.0))+1.0;}float ease2(float t){return t==1.0?t:1.0-pow(2.0,-10.0*t);}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec4 color1=texture2D(from,p);vec4 color2=texture2D(to,p);vec2 disp=displace(color1,p,0.33,0.7,1.0-ease1(progress));vec2 disp2=displace(color2,p,0.33,0.5,ease2(progress));vec4 dColor1=texture2D(to,disp);vec4 dColor2=texture2D(from,disp2);float val=ease1(progress);vec3 gray=vec3(dot(min(dColor2,dColor1).rgb,vec3(0.299,0.587,0.114)));dColor2=vec4(gray,1.0);dColor2*=2.0;color1=mix(color1,dColor2,smoothstep(0.0,0.5,progress));color2=mix(color2,dColor1,smoothstep(1.0,0.5,progress));gl_FragColor=mix(color1,color2,val);}"},{id:"04fd9a7de4012cbb03f6",name:"crosshatch",owner:"pthrasher",uniforms:{},html_url:"https://gist.github.com/04fd9a7de4012cbb03f6",created_at:"2014-12-17T03:04:51Z",updated_at:"2015-05-01T03:00:04Z",stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;const vec2 center=vec2(0.5,0.5);float quadraticInOut(float t){float p=2.0*t*t;return t<0.5?p:-p+(4.0*t)-1.0;}float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;if(progress==0.0){gl_FragColor=texture2D(from,p);}else if(progress==1.0){gl_FragColor=texture2D(to,p);}else{float x=progress;float dist=distance(center,p);float r=x-min(rand(vec2(p.y,0.0)),rand(vec2(0.0,p.x)));float m=dist<=r?1.0:0.0;gl_FragColor=mix(texture2D(from,p),texture2D(to,p),m);}}"},{id:"8e6226b215548ba12734",name:"undulating burn out",owner:"pthrasher",uniforms:{smoothness:.02},html_url:"https://gist.github.com/8e6226b215548ba12734",created_at:"2014-12-16T23:01:57Z",updated_at:"2015-05-01T02:58:13Z",stars:2,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n#define 	M_PI   3.14159265358979323846	/* pi */\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform float smoothness;const vec2 center=vec2(0.5,0.5);float quadraticInOut(float t){float p=2.0*t*t;return t<0.5?p:-p+(4.0*t)-1.0;}float linearInterp(vec2 range,vec2 domain,float x){return mix(range.x,range.y,smoothstep(domain.x,domain.y,clamp(x,domain.x,domain.y)));}float getGradient(float r,float dist){float grad=smoothstep(-smoothness,0.0,r-dist*(1.0+smoothness));if(r-dist<0.005&&r-dist>-0.005){return -1.0;}else if(r-dist<0.01&&r-dist>-0.005){return -2.0;}return grad;}float round(float a){return floor(a+0.5);}float getWave(vec2 p){vec2 _p=p-center;float rads=atan(_p.y,_p.x);float degs=degrees(rads)+180.0;vec2 range=vec2(0.0,M_PI*30.0);vec2 domain=vec2(0.0,360.0);float ratio=(M_PI*30.0)/360.0;degs=degs*ratio;float x=progress;float magnitude=mix(0.02,0.09,smoothstep(0.0,1.0,x));float offset=mix(40.0,30.0,smoothstep(0.0,1.0,x));float ease_degs=quadraticInOut(sin(degs));float deg_wave_pos=(ease_degs*magnitude)*sin(x*offset);return x+deg_wave_pos;}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;if(progress==0.0){gl_FragColor=texture2D(from,p);}else if(progress==1.0){gl_FragColor=texture2D(to,p);}else{float dist=distance(center,p);float m=getGradient(getWave(p),dist);if(m==-2.0){gl_FragColor=mix(texture2D(from,p),vec4(0.0,0.0,0.0,1.0),0.75);}else{gl_FragColor=mix(texture2D(from,p),texture2D(to,p),m);}}}"},{id:"b3aa4a8b4f88dc228d4a",name:"test",owner:"brandonyoyo",uniforms:{},html_url:"https://gist.github.com/b3aa4a8b4f88dc228d4a",created_at:"2014-10-26T16:46:18Z",updated_at:"2015-05-01T02:58:08Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;gl_FragColor=mix(texture2D(from,p),texture2D(to,p),progress);}"},{id:"d1f891c5585fc40b55ea",name:"Star Wipe",owner:"MemoryStomp",uniforms:{},html_url:"https://gist.github.com/d1f891c5585fc40b55ea",created_at:"2014-07-01T06:58:45Z",updated_at:"2015-05-01T03:00:05Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;vec2 circlePoint(float ang){ang+=6.28318*0.15;return vec2(cos(ang),sin(ang));}float cross2d(vec2 a,vec2 b){return (a.x*b.y-a.y*b.x);}float star(vec2 p,float size){if(size<=0.0){return 0.0;}p/=size;vec2 p0=circlePoint(0.0);vec2 p1=circlePoint(6.28318*1.0/5.0);vec2 p2=circlePoint(6.28318*2.0/5.0);vec2 p3=circlePoint(6.28318*3.0/5.0);vec2 p4=circlePoint(6.28318*4.0/5.0);float s0=(cross2d(p1-p0,p-p0));float s1=(cross2d(p2-p1,p-p1));float s2=(cross2d(p3-p2,p-p2));float s3=(cross2d(p4-p3,p-p3));float s4=(cross2d(p0-p4,p-p4));float s5=min(min(min(s0,s1),min(s2,s3)),s4);float s=max(1.0-sign(s0*s1*s2*s3*s4)+sign(s5),0.0);s=sign(2.6-length(p))*s;return max(s,0.0);}void main(){vec2 p=(gl_FragCoord.xy/resolution.xy);vec2 o=p*2.0-1.0;float t=progress*1.4;float c1=star(o,t);float c2=star(o,t-0.1);float border=max(c1-c2,0.0);gl_FragColor=mix(texture2D(from,p),texture2D(to,p),c1)+vec4(border,border,border,0.0);}"},{id:"5a4d1fb6711076d17e2e",name:"morph",owner:"paniq",uniforms:{},html_url:"https://gist.github.com/5a4d1fb6711076d17e2e",created_at:"2014-07-01T04:52:25Z",updated_at:"2015-05-01T02:55:11Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;const float strength=0.1;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec4 ca=texture2D(from,p);vec4 cb=texture2D(to,p);vec2 oa=(((ca.rg+ca.b)*0.5)*2.0-1.0);vec2 ob=(((cb.rg+cb.b)*0.5)*2.0-1.0);vec2 oc=mix(oa,ob,0.5)*strength;float w0=progress;float w1=1.0-w0;gl_FragColor=mix(texture2D(from,p+oc*w0),texture2D(to,p-oc*w1),progress);}"},{id:"00973cee8e0353c73305",name:"LumaWipe",owner:"rectalogic",uniforms:{lumaTex:"conical-asym.png",invertLuma:!0,softness:.25},html_url:"https://gist.github.com/00973cee8e0353c73305",created_at:"2014-06-17T02:11:27Z",updated_at:"2015-05-01T02:58:31Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform sampler2D lumaTex;uniform bool invertLuma;uniform float softness;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float luma=texture2D(lumaTex,p).x;if(invertLuma) luma=1.0-luma;vec4 fromColor=texture2D(from,p);vec4 toColor=texture2D(to,p);float time=mix(0.0,1.0+softness,progress);if(luma<=time-softness) gl_FragColor=toColor;else if(luma>=time) gl_FragColor=fromColor;else{float alpha=(time-luma)/softness;gl_FragColor=mix(fromColor,toColor,alpha);}}"},{id:"0141a38779af3a652c22",name:"simple luma",owner:"gre",uniforms:{luma:"spiral-1.png"},html_url:"https://gist.github.com/0141a38779af3a652c22",created_at:"2014-06-13T08:16:10Z",updated_at:"2015-05-01T02:58:48Z",
stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform sampler2D luma;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;gl_FragColor=mix(texture2D(from,p),texture2D(to,p),step(texture2D(luma,p).r,progress));}"},{id:"ee15128c2b87d0e74dee",name:"cube",owner:"gre",uniforms:{persp:.7,unzoom:.3,reflection:.4,floating:3},html_url:"https://gist.github.com/ee15128c2b87d0e74dee",created_at:"2014-06-12T17:13:17Z",updated_at:"2015-05-01T03:00:02Z",stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float persp;uniform float unzoom;uniform float reflection;uniform float floating;vec2 project(vec2 p){return p*vec2(1.0,-1.2)+vec2(0.0,-floating/100.);}bool inBounds(vec2 p){return all(lessThan(vec2(0.0),p))&&all(lessThan(p,vec2(1.0)));}vec4 bgColor(vec2 p,vec2 pfr,vec2 pto){vec4 c=vec4(0.0,0.0,0.0,1.0);pfr=project(pfr);if(inBounds(pfr)){c+=mix(vec4(0.0),texture2D(from,pfr),reflection*mix(1.0,0.0,pfr.y));}pto=project(pto);if(inBounds(pto)){c+=mix(vec4(0.0),texture2D(to,pto),reflection*mix(1.0,0.0,pto.y));}return c;}vec2 xskew(vec2 p,float persp,float center){float x=mix(p.x,1.0-p.x,center);return ((vec2(x,(p.y-0.5*(1.0-persp)*x)/(1.0+(persp-1.0)*x))-vec2(0.5-distance(center,0.5),0.0))*vec2(0.5/distance(center,0.5)*(center<0.5?1.0:-1.0),1.0)+vec2(center<0.5?0.0:1.0,0.0));}void main(){vec2 op=gl_FragCoord.xy/resolution.xy;float uz=unzoom*2.0*(0.5-distance(0.5,progress));vec2 p=-uz*0.5+(1.0+uz)*op;vec2 fromP=xskew((p-vec2(progress,0.0))/vec2(1.0-progress,1.0),1.0-mix(progress,0.0,persp),0.0);vec2 toP=xskew(p/vec2(progress,1.0),mix(pow(progress,2.0),1.0,persp),1.0);if(inBounds(fromP)){gl_FragColor=texture2D(from,fromP);}else if(inBounds(toP)){gl_FragColor=texture2D(to,toP);}else{gl_FragColor=bgColor(op,fromP,toP);}}"},{id:"9b99fc01fd5705008a5b",name:"Glitch Memories",owner:"niseh",uniforms:{},html_url:"https://gist.github.com/9b99fc01fd5705008a5b",created_at:"2014-05-29T19:32:52Z",updated_at:"2015-05-01T02:59:20Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;void glitch_memories(sampler2D pic){vec2 p=gl_FragCoord.xy/resolution.xy;vec2 block=floor(gl_FragCoord.xy/vec2(16));vec2 uv_noise=block/vec2(64);uv_noise+=floor(vec2(progress)*vec2(1200.0,3500.0))/vec2(64);float block_thresh=pow(fract(progress*1200.0),2.0)*0.2;float line_thresh=pow(fract(progress*2200.0),3.0)*0.7;vec2 red=p,green=p,blue=p,o=p;vec2 dist=(fract(uv_noise)-0.5)*0.3;red+=dist*0.1;green+=dist*0.2;blue+=dist*0.125;gl_FragColor.r=texture2D(pic,red).r;gl_FragColor.g=texture2D(pic,green).g;gl_FragColor.b=texture2D(pic,blue).b;gl_FragColor.a=1.0;}void main(void){float smoothed=smoothstep(0.,1.,progress);if((smoothed<0.4&&smoothed>0.1)){glitch_memories(from);}else if((smoothed>0.6&&smoothed<0.9)){glitch_memories(to);}else{vec2 p=gl_FragCoord.xy/resolution.xy;gl_FragColor=mix(texture2D(from,p),texture2D(to,p),progress);}}"},{id:"fe67b3b5149738069537",name:"potleaf",owner:"Flexi23",uniforms:{},html_url:"https://gist.github.com/fe67b3b5149738069537",created_at:"2014-05-28T09:58:30Z",updated_at:"2015-05-01T02:58:25Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;void main(){vec2 uv=gl_FragCoord.xy/resolution.xy;vec2 leaf_uv=(uv-vec2(0.5))/10./pow(progress,3.5);leaf_uv.y+=0.35;float r=0.18;float o=atan(leaf_uv.y,leaf_uv.x);gl_FragColor=mix(texture2D(from,uv),texture2D(to,uv),1.-step(1.-length(leaf_uv)+r*(1.+sin(o))*(1.+0.9*cos(8.*o))*(1.+0.1*cos(24.*o))*(0.9+0.05*cos(200.*o)),1.));}"},{id:"b86b90161503a0023231",name:"CrossZoom",owner:"rectalogic",uniforms:{strength:.4},html_url:"https://gist.github.com/b86b90161503a0023231",created_at:"2014-05-25T01:24:39Z",updated_at:"2015-05-01T02:59:37Z",stars:2,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float strength;const float PI=3.141592653589793;float Linear_ease(in float begin,in float change,in float duration,in float time){return change*time/duration+begin;}float Exponential_easeInOut(in float begin,in float change,in float duration,in float time){if(time==0.0) return begin;else if(time==duration) return begin+change;time=time/(duration/2.0);if(time<1.0) return change/2.0*pow(2.0,10.0*(time-1.0))+begin;return change/2.0*(-pow(2.0,-10.0*(time-1.0))+2.0)+begin;}float Sinusoidal_easeInOut(in float begin,in float change,in float duration,in float time){return -change/2.0*(cos(PI*time/duration)-1.0)+begin;}float random(in vec3 scale,in float seed){return fract(sin(dot(gl_FragCoord.xyz+seed,scale))*43758.5453+seed);}vec3 crossFade(in vec2 uv,in float dissolve){return mix(texture2D(from,uv).rgb,texture2D(to,uv).rgb,dissolve);}void main(){vec2 texCoord=gl_FragCoord.xy/resolution.xy;vec2 center=vec2(Linear_ease(0.25,0.5,1.0,progress),0.5);float dissolve=Exponential_easeInOut(0.0,1.0,1.0,progress);float strength=Sinusoidal_easeInOut(0.0,strength,0.5,progress);vec3 color=vec3(0.0);float total=0.0;vec2 toCenter=center-texCoord;float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=0.0;t<=40.0;t++){float percent=(t+offset)/40.0;float weight=4.0*(percent-percent*percent);color+=crossFade(texCoord+toCenter*percent*strength,dissolve)*weight;total+=weight;}gl_FragColor=vec4(color/total,1.0);}"},{id:"ce9279de351984f0ad27",name:"Slide",owner:"rectalogic",uniforms:{translateX:1,translateY:0},html_url:"https://gist.github.com/ce9279de351984f0ad27",created_at:"2014-05-25T01:13:20Z",updated_at:"2015-05-01T02:59:56Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float translateX;uniform float translateY;void main(){vec2 texCoord=gl_FragCoord.xy/resolution.xy;float x=progress*translateX;float y=progress*translateY;if(x>=0.0&&y>=0.0){if(texCoord.x>=x&&texCoord.y>=y){gl_FragColor=texture2D(from,texCoord-vec2(x,y));}else{vec2 uv;if(x>0.0) uv=vec2(x-1.0,y);else if(y>0.0) uv=vec2(x,y-1.0);gl_FragColor=texture2D(to,texCoord-uv);}}else if(x<=0.0&&y<=0.0){if(texCoord.x<=(1.0+x)&&texCoord.y<=(1.0+y)) gl_FragColor=texture2D(from,texCoord-vec2(x,y));else{vec2 uv;if(x<0.0) uv=vec2(x+1.0,y);else if(y<0.0) uv=vec2(x,y+1.0);gl_FragColor=texture2D(to,texCoord-uv);}}else gl_FragColor=vec4(0.0);}"},{id:"154a99fbe5300fb5c279",name:"pinwheel",owner:"mrspeaker",uniforms:{},html_url:"https://gist.github.com/154a99fbe5300fb5c279",created_at:"2014-05-23T21:56:59Z",updated_at:"2015-05-01T03:00:00Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float circPos=atan(p.y-0.5,p.x-0.5)+progress;float modPos=mod(circPos,3.1415/4.);float signed=sign(progress-modPos);float smoothed=smoothstep(0.,1.,signed);if(smoothed>0.5){gl_FragColor=texture2D(to,p);}else{gl_FragColor=texture2D(from,p);}}"},{id:"e54a807cdb66c8b16a34",name:"Kaleidoscope",owner:"nwoeanhinnogaehr",uniforms:{speed:1,angle:2,power:2},html_url:"https://gist.github.com/e54a807cdb66c8b16a34",created_at:"2014-05-23T19:02:46Z",updated_at:"2015-05-01T02:55:53Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float speed;uniform float angle;uniform float power;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec2 q=p;float t=pow(progress,power)*speed;p=p-0.5;for(int i=0;i<7;i++){p=vec2(sin(t)*p.x+cos(t)*p.y,sin(t)*p.y-cos(t)*p.x);t+=angle;p=abs(mod(p,2.0)-1.0);}abs(mod(p,1.0));gl_FragColor=mix(mix(texture2D(from,q),texture2D(to,q),progress),mix(texture2D(from,p),texture2D(to,p),progress),1.0-2.0*abs(progress-0.5));}"},{id:"408045772d255df97520",name:"SimpleFlip",owner:"nwoeanhinnogaehr",uniforms:{},html_url:"https://gist.github.com/408045772d255df97520",created_at:"2014-05-23T18:42:58Z",updated_at:"2015-05-01T02:55:54Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec2 q=p;p.x=(p.x-0.5)/abs(progress-0.5)*0.5+0.5;vec4 a=texture2D(from,p);vec4 b=texture2D(to,p);gl_FragColor=vec4(mix(a,b,step(0.5,progress)).rgb*step(abs(q.x-0.5),abs(progress-0.5)),1.0);}"},{id:"a070cbd69e2535e757f1",name:"DoomScreenTransition",owner:"zeh",uniforms:{barWidth:10,noise:.2,amplitude:2,frequency:1},html_url:"https://gist.github.com/a070cbd69e2535e757f1",created_at:"2014-05-23T18:00:18Z",updated_at:"2015-05-01T02:51:48Z",stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform int barWidth;uniform float amplitude;uniform float noise;uniform float frequency;float rand(int num){return fract(mod(float(num)*67123.313,12.0)*sin(float(num)*10.3)*cos(float(num)));}float wave(int num){float fn=float(num)*frequency*0.1*float(barWidth);return cos(fn*0.5)*cos(fn*0.13)*sin((fn+10.0)*0.3)/2.0+0.5;}float pos(int num){return noise==0.0?wave(num):mix(wave(num),rand(num),noise);}void main(){int bar=int(gl_FragCoord.x)/barWidth;float scale=1.0+pos(bar)*amplitude;float phase=progress*scale;float posY=gl_FragCoord.y/resolution.y;vec2 p;vec4 c;if(phase+posY<1.0){p=vec2(gl_FragCoord.x,gl_FragCoord.y+mix(0.0,resolution.y,phase))/resolution.xy;c=texture2D(from,p);}else{p=gl_FragCoord.xy/resolution.xy;c=texture2D(to,p);}gl_FragColor=c;}"},{id:"a830822b23e846e25d2d",name:"DreamyZoom",owner:"zeh",uniforms:{rotation:6,scale:1.2},html_url:"https://gist.github.com/a830822b23e846e25d2d",created_at:"2014-05-23T15:27:25Z",updated_at:"2015-05-01T02:54:38Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n#define DEG2RAD 0.03926990816987241548078304229099 // 1/180*PI\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float rotation;uniform float scale;void main(){float phase=progress<0.5?progress*2.0:(progress-0.5)*2.0;float angleOffset=progress<0.5?mix(0.0,rotation*DEG2RAD,phase):mix(-rotation*DEG2RAD,0.0,phase);float newScale=progress<0.5?mix(1.0,scale,phase):mix(scale,1.0,phase);vec2 center=vec2(0,0);float maxRes=max(resolution.x,resolution.y);float resX=resolution.x/maxRes*0.5;float resY=resolution.y/maxRes*0.5;vec2 p=(gl_FragCoord.xy/maxRes-vec2(resX,resY))/newScale;float angle=atan(p.y,p.x)+angleOffset;float dist=distance(center,p);p.x=cos(angle)*dist+resX;p.y=sin(angle)*dist+resY;vec4 c=progress<0.5?texture2D(from,p):texture2D(to,p);gl_FragColor=c+(progress<0.5?mix(0.0,1.0,phase):mix(1.0,0.0,phase));}"},{id:"b6720916aa3f035949bc",name:"squareswipe",owner:"gre",uniforms:{squares:[10,10],direction:[1,-.5],smoothness:1.6},html_url:"https://gist.github.com/b6720916aa3f035949bc",created_at:"2014-05-23T12:09:38Z",updated_at:"2015-05-01T02:56:49Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform ivec2 squares;uniform vec2 direction;uniform float smoothness;const vec2 center=vec2(0.5,0.5);void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec2 v=normalize(direction);if(v!=vec2(0.0)) v/=abs(v.x)+abs(v.y);float d=v.x*center.x+v.y*center.y;float offset=smoothness;float pr=smoothstep(-offset,0.0,v.x*p.x+v.y*p.y-(d-0.5+progress*(1.+offset)));vec2 squarep=fract(p*vec2(squares));vec2 squaremin=vec2(pr/2.0);vec2 squaremax=vec2(1.0-pr/2.0);float a=all(lessThan(squaremin,squarep))&&all(lessThan(squarep,squaremax))?1.0:0.0;gl_FragColor=mix(texture2D(from,p),texture2D(to,p),a);}"},{id:"169781bb76f310e2bfde",name:"TilesWaveBottomLeftToTopRight",owner:"numb3r23",uniforms:{},html_url:"https://gist.github.com/169781bb76f310e2bfde",created_at:"2014-05-21T22:50:48Z",updated_at:"2015-05-01T02:52:49Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;const vec2 tileSize=vec2(64,64);const float checkerDistance=0.015;const bool flipX=true;const bool flipY=false;const bool preTileSingleColor=false;const bool postTileSingleColor=false;vec2 tile2Global(vec2 tex,vec2 tileNum,bool tileSingleColor){vec2 perTile=tileSize/resolution.xy;return tileNum*perTile+(tileSingleColor?vec2(0):tex*perTile);}void main(void){vec2 uv=gl_FragCoord.xy/resolution.xy;vec4 fragColor=vec4(1,1,0,1);vec2 posInTile=mod(vec2(gl_FragCoord),tileSize);vec2 tileNum=floor(vec2(gl_FragCoord)/tileSize);int num=int(tileNum.x);vec2 totalTiles=ceil(resolution.xy/tileSize);float countTiles=totalTiles.x*totalTiles.y;vec2 perTile=ceil(tileSize/resolution.xy);float offset=0.0;offset=(tileNum.y+tileNum.x*perTile.y)/(sqrt(countTiles)*2.0);float timeOffset=(progress-offset)*countTiles;timeOffset=clamp(timeOffset,0.0,0.5);float sinTime=1.0-abs(cos(fract(timeOffset)*3.1415926));fragColor.rg=uv;fragColor.b=sinTime;vec2 texC=posInTile/tileSize;if(sinTime<=0.5){if(flipX){if((texC.x<sinTime)||(texC.x>1.0-sinTime)){discard;}if(texC.x<0.5){texC.x=(texC.x-sinTime)*0.5/(0.5-sinTime);}else{texC.x=(texC.x-0.5)*0.5/(0.5-sinTime)+0.5;}}if(flipY){if((texC.y<sinTime)||(texC.y>1.0-sinTime)){discard;}if(texC.y<0.5){texC.y=(texC.y-sinTime)*0.5/(0.5-sinTime);}else{texC.y=(texC.y-0.5)*0.5/(0.5-sinTime)+0.5;}}fragColor=texture2D(from,tile2Global(texC,tileNum,preTileSingleColor));}else{if(flipX){if((texC.x>sinTime)||(texC.x<1.0-sinTime)){discard;}if(texC.x<0.5){texC.x=(texC.x-sinTime)*0.5/(0.5-sinTime);}else{texC.x=(texC.x-0.5)*0.5/(0.5-sinTime)+0.5;}texC.x=1.0-texC.x;}if(flipY){if((texC.y>sinTime)||(texC.y<1.0-sinTime)){discard;}if(texC.y<0.5){texC.y=(texC.y-sinTime)*0.5/(0.5-sinTime);}else{texC.y=(texC.y-0.5)*0.5/(0.5-sinTime)+0.5;}texC.y=1.0-texC.y;}fragColor.rgb=texture2D(to,tile2Global(texC,tileNum,postTileSingleColor)).rgb;}gl_FragColor=fragColor;}"},{id:"5ebd3442a208861c7a8a",name:"TilesScanline",owner:"numb3r23",uniforms:{},html_url:"https://gist.github.com/5ebd3442a208861c7a8a",created_at:"2014-05-21T22:49:22Z",updated_at:"2015-05-01T02:57:17Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;const vec2 tileSize=vec2(64,64);const float checkerDistance=0.015;const bool flipX=true;const bool flipY=false;const bool preTileSingleColor=false;const bool postTileSingleColor=false;vec2 tile2Global(vec2 tex,vec2 tileNum,bool tileSingleColor){vec2 perTile=tileSize/resolution.xy;return tileNum*perTile+(tileSingleColor?vec2(0):tex*perTile);}void main(void){vec2 uv=gl_FragCoord.xy/resolution.xy;vec4 fragColor=vec4(1,1,0,1);vec2 posInTile=mod(vec2(gl_FragCoord),tileSize);vec2 tileNum=floor(vec2(gl_FragCoord)/tileSize);int num=int(tileNum.x);vec2 totalTiles=ceil(resolution.xy/tileSize);float countTiles=totalTiles.x*totalTiles.y;vec2 perTile=ceil(tileSize/resolution.xy);float offset=0.0;offset=(tileNum.x+tileNum.y*totalTiles.x)/countTiles;float timeOffset=(progress-offset)*countTiles;timeOffset=clamp(timeOffset,0.0,0.5);float sinTime=1.0-abs(cos(fract(timeOffset)*3.1415926));fragColor.rg=uv;fragColor.b=sinTime;vec2 texC=posInTile/tileSize;if(sinTime<=0.5){if(flipX){if((texC.x<sinTime)||(texC.x>1.0-sinTime)){discard;}if(texC.x<0.5){texC.x=(texC.x-sinTime)*0.5/(0.5-sinTime);}else{texC.x=(texC.x-0.5)*0.5/(0.5-sinTime)+0.5;}}if(flipY){if((texC.y<sinTime)||(texC.y>1.0-sinTime)){discard;}if(texC.y<0.5){texC.y=(texC.y-sinTime)*0.5/(0.5-sinTime);}else{texC.y=(texC.y-0.5)*0.5/(0.5-sinTime)+0.5;}}fragColor=texture2D(from,tile2Global(texC,tileNum,preTileSingleColor));}else{if(flipX){if((texC.x>sinTime)||(texC.x<1.0-sinTime)){discard;}if(texC.x<0.5){texC.x=(texC.x-sinTime)*0.5/(0.5-sinTime);}else{texC.x=(texC.x-0.5)*0.5/(0.5-sinTime)+0.5;}texC.x=1.0-texC.x;}if(flipY){if((texC.y>sinTime)||(texC.y<1.0-sinTime)){discard;}if(texC.y<0.5){texC.y=(texC.y-sinTime)*0.5/(0.5-sinTime);}else{texC.y=(texC.y-0.5)*0.5/(0.5-sinTime)+0.5;}texC.y=1.0-texC.y;}fragColor.rgb=texture2D(to,tile2Global(texC,tileNum,postTileSingleColor)).rgb;}gl_FragColor=fragColor;}"},{id:"9e86d2712e123542758b",name:"Dreamy",owner:"mikolalysenko",uniforms:{},html_url:"https://gist.github.com/9e86d2712e123542758b",created_at:"2014-05-21T14:55:01Z",updated_at:"2015-05-01T02:56:19Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;vec2 offset(float progress,float x,float theta){float phase=progress*progress+progress+theta;float shifty=0.03*progress*cos(10.0*(progress+x));return vec2(0,shifty);}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;gl_FragColor=mix(texture2D(from,p+offset(progress,p.x,0.0)),texture2D(to,p+offset(1.0-progress,p.x,3.14)),progress);}"},{id:"21d2fdd24c706952dc8c",name:"AdvancedMosaic",owner:"corporateshark",uniforms:{},html_url:"https://gist.github.com/21d2fdd24c706952dc8c",created_at:"2014-05-21T14:45:52Z",updated_at:"2015-05-01T02:58:58Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;void main(void){vec2 p=gl_FragCoord.xy/resolution.xy;float T=progress;float S0=1.0;float S1=50.0;float S2=1.0;float Half=0.5;float PixelSize=(T<Half)?mix(S0,S1,T/Half):mix(S1,S2,(T-Half)/Half);vec2 D=PixelSize/resolution.xy;vec2 UV=(p+vec2(-0.5))/D;vec2 Coord=clamp(D*(ceil(UV+vec2(-0.5)))+vec2(0.5),vec2(0.0),vec2(1.0));vec4 C0=texture2D(from,Coord);vec4 C1=texture2D(to,Coord);gl_FragColor=mix(C0,C1,T);}"},{id:"cacfedb8cca0f5ce3f7c",name:"Swirl",owner:"corporateshark",uniforms:{},html_url:"https://gist.github.com/cacfedb8cca0f5ce3f7c",created_at:"2014-05-21T14:43:04Z",updated_at:"2015-05-01T02:57:50Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;void main(void){float Radius=1.0;float T=progress;vec2 UV=gl_FragCoord.xy/resolution.xy;UV-=vec2(0.5,0.5);float Dist=length(UV);if(Dist<Radius){float Percent=(Radius-Dist)/Radius;float A=(T<=0.5)?mix(0.0,1.0,T/0.5):mix(1.0,0.0,(T-0.5)/0.5);float Theta=Percent*Percent*A*8.0*3.14159;float S=sin(Theta);float C=cos(Theta);UV=vec2(dot(UV,vec2(C,-S)),dot(UV,vec2(S,C)));}UV+=vec2(0.5,0.5);vec4 C0=texture2D(from,UV);vec4 C1=texture2D(to,UV);gl_FragColor=mix(C0,C1,T);}"},{id:"b9f8e5675c647e615419",name:"DefocusBlur",owner:"corporateshark",uniforms:{},html_url:"https://gist.github.com/b9f8e5675c647e615419",created_at:"2014-05-21T10:12:14Z",updated_at:"2015-05-01T02:55:46Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform float progress;uniform vec2 resolution;uniform sampler2D from;uniform sampler2D to;void main(void){vec2 p=gl_FragCoord.xy/resolution.xy;float T=progress;float S0=1.0;float S1=50.0;float S2=1.0;float Half=0.5;float PixelSize=(T<Half)?mix(S0,S1,T/Half):mix(S1,S2,(T-Half)/Half);vec2 D=PixelSize/resolution.xy;vec2 UV=(gl_FragCoord.xy/resolution.xy);const int NumTaps=12;vec2 Disk[NumTaps];Disk[0]=vec2(-.326,-.406);Disk[1]=vec2(-.840,-.074);Disk[2]=vec2(-.696,.457);Disk[3]=vec2(-.203,.621);Disk[4]=vec2(.962,-.195);Disk[5]=vec2(.473,-.480);Disk[6]=vec2(.519,.767);Disk[7]=vec2(.185,-.893);Disk[8]=vec2(.507,.064);Disk[9]=vec2(.896,.412);Disk[10]=vec2(-.322,-.933);Disk[11]=vec2(-.792,-.598);vec4 C0=texture2D(from,UV);vec4 C1=texture2D(to,UV);for(int i=0;i!=NumTaps;i++){C0+=texture2D(from,Disk[i]*D+UV);C1+=texture2D(to,Disk[i]*D+UV);}C0/=float(NumTaps+1);C1/=float(NumTaps+1);gl_FragColor=mix(C0,C1,T);}"},{id:"2a5fa2f77c883dd661f9",name:"colourDistance",owner:"P-Seebauer",uniforms:{interpolationPower:5},html_url:"https://gist.github.com/2a5fa2f77c883dd661f9",created_at:"2014-05-21T07:10:21Z",updated_at:"2015-05-01T02:51:29Z",stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float interpolationPower;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec4 fTex=texture2D(from,p);vec4 tTex=texture2D(to,p);gl_FragColor=mix(distance(fTex,tTex)>progress?fTex:tTex,tTex,pow(progress,interpolationPower));}"},{id:"b93818de23d4511fde10",name:"Dissolve",owner:"nwoeanhinnogaehr",uniforms:{blocksize:1},html_url:"https://gist.github.com/b93818de23d4511fde10",created_at:"2014-05-20T23:40:57Z",updated_at:"2015-05-01T03:00:06Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float blocksize;float rand(vec2 co){return fract(sin(dot(co,vec2(12.9898,78.233)))*43758.5453);}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;gl_FragColor=mix(texture2D(from,p),texture2D(to,p),step(rand(floor(gl_FragCoord.xy/blocksize)),progress));}"},{id:"b185145363d65751009b",name:"HSVfade",owner:"nwoeanhinnogaehr",uniforms:{},html_url:"https://gist.github.com/b185145363d65751009b",created_at:"2014-05-20T23:21:27Z",updated_at:"2015-05-01T02:58:24Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;vec3 hsv2rgb(vec3 c){const vec4 K=vec4(1.0,2.0/3.0,1.0/3.0,3.0);vec3 p=abs(fract(c.xxx+K.xyz)*6.0-K.www);return c.z*mix(K.xxx,clamp(p-K.xxx,0.0,1.0),c.y);}vec3 rgb2hsv(vec3 c){const vec4 K=vec4(0.0,-1.0/3.0,2.0/3.0,-1.0);vec4 p=mix(vec4(c.bg,K.wz),vec4(c.gb,K.xy),step(c.b,c.g));vec4 q=mix(vec4(p.xyw,c.r),vec4(c.r,p.yzx),step(p.x,c.r));float d=q.x-min(q.w,q.y);return vec3(abs(q.z+(q.w-q.y)/(6.0*d+0.001)),d/(q.x+0.001),q.x);}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec3 a=rgb2hsv(texture2D(from,p).rgb);vec3 b=rgb2hsv(texture2D(to,p).rgb);vec3 m=mix(a,b,progress);gl_FragColor=vec4(hsv2rgb(m),1.0);}"},{id:"f6fc39f4cfcbb97f96a6",name:"Fold",owner:"nwoeanhinnogaehr",uniforms:{},html_url:"https://gist.github.com/f6fc39f4cfcbb97f96a6",created_at:"2014-05-20T23:14:23Z",updated_at:"2015-05-01T02:57:16Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec4 a=texture2D(from,(p-vec2(progress,0.0))/vec2(1.0-progress,1.0));vec4 b=texture2D(to,p/vec2(progress,1.0));gl_FragColor=mix(a,b,step(p.x,progress));}"},{id:"80c2d40cac3f98453176",name:"linearblur",owner:"gre",uniforms:{intensity:.1},html_url:"https://gist.github.com/80c2d40cac3f98453176",created_at:"2014-05-20T22:02:35Z",updated_at:"2015-05-01T02:56:20Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float intensity;const int PASSES=8;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec4 c1=vec4(0.0),c2=vec4(0.0);float disp=intensity*(0.5-distance(0.5,progress));for(int xi=0;xi<PASSES;++xi){float x=float(xi)/float(PASSES)-0.5;for(int yi=0;yi<PASSES;++yi){float y=float(yi)/float(PASSES)-0.5;vec2 v=vec2(x,y);float d=disp;c1+=texture2D(from,p+d*v);c2+=texture2D(to,p+d*v);}}c1/=float(PASSES*PASSES);c2/=float(PASSES*PASSES);gl_FragColor=mix(c1,c2,progress);}"},{id:"c528607361d90a072e98",name:"pixelize",owner:"benraziel",uniforms:{},html_url:"https://gist.github.com/c528607361d90a072e98",created_at:"2014-05-20T19:32:42Z",updated_at:"2015-05-01T02:56:48Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){float revProgress=(1.0-progress);float distFromEdges=min(progress,revProgress);float squareSize=(50.0*distFromEdges)+1.0;vec2 p=(floor((gl_FragCoord.xy+squareSize*0.5)/squareSize)*squareSize)/resolution.xy;vec4 fromColor=texture2D(from,p);vec4 toColor=texture2D(to,p);gl_FragColor=mix(fromColor,toColor,progress);}"},{id:"abd06f4d23ab2ff4ed7a",name:"random_squares",owner:"benraziel",uniforms:{},html_url:"https://gist.github.com/abd06f4d23ab2ff4ed7a",created_at:"2014-05-20T19:07:25Z",updated_at:"2015-05-01T02:52:17Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){float revProgress=(1.0-progress);float distFromEdges=min(progress,revProgress);vec2 p=gl_FragCoord.xy/resolution.xy;vec4 fromColor=texture2D(from,p);vec4 toColor=texture2D(to,p);float squareSize=20.0;float flickerSpeed=60.0;vec2 seed=floor(gl_FragCoord.xy/squareSize)*floor(distFromEdges*flickerSpeed);gl_FragColor=mix(fromColor,toColor,progress)+rand(seed)*distFromEdges*0.5;}"},{id:"791d0f058ae6a83e0c15",name:"PolkaDotsCurtain",owner:"bobylito",uniforms:{center:[1,1],dots:20},html_url:"https://gist.github.com/791d0f058ae6a83e0c15",created_at:"2014-05-20T16:55:46Z",updated_at:"2015-05-01T02:59:23Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;const float SQRT_2=1.414213562373;uniform float dots;uniform vec2 center;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float x=progress/2.0;bool nextImage=distance(fract(p*dots),vec2(0.5,0.5))<(2.0*x/distance(p,center));if(nextImage) gl_FragColor=texture2D(to,p);else gl_FragColor=texture2D(from,p);}"},{id:"166e496a19a4fdbf1aae",name:"PageCurl",owner:"corporateshark",uniforms:{},html_url:"https://gist.github.com/166e496a19a4fdbf1aae",created_at:"2014-05-20T12:37:15Z",updated_at:"2015-05-01T02:56:43Z",stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;const float MIN_AMOUNT=-0.16;const float MAX_AMOUNT=1.3;float amount=progress*(MAX_AMOUNT-MIN_AMOUNT)+MIN_AMOUNT;const float PI=3.141592653589793;const float scale=512.0;const float sharpness=3.0;float cylinderCenter=amount;float cylinderAngle=2.0*PI*amount;const float cylinderRadius=1.0/PI/2.0;vec3 hitPoint(float hitAngle,float yc,vec3 point,mat3 rrotation){float hitPoint=hitAngle/(2.0*PI);point.y=hitPoint;return rrotation*point;}vec4 antiAlias(vec4 color1,vec4 color2,float distanc){distanc*=scale;if(distanc<0.0) return color2;if(distanc>2.0) return color1;float dd=pow(1.0-distanc/2.0,sharpness);return ((color2-color1)*dd)+color1;}float distanceToEdge(vec3 point){float dx=abs(point.x>0.5?1.0-point.x:point.x);float dy=abs(point.y>0.5?1.0-point.y:point.y);if(point.x<0.0) dx=-point.x;if(point.x>1.0) dx=point.x-1.0;if(point.y<0.0) dy=-point.y;if(point.y>1.0) dy=point.y-1.0;if((point.x<0.0||point.x>1.0)&&(point.y<0.0||point.y>1.0)) return sqrt(dx*dx+dy*dy);return min(dx,dy);}vec4 seeThrough(float yc,vec2 p,mat3 rotation,mat3 rrotation){float hitAngle=PI-(acos(yc/cylinderRadius)-cylinderAngle);vec3 point=hitPoint(hitAngle,yc,rotation*vec3(p,1.0),rrotation);if(yc<=0.0&&(point.x<0.0||point.y<0.0||point.x>1.0||point.y>1.0)){vec2 texCoord=gl_FragCoord.xy/resolution.xy;return texture2D(to,texCoord);}if(yc>0.0) return texture2D(from,p);vec4 color=texture2D(from,point.xy);vec4 tcolor=vec4(0.0);return antiAlias(color,tcolor,distanceToEdge(point));}vec4 seeThroughWithShadow(float yc,vec2 p,vec3 point,mat3 rotation,mat3 rrotation){float shadow=distanceToEdge(point)*30.0;shadow=(1.0-shadow)/3.0;if(shadow<0.0) shadow=0.0;else shadow*=amount;vec4 shadowColor=seeThrough(yc,p,rotation,rrotation);shadowColor.r-=shadow;shadowColor.g-=shadow;shadowColor.b-=shadow;return shadowColor;}vec4 backside(float yc,vec3 point){vec4 color=texture2D(from,point.xy);float gray=(color.r+color.b+color.g)/15.0;gray+=(8.0/10.0)*(pow(1.0-abs(yc/cylinderRadius),2.0/10.0)/2.0+(5.0/10.0));color.rgb=vec3(gray);return color;}vec4 behindSurface(float yc,vec3 point,mat3 rrotation){float shado=(1.0-((-cylinderRadius-yc)/amount*7.0))/6.0;shado*=1.0-abs(point.x-0.5);yc=(-cylinderRadius-cylinderRadius-yc);float hitAngle=(acos(yc/cylinderRadius)+cylinderAngle)-PI;point=hitPoint(hitAngle,yc,point,rrotation);if(yc<0.0&&point.x>=0.0&&point.y>=0.0&&point.x<=1.0&&point.y<=1.0&&(hitAngle<PI||amount>0.5)){shado=1.0-(sqrt(pow(point.x-0.5,2.0)+pow(point.y-0.5,2.0))/(71.0/100.0));shado*=pow(-yc/cylinderRadius,3.0);shado*=0.5;}else{shado=0.0;}vec2 texCoord=gl_FragCoord.xy/resolution.xy;return vec4(texture2D(to,texCoord).rgb-shado,1.0);}void main(){vec2 texCoord=gl_FragCoord.xy/resolution.xy;const float angle=30.0*PI/180.0;float c=cos(-angle);float s=sin(-angle);mat3 rotation=mat3(c,s,0,-s,c,0,0.12,0.258,1);c=cos(angle);s=sin(angle);mat3 rrotation=mat3(c,s,0,-s,c,0,0.15,-0.5,1);vec3 point=rotation*vec3(texCoord,1.0);float yc=point.y-cylinderCenter;if(yc<-cylinderRadius){gl_FragColor=behindSurface(yc,point,rrotation);return;}if(yc>cylinderRadius){gl_FragColor=texture2D(from,texCoord);return;}float hitAngle=(acos(yc/cylinderRadius)+cylinderAngle)-PI;float hitAngleMod=mod(hitAngle,2.0*PI);if((hitAngleMod>PI&&amount<0.5)||(hitAngleMod>PI/2.0&&amount<0.0)){gl_FragColor=seeThrough(yc,texCoord,rotation,rrotation);return;}point=hitPoint(hitAngle,yc,point,rrotation);if(point.x<0.0||point.y<0.0||point.x>1.0||point.y>1.0){gl_FragColor=seeThroughWithShadow(yc,texCoord,point,rotation,rrotation);return;}vec4 color=backside(yc,point);vec4 otherColor;if(yc<0.0){float shado=1.0-(sqrt(pow(point.x-0.5,2.0)+pow(point.y-0.5,2.0))/0.71);shado*=pow(-yc/cylinderRadius,3.0);shado*=0.5;otherColor=vec4(0.0,0.0,0.0,shado);}else{otherColor=texture2D(from,texCoord);}color=antiAlias(color,otherColor,cylinderRadius-abs(yc));vec4 cl=seeThroughWithShadow(yc,texCoord,point,rotation,rrotation);float dist=distanceToEdge(point);gl_FragColor=antiAlias(color,cl,dist);}"},{id:"06450f79cab706705bf9",name:"Polka_dots",owner:"bobylito",uniforms:{dots:5},html_url:"https://gist.github.com/06450f79cab706705bf9",created_at:"2014-05-20T12:09:38Z",updated_at:"2015-05-01T02:55:49Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float dots;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float x=progress;bool nextImage=distance(fract(p*dots),vec2(0.5,0.5))<x;if(nextImage) gl_FragColor=texture2D(to,p);else gl_FragColor=texture2D(from,p);}"},{id:"3da654388c3f3cd031c0",name:"burn",owner:"gre",uniforms:{color:[.9,.4,.2]},html_url:"https://gist.github.com/3da654388c3f3cd031c0",created_at:"2014-05-20T09:06:02Z",updated_at:"2015-05-01T02:55:55Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform vec3 color;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;gl_FragColor=mix(texture2D(from,p)+vec4(progress*color,1.0),texture2D(to,p)+vec4((1.0-progress)*color,1.0),progress);}"},{id:"e5f807b5dffb09fc7527",name:"FinalGaussianNoise",owner:"mandubian",uniforms:{},html_url:"https://gist.github.com/e5f807b5dffb09fc7527",created_at:"2014-05-19T21:34:07Z",updated_at:"2015-05-01T02:59:02Z",stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;float Rand(vec2 v){return fract(sin(dot(v.xy,vec2(12.9898,78.233)))*43758.5453);}float Gaussian(float p,float center,float c){return 0.75*exp(-pow((p-center)/c,2.));}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float c=cos(Gaussian(progress*(1.+Gaussian(progress*Rand(p),0.5,0.5)),0.5,0.25));vec2 d=p*c;gl_FragColor=mix(texture2D(from,d),texture2D(to,d),progress);}"},{id:"130bb7b7affedbda9df5",name:"Mosaic",owner:"Xaychru",uniforms:{endx:0,endy:-1},html_url:"https://gist.github.com/130bb7b7affedbda9df5",created_at:"2014-05-19T16:51:58Z",updated_at:"2015-05-01T02:56:19Z",stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n#define PI 3.14159265358979323\n\n#define POW2(X) X*X\n\n#define POW3(X) X*X*X\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform int endx;uniform int endy;float Rand(vec2 v){return fract(sin(dot(v.xy,vec2(12.9898,78.233)))*43758.5453);}vec2 Rotate(vec2 v,float a){mat2 rm=mat2(cos(a),-sin(a),sin(a),cos(a));return rm*v;}float CosInterpolation(float x){return -cos(x*PI)/2.+.5;}void main(){vec2 p=gl_FragCoord.xy/resolution.xy-.5;vec2 rp=p;float rpr=(progress*2.-1.);float z=-(rpr*rpr*2.)+3.;float az=abs(z);rp*=az;rp+=mix(vec2(.5,.5),vec2(float(endx)+.5,float(endy)+.5),POW2(CosInterpolation(progress)));vec2 mrp=mod(rp,1.);vec2 crp=rp;bool onEnd=int(floor(crp.x))==endx&&int(floor(crp.y))==endy;if(!onEnd){float ang=float(int(Rand(floor(crp))*4.))*.5*PI;mrp=vec2(.5)+Rotate(mrp-vec2(.5),ang);}if(onEnd||Rand(floor(crp))>.5){gl_FragColor=texture2D(to,mrp);}else{gl_FragColor=texture2D(from,mrp);}}"
},{id:"ce1d48f0ce00bb379750",name:"Radial",owner:"Xaychru",uniforms:{},html_url:"https://gist.github.com/ce1d48f0ce00bb379750",created_at:"2014-05-19T15:18:28Z",updated_at:"2015-05-01T02:59:31Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n#define PI 3.141592653589\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec2 rp=p*2.-1.;float a=atan(rp.y,rp.x);float pa=progress*PI*2.5-PI*1.25;vec4 fromc=texture2D(from,p);vec4 toc=texture2D(to,p);if(a>pa){gl_FragColor=mix(toc,fromc,smoothstep(0.,1.,(a-pa)));}else{gl_FragColor=toc;}}"},{id:"c3bc914de09227713787",name:"ButterflyWaveScrawler",owner:"mandubian",uniforms:{amplitude:1,waves:30,colorSeparation:.3},html_url:"https://gist.github.com/c3bc914de09227713787",created_at:"2014-05-19T11:48:15Z",updated_at:"2015-05-01T02:59:13Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float amplitude;uniform float waves;uniform float colorSeparation;float PI=3.14159265358979323846264;float compute(vec2 p,float progress,vec2 center){vec2 o=p*sin(progress*amplitude)-center;vec2 h=vec2(1.,0.);float theta=acos(dot(o,h))*waves;return (exp(cos(theta))-2.*cos(4.*theta)+pow(sin((2.*theta-PI)/24.),5.))/10.;}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float inv=1.-progress;vec2 dir=p-vec2(.5);float dist=length(dir);float disp=compute(p,progress,vec2(0.5,0.5));vec4 texTo=texture2D(to,p+inv*disp);vec4 texFrom=vec4(texture2D(from,p+progress*disp*(1.0-colorSeparation)).r,texture2D(from,p+progress*disp).g,texture2D(from,p+progress*disp*(1.0+colorSeparation)).b,1.0);gl_FragColor=texTo*progress+texFrom*inv;}"},{id:"4268c81d39bd4ca00ae2",name:"CrazyParametricFun",owner:"mandubian",uniforms:{a:4,b:1,amplitude:120,smoothness:.1},html_url:"https://gist.github.com/4268c81d39bd4ca00ae2",created_at:"2014-05-19T08:04:52Z",updated_at:"2015-05-01T02:56:13Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float a;uniform float b;uniform float amplitude;uniform float smoothness;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec2 dir=p-vec2(.5);float dist=length(dir);float x=(a-b)*cos(progress)+b*cos(progress*((a/b)-1.));float y=(a-b)*sin(progress)-b*sin(progress*((a/b)-1.));vec2 offset=dir*vec2(sin(progress*dist*amplitude*x),sin(progress*dist*amplitude*y))/smoothness;gl_FragColor=mix(texture2D(from,p+offset),texture2D(to,p),smoothstep(0.2,1.0,progress));}"},{id:"2bcfb59096fcaed82355",name:"powerdisformation",owner:"gre",uniforms:{power:3,powerDest:!0},html_url:"https://gist.github.com/2bcfb59096fcaed82355",created_at:"2014-05-17T10:58:29Z",updated_at:"2015-05-01T02:59:28Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from,to;uniform float progress;uniform vec2 resolution;uniform float power;uniform bool powerDest;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec2 p2=mix(p,vec2(pow(p.x,power),pow(p.y,power)),(powerDest?0.5:1.0)-distance(progress,powerDest?0.5:1.0));gl_FragColor=mix(texture2D(from,p2),texture2D(to,powerDest?p2:p),progress);}"},{id:"2a3f2e907e1c0a152e60",name:"swap",owner:"gre",uniforms:{reflection:.4,perspective:.2,depth:3},html_url:"https://gist.github.com/2a3f2e907e1c0a152e60",created_at:"2014-05-16T13:59:07Z",updated_at:"2015-05-01T02:54:44Z",stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform float reflection;uniform float perspective;uniform float depth;const vec4 black=vec4(0.0,0.0,0.0,1.0);const vec2 boundMin=vec2(0.0,0.0);const vec2 boundMax=vec2(1.0,1.0);bool inBounds(vec2 p){return all(lessThan(boundMin,p))&&all(lessThan(p,boundMax));}vec2 project(vec2 p){return p*vec2(1.0,-1.2)+vec2(0.0,-0.02);}vec4 bgColor(vec2 p,vec2 pfr,vec2 pto){vec4 c=black;pfr=project(pfr);if(inBounds(pfr)){c+=mix(black,texture2D(from,pfr),reflection*mix(1.0,0.0,pfr.y));}pto=project(pto);if(inBounds(pto)){c+=mix(black,texture2D(to,pto),reflection*mix(1.0,0.0,pto.y));}return c;}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec2 pfr,pto=vec2(-1.);float size=mix(1.0,depth,progress);float persp=perspective*progress;pfr=(p+vec2(-0.0,-0.5))*vec2(size/(1.0-perspective*progress),size/(1.0-size*persp*p.x))+vec2(0.0,0.5);size=mix(1.0,depth,1.-progress);persp=perspective*(1.-progress);pto=(p+vec2(-1.0,-0.5))*vec2(size/(1.0-perspective*(1.0-progress)),size/(1.0-size*persp*(0.5-p.x)))+vec2(1.0,0.5);bool fromOver=progress<0.5;if(fromOver){if(inBounds(pfr)){gl_FragColor=texture2D(from,pfr);}else if(inBounds(pto)){gl_FragColor=texture2D(to,pto);}else{gl_FragColor=bgColor(p,pfr,pto);}}else{if(inBounds(pto)){gl_FragColor=texture2D(to,pto);}else if(inBounds(pfr)){gl_FragColor=texture2D(from,pfr);}else{gl_FragColor=bgColor(p,pfr,pto);}}}"},{id:"94ffa2725b65aa8b9979",name:"ripple",owner:"gre",uniforms:{amplitude:100,speed:50},html_url:"https://gist.github.com/94ffa2725b65aa8b9979",created_at:"2014-05-16T13:58:42Z",updated_at:"2015-05-01T02:53:18Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform float amplitude;uniform float speed;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec2 dir=p-vec2(.5);float dist=length(dir);vec2 offset=dir*(sin(progress*dist*amplitude-progress*speed)+.5)/30.;gl_FragColor=mix(texture2D(from,p+offset),texture2D(to,p),smoothstep(0.2,1.0,progress));}"},{id:"99bced7d9b5311fd166e",name:"flash",owner:"gre",uniforms:{flashPhase:.3,flashIntensity:3,flashZoomEffect:.5},html_url:"https://gist.github.com/99bced7d9b5311fd166e",created_at:"2014-05-16T13:58:17Z",updated_at:"2015-05-01T02:52:58Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform float flashPhase;uniform float flashIntensity;uniform float flashZoomEffect;const vec3 flashColor=vec3(1.0,0.8,0.3);const float flashVelocity=3.0;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec4 fc=texture2D(from,p);vec4 tc=texture2D(to,p);float intensity=mix(1.0,2.0*distance(p,vec2(0.5,0.5)),flashZoomEffect)*flashIntensity*pow(smoothstep(flashPhase,0.0,distance(0.5,progress)),flashVelocity);vec4 c=mix(texture2D(from,p),texture2D(to,p),smoothstep(0.5*(1.0-flashPhase),0.5*(1.0+flashPhase),progress));c+=intensity*vec4(flashColor,1.0);gl_FragColor=c;}"},{id:"81c6f2e6fce88f9075d2",name:"flyeye",owner:"gre",uniforms:{size:.04,zoom:30,colorSeparation:.3},html_url:"https://gist.github.com/81c6f2e6fce88f9075d2",created_at:"2014-05-16T13:56:53Z",updated_at:"2015-05-01T02:56:15Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform float size;uniform float zoom;uniform float colorSeparation;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float inv=1.-progress;vec2 disp=size*vec2(cos(zoom*p.x),sin(zoom*p.y));vec4 texTo=texture2D(to,p+inv*disp);vec4 texFrom=vec4(texture2D(from,p+progress*disp*(1.0-colorSeparation)).r,texture2D(from,p+progress*disp).g,texture2D(from,p+progress*disp*(1.0+colorSeparation)).b,1.0);gl_FragColor=texTo*progress+texFrom*inv;}"},{id:"979934722820b5e715fa",name:"doorway",owner:"gre",uniforms:{reflection:.4,perspective:.4,depth:3},html_url:"https://gist.github.com/979934722820b5e715fa",created_at:"2014-05-16T13:54:38Z",updated_at:"2015-05-01T02:51:25Z",stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform float reflection;uniform float perspective;uniform float depth;const vec4 black=vec4(0.0,0.0,0.0,1.0);const vec2 boundMin=vec2(0.0,0.0);const vec2 boundMax=vec2(1.0,1.0);bool inBounds(vec2 p){return all(lessThan(boundMin,p))&&all(lessThan(p,boundMax));}vec2 project(vec2 p){return p*vec2(1.0,-1.2)+vec2(0.0,-0.02);}vec4 bgColor(vec2 p,vec2 pto){vec4 c=black;pto=project(pto);if(inBounds(pto)){c+=mix(black,texture2D(to,pto),reflection*mix(1.0,0.0,pto.y));}return c;}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec2 pfr=vec2(-1.),pto=vec2(-1.);float middleSlit=2.0*abs(p.x-0.5)-progress;if(middleSlit>0.0){pfr=p+(p.x>0.5?-1.0:1.0)*vec2(0.5*progress,0.0);float d=1.0/(1.0+perspective*progress*(1.0-middleSlit));pfr.y-=d/2.;pfr.y*=d;pfr.y+=d/2.;}float size=mix(1.0,depth,1.-progress);pto=(p+vec2(-0.5,-0.5))*vec2(size,size)+vec2(0.5,0.5);if(inBounds(pfr)){gl_FragColor=texture2D(from,pfr);}else if(inBounds(pto)){gl_FragColor=texture2D(to,pto);}else{gl_FragColor=bgColor(p,pto);}}"},{id:"731fcad4f8956866f34a",name:"randomsquares",owner:"gre",uniforms:{size:[10,10],smoothness:.5},html_url:"https://gist.github.com/731fcad4f8956866f34a",created_at:"2014-05-16T13:52:46Z",updated_at:"2015-05-01T02:58:04Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform ivec2 size;uniform float smoothness;float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float r=rand(floor(vec2(size)*p));float m=smoothstep(0.0,-smoothness,r-(progress*(1.0+smoothness)));gl_FragColor=mix(texture2D(from,p),texture2D(to,p),m);}"},{id:"df8797fd112e8e429064",name:"squeeze",owner:"gre",uniforms:{colorSeparation:.02},html_url:"https://gist.github.com/df8797fd112e8e429064",created_at:"2014-05-16T13:51:39Z",updated_at:"2015-05-01T02:54:05Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform float colorSeparation;float progressY(float y){return 0.5+(y-0.5)/(1.0-progress);}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float y=progressY(p.y);if(y<0.0||y>1.0){gl_FragColor=texture2D(to,p);}else{vec2 fp=vec2(p.x,y);vec3 c=vec3(texture2D(from,fp-progress*vec2(0.0,colorSeparation)).r,texture2D(from,fp).g,texture2D(from,fp+progress*vec2(0.0,colorSeparation)).b);gl_FragColor=vec4(c,1.0);}}"},{id:"90000743fedc953f11a4",name:"directionalwipe",owner:"gre",uniforms:{direction:[1,-1],smoothness:.5},html_url:"https://gist.github.com/90000743fedc953f11a4",created_at:"2014-05-16T13:50:51Z",updated_at:"2015-05-01T02:57:09Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform vec2 direction;uniform float smoothness;const vec2 center=vec2(0.5,0.5);void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec2 v=normalize(direction);v/=abs(v.x)+abs(v.y);float d=v.x*center.x+v.y*center.y;float m=smoothstep(-smoothness,0.0,v.x*p.x+v.y*p.y-(d-0.5+progress*(1.+smoothness)));gl_FragColor=mix(texture2D(to,p),texture2D(from,p),m);}"},{id:"7de3f4b9482d2b0bf7bb",name:"wind",owner:"gre",uniforms:{size:.2},html_url:"https://gist.github.com/7de3f4b9482d2b0bf7bb",created_at:"2014-05-16T13:49:36Z",updated_at:"2015-05-01T02:56:20Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform float size;float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float r=rand(vec2(0,p.y));float m=smoothstep(0.0,-size,p.x*(1.0-size)+size*r-(progress*(1.0+size)));gl_FragColor=mix(texture2D(from,p),texture2D(to,p),m);}"},{id:"d9f8b4df19584f1f0474",name:"fadegrayscale",owner:"gre",uniforms:{grayPhase:.3},html_url:"https://gist.github.com/d9f8b4df19584f1f0474",created_at:"2014-05-16T13:49:13Z",updated_at:"2015-05-01T02:59:50Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform float grayPhase;vec3 grayscale(vec3 color){return vec3(0.2126*color.r+0.7152*color.g+0.0722*color.b);}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;vec4 fc=texture2D(from,p);vec4 tc=texture2D(to,p);gl_FragColor=mix(mix(vec4(grayscale(fc.rgb),1.0),texture2D(from,p),smoothstep(1.0-grayPhase,0.0,progress)),mix(vec4(grayscale(tc.rgb),1.0),texture2D(to,p),smoothstep(grayPhase,1.0,progress)),progress);}"},{id:"206b96128ad6085f9911",name:"dispersionblur",owner:"gre",uniforms:{size:.6},html_url:"https://gist.github.com/206b96128ad6085f9911",created_at:"2014-05-16T13:47:09Z",updated_at:"2015-05-01T02:57:31Z",stars:1,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n#define QUALITY 32\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform float size;const float GOLDEN_ANGLE=2.399963229728653;vec4 blur(sampler2D t,vec2 c,float radius){vec4 sum=vec4(0.0);float q=float(QUALITY);for(int i=0;i<QUALITY;++i){float fi=float(i);float a=fi*GOLDEN_ANGLE;float r=sqrt(fi/q)*radius;vec2 p=c+r*vec2(cos(a),sin(a));sum+=texture2D(t,p);}return sum/q;}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float inv=1.-progress;gl_FragColor=inv*blur(from,p,progress*size)+progress*blur(to,p,inv*size);}"},{id:"d71472a550601b96d69d",name:"heartwipe",owner:"gre",uniforms:{},html_url:"https://gist.github.com/d71472a550601b96d69d",created_at:"2014-05-16T13:46:31Z",updated_at:"2015-05-01T02:55:52Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;bool inHeart(vec2 p,vec2 center,float size){if(size==0.0) return false;vec2 o=(p-center)/(1.6*size);return pow(o.x*o.x+o.y*o.y-0.3,3.0)<o.x*o.x*pow(o.y,3.0);}void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float m=inHeart(p,vec2(0.5,0.4),progress)?1.0:0.0;gl_FragColor=mix(texture2D(from,p),texture2D(to,p),m);}"},{id:"f24651a01bf574e90122",name:"fadecolor",owner:"gre",uniforms:{color:[0,0,0],colorPhase:.4},html_url:"https://gist.github.com/f24651a01bf574e90122",created_at:"2014-05-16T13:45:46Z",updated_at:"2015-05-01T02:53:54Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform vec3 color;uniform float colorPhase;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;gl_FragColor=mix(mix(vec4(color,1.0),texture2D(from,p),smoothstep(1.0-colorPhase,0.0,progress)),mix(vec4(color,1.0),texture2D(to,p),smoothstep(colorPhase,1.0,progress)),progress);}"},{id:"35e8c18557995c77278e",name:"circleopen",owner:"gre",uniforms:{smoothness:.3,opening:!0},html_url:"https://gist.github.com/35e8c18557995c77278e",created_at:"2014-05-16T13:40:51Z",updated_at:"2015-05-01T02:58:26Z",stars:0,glsl:"\n#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D from;uniform sampler2D to;uniform float progress;uniform vec2 resolution;uniform float smoothness;uniform bool opening;const vec2 center=vec2(0.5,0.5);const float SQRT_2=1.414213562373;void main(){vec2 p=gl_FragCoord.xy/resolution.xy;float x=opening?progress:1.-progress;float m=smoothstep(-smoothness,0.0,SQRT_2*distance(center,p)-x*(1.+smoothness));gl_FragColor=mix(texture2D(from,p),texture2D(to,p),opening?1.-m:m);}"}]},{}],248:[function(e,t,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],249:[function(e,t,n){arguments[4][56][0].apply(n,arguments)},{"./util/babelHelpers.js":250,_process:85,dup:56,react:563,"react/lib/invariant":541}],250:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],251:[function(e,t,n){"use strict";function r(e){return e&&!isNaN(e)&&"."!==e[e.length-1]}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("react"),s=o.createClass({displayName:"NumberInput",propTypes:{onChange:o.PropTypes.func.isRequired,step:o.PropTypes.number,value:o.PropTypes.number},getDefaultProps:function(){return{step:1}},getInitialState:function(){return{value:this.props.value}},onChange:function(e){var t=e.target.value;this.setState({value:t}),r(t)&&this.props.onChange(e)},componentWillReceiveProps:function(e){e.value!==this.props.value&&e.value!==parseFloat(this.state.value,10)&&this.setState({value:e.value})},render:function(){var e={};return this.props.type||(e.type="number"),e.value=""+this.state.value,e.onChange=this.onChange,o.createElement("input",i({},this.props,e))}});t.exports=s},{react:563}],252:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i&&i.writable)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=r(e("react")),c=r(e("./NumberInput")),u=r(e("object-assign")),h={float:{type:"number",step:.1,value:0,get:function(e){return parseFloat(e.value,10)}},int:{type:"number",step:1,value:0,get:function(e){return parseInt(e.value,10)}},bool:{type:"checkbox",checked:!1,get:function(e){return e.checked}}},d=function(e){function t(e){a(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.onChange=this.onChange.bind(this)}return s(t,e),i(t,{onChange:{value:function(e){var t=h[this.props.primitiveType],n=t?t.get(e.target):e;n!==this.props.value&&this.props.onChange(n)}},render:{value:function(){var e=this.props,t=e.primitiveType,n=e.value,r=e.renderSampler2DInput;if("sampler2D"===t)return r(this.props);var i=h[t],o={type:i.type,onChange:this.onChange};return"step"in i&&(o.step=i.step),"checked"in i?o.checked=n||i.checked:o.value=n||i.value,o=u({},this.props,o),"number"===o.type?l.createElement(c,o):l.createElement("input",o)}}}),t}(l.Component);t.exports=d},{"./NumberInput":251,"object-assign":248,react:563}],253:[function(e,t,n){"use strict";function r(e,t){for(var n=[],r=e;t>r;++r)n.push(r);return n}var i=function(e){return e&&e.__esModule?e.default:e},o=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i&&i.writable)return i.value;var s=i.get;return void 0===s?void 0:s.call(r)},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=i(e("react")),u=e("./core"),h=u.primitiveForType,d=u.arityForType,f=u.componentLinesForType,p=u.labelsForType,g=i(e("./UniformComponentInput")),m=i(e("object-assign")),v=function(e){function t(e){l(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.setBlur=this.setBlur.bind(this),this.setFocus=this.setFocus.bind(this),this.setHoverEnter=this.setHoverEnter.bind(this),this.setHoverLeave=this.setHoverLeave.bind(this),this.state={focus:null,hover:null}}return a(t,e),o(t,{setBlur:{value:function(){this.setState({focus:null})}},setFocus:{value:function(e){this.setState({focus:"number"!=typeof e?[]:[e]})}},setHoverLeave:{value:function(){this.setState({hover:null})}},setHoverEnter:{value:function(e){this.setState({hover:"number"!=typeof e?[]:[e]})}},render:{value:function(){function e(e){return function(t){v(t,e)}}var t=this,n=t.setFocus,i=t.setBlur,o=t.setHoverEnter,s=t.setHoverLeave,a=this.props,l=a.type,u=a.name,v=a.onChange,y=a.value,b=a.id,w=a.width,E=a.labelsWidth,C=a.colorLabel,x=a.colorHighlight,_=a.colorHighlightHover,A=a.inputStyle,D=a.uniformInputMargin,F=a.renderSampler2DInput,S=this.state,T=S.focus,R=S.hover,k=w-E,M=h(l),L=d(l),B=f(l),O=p(l,u),I={display:"inline-block",width:k+"px"},P=O&&(T?T.length?O[T[0]]:O:null),$=O&&!P&&(R?R.length?O[R[0]]:O:null),j={color:x},N={color:_},U=m({display:"inline-block",width:E+"px",color:C,verticalAlign:"top"},R&&!O?N:{},T&&!O?j:{}),z={position:"relative",width:w+"px",paddingBottom:D+"px"},W=r(0,B).map(function(t){function a(e,t){return m({},A,h,"bool"===M?{}:{borderStyle:"solid",borderColor:e?x:t?_:"#eee",outline:e?x+" 1px solid":"none",boxShadow:e?"0px 0px 2px "+x:"none",borderWidth:"1px"})}var l={position:"relative"},u=L/B,h={boxSizing:"border-box",width:Math.floor(k/u)+"px"},d=function(){if(1===u){var l=b+"_"+t;return c.createElement(g,{style:a(T,R),key:l,primitiveType:M,value:y,onChange:e(null),onFocus:n,onBlur:i,onMouseEnter:o,onMouseLeave:s,renderSampler2DInput:F})}return r(0,u).map(function(r){var l=t*u+r,h=b+"_"+l;return c.createElement("label",{key:"label-"+h},c.createElement(g,{style:a(T&&T[0]===l,R&&R[0]===l),key:h,primitiveType:M,value:y&&y[l],onChange:e(l),onFocus:n.bind(null,l),onBlur:i,onMouseEnter:o.bind(null,l),onMouseLeave:s,renderSampler2DInput:F}))})}();return c.createElement("div",{key:"input-line-"+t,style:l},d)});return c.createElement("div",{style:z},c.createElement("label",{style:U},u,P||$?c.createElement("span",{style:$?N:j},P||$):void 0),c.createElement("div",{style:I},W))}}}),t}(c.Component);t.exports=v},{"./UniformComponentInput":252,"./core":255,"object-assign":248,react:563}],254:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=r(e("react")),c=e("./core").defaultValueForType,u=r(e("./UniformEditor")),h=r(e("object-assign")),d=l.PropTypes,f={onChange:d.func.isRequired,types:d.object.isRequired,values:d.object,width:d.number,labelsWidth:d.number,colorLabel:d.string,colorHighlight:d.string,colorHighlightHover:d.string,uniformInputMargin:d.number,inputStyle:d.object,style:d.object,renderNoUniforms:d.func,renderSampler2DInput:d.func},p={width:300,labelsWidth:100,colorLabel:"#579",colorHighlight:"#49F",colorHighlightHover:"#9cf",values:{},uniformInputMargin:8,inputStyle:{color:"#579",fontFamily:"monospace",fontSize:"12px",lineHeight:"16px",padding:"0 5px",margin:"0"},style:{},renderSampler2DInput:function(e){var t=function(t){var n=t.target.value||null;e.onChange(n)};return l.createElement("input",a({},e,{type:"url",value:e.value,onChange:t}))},renderNoUniforms:function(){return l.createElement("div",null,"no uniforms.")}},g=function(e){function t(){s(this,t),null!=e&&e.apply(this,arguments)}return o(t,e),i(t,{onUniformChange:{value:function(e,t,n){var r=h({},this.props.values);if(null!==n){var i=e in r?r[e].slice(0):c(this.props.types[e]);i[n]=t,r[e]=i}else r[e]=t;this.props.onChange(r)}},render:{value:function(){var e=this.props,t=e.types,n=e.values,r=e.width,i=e.labelsWidth,o=e.colorLabel,s=e.colorHighlight,a=e.colorHighlightHover,d=e.inputStyle,f=e.uniformInputMargin,g=e.renderSampler2DInput,m=e.style,v=h({width:r+"px"},m),y=h({},p.inputStyle,d),b=Object.keys(t).map(function(e){var h=t[e],d=n[e]||c(h);return l.createElement(u,{key:e,id:e,type:h,name:e,value:d,onChange:this.onUniformChange.bind(this,e),width:r,labelsWidth:i,colorLabel:o,colorHighlight:s,colorHighlightHover:a,inputStyle:y,uniformInputMargin:f,renderSampler2DInput:g})},this);return b.length?l.createElement("div",{style:v},b):l.createElement("div",{style:v},this.props.renderNoUniforms())}}}),t}(l.Component);t.exports=g,g.propTypes=f,g.defaultProps=p},{"./UniformEditor":253,"./core":255,"object-assign":248,react:563}],255:[function(e,t,n){"use strict";function r(e,t){return-1!==e.indexOf(t)}function i(e){return r(c,e)?e:"b"===e[0]?"bool":"i"===e[0]?"int":"float"}function o(e){return r(e,"vec2")?2:r(e,"vec3")?3:r(e,"vec4")?4:"mat2"===e?4:"mat3"===e?9:"mat4"===e?16:1}function s(e){return"mat2"===e?2:"mat3"===e?3:"mat4"===e?4:1}function a(e,t){if(r(e,"vec")){var n=(t||"").toLowerCase().indexOf("color")>-1&&("3"===e[3]||"4"===e[3]);return n?[".r",".g",".b",".a"]:[".x",".y",".z",".w"]}return"mat2"===e?["[0].x","[0].y","[1].x","[1].y"]:"mat3"===e?["[0].x","[0].y","[0].z","[1].x","[1].y","[1].z","[2].x","[2].y","[2].z"]:"mat4"===e?["[0].x","[0].y","[0].z","[0].w","[1].x","[1].y","[1].z","[1].w","[2].x","[2].y","[2].z","[2].w","[3].x","[3].y","[3].z","[3].w"]:void 0}function l(e){var t=o(e),n=i(e),r=u[n];if(1===t)return r;for(var s=[],a=0;t>a;++a)s.push(r);return s}n.primitiveForType=i,n.arityForType=o,n.componentLinesForType=s,n.labelsForType=a,n.defaultValueForType=l,Object.defineProperty(n,"__esModule",{value:!0});var c=["float","int","bool","sampler2D"],u={bool:!1,int:0,float:0,sampler2D:null}},{}],256:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(e("./UniformsEditor")),o=r(e("uncontrollable"));t.exports=o(i,{values:"onChange"})},{"./UniformsEditor":254,uncontrollable:249}],257:[function(e,t,n){function r(e){return c.lastIndex=0,c.test(e)?'"'+e.replace(c,function(e){var t=u[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function i(e,t,n){var o,c,u,h,d,f=s,p=t[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof l&&(p=l.call(t,e,p)),typeof p){case"string":return r(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(s+=a,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(h=p.length,o=0;h>o;o+=1)d[o]=i(o,p,n)||"null";return u=0===d.length?"[]":s?s.length+d.join(", ").length+4>n?"[\n"+s+d.join(",\n"+s)+"\n"+f+"]":"[ "+d.join(", ")+" ]":"["+d.join(",")+"]",s=f,u}if(l&&"object"==typeof l)for(h=l.length,o=0;h>o;o+=1)"string"==typeof l[o]&&(c=l[o],u=i(c,p,n),u&&d.push(r(c)+(s?": ":":")+u));else for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&(u=i(c,p,n),u&&d.push(r(c)+(s?": ":":")+u));return u=0===d.length?"{}":s?s.length+d.join(", ").length+4>n?"{\n"+s+d.join(",\n"+s)+"\n"+f+"}":"{ "+d.join(", ")+" }":"{"+d.join(",")+"}",s=f,u}}function o(e,t,n,r){var o;if(s="",a="",r||(r=0),"number"!=typeof r)throw new Error("beaufifier: limit must be a number");if("number"==typeof n)for(o=0;n>o;o+=1)a+=" ";else"string"==typeof n&&(a=n);if(l=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("beautifier: wrong replacer parameter");return i("",{"":e},r)}var s,a,l,c=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};t.exports=o},{}],258:[function(e,t,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],259:[function(e,t,n){arguments[4][56][0].apply(n,arguments)},{"./util/babelHelpers.js":260,_process:85,dup:56,react:563,"react/lib/invariant":541}],260:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],261:[function(e,t,n){"use strict";var r={fetchImage:function(e){var t=new window.Image;if(e.image){this.curImgSrc=t.src=e.image;var n=this;t.onload=function(){n.onImageLoaded&&n.onImageLoaded(t),n.isMounted()&&n.forceUpdate()},this.img=t}},componentWillMount:function(){this.fetchImage(this.props)},componentWillReceiveProps:function(e){this.curImgSrc&&this.curImgSrc===e.image||this.fetchImage(e)}};t.exports=r},{}],262:[function(e,t,n){"use strict";function r(e){return e?e===S?"move":e===_||e===F?"nwse-resize":e===A||e===D?"nesw-resize":void 0:"pointer"}function i(e){return Math.round(100*e[0])+"% "+Math.round(100*e[0])+"%"}var o=function(e){return e&&e.__esModule?e.default:e},s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],i=e[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=o(e("react")),l=o(e("rect-clamp")),c=o(e("rect-mix")),u=o(e("rect-crop")),h=o(e("object-assign")),d=o(e("./KenburnsEditorOverlay")),f=o(e("./KenburnsEditorRect")),p=o(e("./scaleTranslateStyle")),g=o(e("./ImageHolderMixin")),m=e("./core"),v=m.rectGrow,y=m.rectContains,b=m.distance,w=m.manhattan,E=m.cloneValue,C=m.dot,x=m.rectRound,v=m.rectGrow,_=1,A=2,D=3,F=4,S=5,T=a.createClass({displayName:"KenburnsEditor",mixins:[g],propTypes:{onChange:a.PropTypes.func.isRequired,image:a.PropTypes.string.isRequired,width:a.PropTypes.number,height:a.PropTypes.number,progress:a.PropTypes.number,value:a.PropTypes.shape({from:a.PropTypes.array,to:a.PropTypes.array}),progressColor:a.PropTypes.array,fromColor:a.PropTypes.array,toColor:a.PropTypes.array,cornerMaxDist:a.PropTypes.number,fontSize:a.PropTypes.number,overlayFill:a.PropTypes.string,centerTextStyle:a.PropTypes.object},getDefaultProps:function(){return{width:300,height:200,value:{from:[.8,[.5,.5]],to:[1,[.5,.5]]},progressColor:[200,220,180],fromColor:[180,230,255],toColor:[255,200,120],cornerMaxDist:.4,fontSize:12,background:"#fff",overlayFill:"rgba(0,0,0,0.5)",centerTextStyle:{}}},getInitialState:function(){return{editFrom:!0,edit:null,downEditFrom:null,downAt:null,downValue:null,downTime:null}},pos:function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){var t=this.getDOMNode().getBoundingClientRect(),n=[e.clientX-t.left,e.clientY-t.top];return this.innerRect&&(n[0]-=this.innerRect[0],n[1]-=this.innerRect[1]),n}),onMouseDown:function(e){var t=this.pos(e),n=this.state.editFrom,r=this.props,i=r.value,o=r.cornerMaxDist,s={downAt:t,downTime:Date.now(),downEditFrom:n},a=this.innerRect[2],c=this.innerRect[3],h={width:a,height:c},d=[0,0,a,c],f=this.state.editFrom?i.from:i.to,p=v(l(u.apply(null,f)(h,h),d),[5,5]);if(y(p,t)||(n=!n,f=n?i.from:i.to,p=v(l(u.apply(null,f)(h,h),d),[5,5])),y(p,t)){s.editFrom=n;var g=[(t[0]-p[0])/p[2],(t[1]-p[1])/p[3]];w(g,[0,0])<o?s.edit=_:w(g,[1,0])<o?s.edit=A:w(g,[0,1])<o?s.edit=D:w(g,[1,1])<o?s.edit=F:s.edit=S,s.downValue=E(i)}this.setState(s)},onMouseMove:function(e){if(this.state.downAt){var t=E(this.state.downValue),n=this.state.editFrom?t.from:t.to,r=this.innerRect[2],i=this.innerRect[3],o=[n[1][0]*r,n[1][1]*i],s=this.pos(e),a=[s[0]-this.state.downAt[0],s[1]-this.state.downAt[1]];switch(this.state.edit){case _:case A:case D:case F:n[0]=Math.min(Math.max(.1,n[0]*b(o,s)/b(o,this.state.downAt)),1),this.props.onChange(t);break;case S:var l=n[1];l[0]=Math.min(Math.max(0,l[0]+a[0]/r),1),l[1]=Math.min(Math.max(0,l[1]+a[1]/i),1),this.props.onChange(t)}}},resetMouse:function(){this.setState({downAt:null,edit:null,downValue:null,downTime:null,downEditFrom:null})},onMouseUp:function(e){if(this.state.downAt){var t=this.pos(e);this.state.downEditFrom===this.state.editFrom&&Date.now()-this.state.downTime<300&&b(this.state.downAt,t)<10&&this.setState({
editFrom:!this.state.editFrom}),this.resetMouse()}},onMouseLeave:function(){this.state.downAt&&this.resetMouse()},onMouseEnter:function(){},componentWillReceiveProps:function(e){(this.props.width!==e.width||this.props.height!==e.height)&&this.recomputeImageSizes(this.img,e.width,e.height)},onImageLoaded:function(e){this.recomputeImageSizes(e,this.props.width,this.props.height)},recomputeImageSizes:function(e,t,n){if(!e)return void(this.imgStyle=this.innerRect=null);var r=this.img.width,i=this.img.height,o=.95*Math.min(t/r,n/i),s=[(t-o*r)/2,(n-o*i)/2],a=[s[0]/o,s[1]/o],l=p(o,a),c=Math.round(r*o),u=Math.round(i*o);this.imgStyle=l,this.innerRect=[Math.round(s[0]),Math.round(s[1]),c,u]},render:function(){var e=this.props,t=e.image,n=e.width,o=e.height,p=e.progress,g=e.value,m=e.progressColor,y=e.fromColor,b=e.toColor,w=e.style,E=e.cornerMaxDist,_=e.fontSize,A=e.background,D=e.overlayFill,F=e.centerTextStyle,S=this.state,T=S.edit,R=S.editFrom,k=this,M=k.imgStyle,L=k.innerRect,B=k.onMouseDown,O=k.onMouseEnter,I=k.onMouseLeave,P=k.onMouseMove,$=k.onMouseUp,j=h({position:"relative",overflow:"hidden",background:A,width:n+"px",height:o+"px",cursor:r(T),userSelect:"none",WebkitUserSelect:"none"},w);if(!L)return a.createElement("div",{style:j});var N,U=s(L,4),z=U[0],W=U[1],H=U[2],V=U[3],q={width:n,height:o},G={width:H,height:V},K=[0,0,H,V],Y=x(l(u.apply(null,g.from)(q,G),K)),X=x(l(u.apply(null,g.to)(q,G),K));if(p){var Z=x(c(Y,X,p));N=a.createElement(f,{edit:!1,rect:Z,viewport:K,progress:!0,color:m})}var Q=a.createElement(f,{name:"from",edit:R,rect:Y,viewport:K,center:C(g.from[1],[H,V]),centerText:i(g.from[1]),zoomText:g.from[0].toFixed(2),cornerMaxDist:E,color:y,fontSize:_,centerTextStyle:F}),J=a.createElement(f,{name:"to",edit:!R,rect:X,viewport:K,center:C(g.to[1],[H,V]),centerText:i(g.to[1]),zoomText:g.to[0].toFixed(2),cornerMaxDist:E,color:b,fontSize:_,centerTextStyle:F}),ee=R?J:Q,te=R?Q:J;return a.createElement("div",{style:j,onMouseDown:B,onMouseMove:P,onMouseUp:$,onMouseEnter:O,onMouseLeave:I},a.createElement("img",{src:t,style:M}),a.createElement("svg",{width:n,height:o,style:{position:"absolute",left:0,top:0}},a.createElement("g",{transform:"translate("+z+","+W+")",width:H,height:V},a.createElement(d,{rect:v(R?Y:X,[1,1]),viewport:K,fill:D}),N,ee,te)))}});t.exports=T},{"./ImageHolderMixin":261,"./KenburnsEditorOverlay":263,"./KenburnsEditorRect":264,"./core":266,"./scaleTranslateStyle":268,"object-assign":258,react:563,"rect-clamp":564,"rect-crop":565,"rect-mix":566}],263:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(e("react")),o=e("./core").rectEquals,s=i.createClass({displayName:"KenburnsEditorOverlay",shouldComponentUpdate:function(e){var t=this.props,n=t.rect,r=t.viewport,i=t.fill;return!(i===e.fill&&o(n,e.rect)&&o(r,e.viewport))},render:function(){var e=this.props,t=e.rect,n=e.viewport,r=e.fill,o={fill:r};return i.createElement("g",null,i.createElement("rect",{style:o,key:"1",x:0,y:0,width:Math.max(0,t[0]),height:n[3]}),i.createElement("rect",{style:o,key:"2",x:t[0]+t[2],y:0,width:Math.max(0,n[2]-t[0]-t[2]),height:n[3]}),i.createElement("rect",{style:o,key:"3",x:t[0],y:0,width:Math.max(0,t[2]),height:Math.max(0,t[1])}),i.createElement("rect",{style:o,key:"4",x:t[0],y:t[1]+t[3],width:Math.max(0,t[2]),height:Math.max(0,n[3]-t[1]-t[3])}))}});t.exports=s},{"./core":266,react:563}],264:[function(e,t,n){"use strict";function r(e,t){return["M",e[0],e[1],"L",e[0]+t[0],e[1],"L",e[0],e[1]+t[1],"z"]}var i=function(e){return e&&e.__esModule?e.default:e},o=i(e("react")),s=i(e("object-assign")),a=e("./core"),l=a.rectEquals,c=a.centerEquals,u=o.createClass({displayName:"KenburnsEditorRect",shouldComponentUpdate:function(e){var t=this.props,n=t.centerTextStyle,r=t.center,i=t.centerText,o=t.edit,s=t.rect,a=t.name,u=t.viewport,h=t.progress,d=t.color,f=t.cornerMaxDist,p=t.fontSize;return!(n===e.centerTextStyle&&c(r,e.center)&&i===e.centerText&&o===e.edit&&l(s,e.rect)&&a===e.name&&l(u,e.viewport)&&d===e.color&&h===e.progress&&f===e.cornerMaxDist&&p===e.fontSize)},render:function(){var e,t,n,i,a=this.props,l=a.centerTextStyle,c=a.center,u=a.centerText,h=a.edit,d=a.rect,f=a.name,p=a.viewport,g=a.progress,m=a.color,v=a.cornerMaxDist,y=a.fontSize,b=g?"rgba("+m+",0.8)":"rgba("+m+","+(h?1:.6)+")",w={fill:"none",stroke:b,strokeWidth:h?2:1,strokeDasharray:g?"1,2":""};if(c){e=h?5:3;var E={stroke:b,strokeWidth:h?2:1},C=s({fill:b,fontSize:y,alignmentBaseline:"text-before-edge"},l);t=o.createElement("g",null,o.createElement("line",{key:"a1",style:E,x1:c[0]-e,x2:c[0]+e,y1:c[1],y2:c[1]}),o.createElement("line",{key:"a2",style:E,y1:c[1]-e,y2:c[1]+e,x1:c[0],x2:c[0]}),o.createElement("text",{x:c[0]+y/2,y:c[1]+y/4,style:C},u))}if(h){e=Math.min(d[2],d[3])*v/2;var x={fill:b,stroke:b,strokeWidth:2},_={fill:"#000",fontSize:y,textAnchor:"end",alignmentBaseline:"text-after-edge"},A=r([d[0],d[1]],[e,e]),D=r([d[0]+d[2],d[1]],[-e,e]),F=r([d[0],d[1]+d[3]],[e,-e]),S=r([d[0]+d[2],d[1]+d[3]],[-e,-e]);n=o.createElement("g",null,o.createElement("path",{key:"c1",style:x,d:A.join(" ")}),o.createElement("path",{key:"c2",style:x,d:D.join(" ")}),o.createElement("path",{key:"c3",style:x,d:F.join(" ")}),o.createElement("path",{key:"c4",style:x,d:S.join(" ")}),o.createElement("text",{x:d[0]+d[2],y:d[1]+d[3],style:_},this.props.zoomText))}if(f){var T=d[1]+d[3]+20>p[3],R={fill:T?"#000":b,fontSize:y,textAnchor:"start",alignmentBaseline:T?"text-after-edge":"text-before-edge",textShadow:T?"":"0px 0px 1px #000"};i=o.createElement("text",{style:R,x:d[0],y:d[1]+d[3]+(T?0:2)},f)}return o.createElement("g",null,o.createElement("rect",{key:"r",style:w,x:d[0],y:d[1],width:d[2],height:d[3]}),t,n,i)}});t.exports=u},{"./core":266,"object-assign":258,react:563}],265:[function(e,t,n){"use strict";function r(e,t){var n=t.width/e[2],r=[-e[0]+"px",-e[1]+"px"];return"scale("+n+") translate("+r+")"}var i=function(e){return e&&e.__esModule?e.default:e},o=function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})},s=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=i(e("react")),u=i(e("rect-clamp")),h=i(e("rect-mix")),d=i(e("rect-crop")),f=i(e("vendor-prefix")),p=i(e("object-assign")),g=f("transform"),m=f("transform-origin"),v=function(e){function t(){l(this,t),null!=e&&e.apply(this,arguments)}return a(t,e),s(t,{fetchImage:{value:function(e){var t=new window.Image;if(e.image){this.curImgSrc=t.src=e.image;var n=this;t.onload=function(){n.forceUpdate()},this.img=t}}},componentWillMount:{value:function(){this.fetchImage(this.props)}},componentWillReceiveProps:{value:function(e){this.curImgSrc&&this.curImgSrc===e.image||this.fetchImage(e)}},render:{value:function(){var e=this.props,t=e.value,n=e.width,i=e.height,s=e.progress,a=e.image,l=p({overflow:"hidden",width:n+"px",height:i+"px",background:"#000"},this.props.style),f=this.img;if(!f||!f.width)return c.createElement("div",{style:l});var v={width:n,height:i},y=[0,0,f.width,f.height],b=u(d.apply(null,t.from)(v,f),y),w=u(d.apply(null,t.to)(v,f),y),E=u(h(b,w,s),y),C=function(){var e={};return o(e,m,"0% 0%"),o(e,g,r(E,v)),e}();return c.createElement("div",{style:l},c.createElement("img",{src:a,style:C}))}}}),t}(c.Component);t.exports=v},{"object-assign":258,react:563,"rect-clamp":564,"rect-crop":565,"rect-mix":566,"vendor-prefix":569}],266:[function(e,t,n){"use strict";function r(e){var t=f(e,2),n=t[0],r=t[1],i=f(r,2),o=i[0],s=i[1];return[n,[o,s]]}function i(e){return{from:r(e.from),to:r(e.to)}}function o(e,t){return!e&&!t||e&&t&&e[0]===t[0]&&e[1]===t[1]}function s(e,t){return[e[0]-t[0],e[1]-t[1],e[2]+2*t[0],e[3]+2*t[1]]}function a(e){return[Math.round(e[0]),Math.round(e[1]),Math.round(e[2]),Math.round(e[3])]}function l(e,t){return!e&&!t||e&&t&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function c(e,t){return e[0]<=t[0]&&t[0]<=e[0]+e[2]&&e[1]<=t[1]&&t[1]<=e[1]+e[3]}function u(e,t){return[e[0]*t[0],e[1]*t[1]]}function h(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function d(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])}var f=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],i=e[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")};n.cloneCrop=r,n.cloneValue=i,n.centerEquals=o,n.rectGrow=s,n.rectRound=a,n.rectEquals=l,n.rectContains=c,n.dot=u,n.distance=h,n.manhattan=d,Object.defineProperty(n,"__esModule",{value:!0})},{}],267:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e};Object.defineProperty(n,"__esModule",{value:!0});var i=r(e("./KenburnsEditor")),o=r(e("./KenburnsViewer")),s=r(e("uncontrollable")),a=s(i,{value:"onChange"});n.KenburnsEditor=a,n.KenburnsViewer=o},{"./KenburnsEditor":262,"./KenburnsViewer":265,uncontrollable:259}],268:[function(e,t,n){"use strict";function r(e,t){var n={position:"absolute",top:0,left:0};return n[s]="0% 0%",n[o]="scale("+e+") translate("+Math.round(t[0])+"px,"+Math.round(t[1])+"px)",n}var i=e("vendor-prefix"),o=i("transform"),s=i("transform-origin");t.exports=r},{"vendor-prefix":569}],269:[function(e,t,n){var r=e("../internal/baseDifference"),i=e("../internal/baseFlatten"),o=e("../internal/isArrayLike"),s=e("../function/restParam"),a=s(function(e,t){return o(e)?r(e,i(t,!1,!0)):[]});t.exports=a},{"../function/restParam":275,"../internal/baseDifference":285,"../internal/baseFlatten":289,"../internal/isArrayLike":319}],270:[function(e,t,n){function r(e){var t=e?e.length:0;return t?e[t-1]:void 0}t.exports=r},{}],271:[function(e,t,n){var r=e("../internal/baseFlatten"),i=e("../internal/baseUniq"),o=e("../function/restParam"),s=o(function(e){return i(r(e,!1,!0))});t.exports=s},{"../function/restParam":275,"../internal/baseFlatten":289,"../internal/baseUniq":303}],272:[function(e,t,n){var r=e("../internal/baseDifference"),i=e("../internal/isArrayLike"),o=e("../function/restParam"),s=o(function(e,t){return i(e)?r(e,t):[]});t.exports=s},{"../function/restParam":275,"../internal/baseDifference":285,"../internal/isArrayLike":319}],273:[function(e,t,n){var r=e("../internal/baseEach"),i=e("../internal/createFind"),o=i(r);t.exports=o},{"../internal/baseEach":286,"../internal/createFind":311}],274:[function(e,t,n){function r(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new r.Cache,n}var i=e("../internal/MapCache"),o="Expected a function";r.Cache=i,t.exports=r},{"../internal/MapCache":277}],275:[function(e,t,n){function r(e,t){if("function"!=typeof e)throw new TypeError(i);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-t,0),s=Array(i);++r<i;)s[r]=n[t+r];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,n[0],s);case 2:return e.call(this,n[0],n[1],s)}var a=Array(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=s,e.apply(this,a)}}var i="Expected a function",o=Math.max;t.exports=r},{}],276:[function(e,t,n){(function(e){(function(){function r(e,t){if(e!==t){var n=null===e,r=e===_,i=e===e,o=null===t,s=t===_,a=t===t;if(e>t&&!o||!i||n&&!s&&a||r&&a)return 1;if(t>e&&!n||!a||o&&!r&&i||s&&i)return-1}return 0}function i(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function o(e,t,n){if(t!==t)return g(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function s(e){return"function"==typeof e||!1}function a(e){return"string"==typeof e?e:null==e?"":e+""}function l(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function c(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function u(e,t){return r(e.criteria,t.criteria)||e.index-t.index}function h(e,t,n){for(var i=-1,o=e.criteria,s=t.criteria,a=o.length,l=n.length;++i<a;){var c=r(o[i],s[i]);if(c)return i>=l?c:c*(n[i]?1:-1)}return e.index-t.index}function d(e){return He[e]}function f(e){return Ve[e]}function p(e){return"\\"+Ke[e]}function g(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function m(e){return!!e&&"object"==typeof e}function v(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function y(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=W,o[++i]=n);return o}function b(e,t){for(var n,r=-1,i=e.length,o=-1,s=[];++r<i;){var a=e[r],l=t?t(a,r,e):a;r&&n===l||(n=l,s[++o]=a)}return s}function w(e){for(var t=-1,n=e.length;++t<n&&v(e.charCodeAt(t)););return t}function E(e){for(var t=e.length;t--&&v(e.charCodeAt(t)););return t}function C(e){return qe[e]}function x(e){function t(e){if(m(e)&&!_a(e)&&!(e instanceof X)){if(e instanceof v)return e;if(Ko.call(e,"__chain__")&&Ko.call(e,"__wrapped__"))return lr(e)}return new v(e)}function n(){}function v(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function X(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Cs,this.__views__=null}function ee(){var e=this.__actions__,t=this.__iteratees__,n=this.__views__,r=new X(this.__wrapped__);return r.__actions__=e?Je(e):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=t?Je(t):null,r.__takeCount__=this.__takeCount__,r.__views__=n?Je(n):null,r}function ne(){if(this.__filtered__){var e=new X(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function He(){var e=this.__wrapped__.value();if(!_a(e))return en(e,this.__actions__);var t=this.__dir__,n=0>t,r=Un(0,e.length,this.__views__),i=r.start,o=r.end,s=o-i,a=n?o:i-1,l=vs(s,this.__takeCount__),c=this.__iteratees__,u=c?c.length:0,h=0,d=[];e:for(;s--&&l>h;){a+=t;for(var f=-1,p=e[a];++f<u;){var g=c[f],m=g.iteratee,v=g.type;if(v==j){if(g.done&&(n?a>g.index:a<g.index)&&(g.count=0,g.done=!1),g.index=a,!g.done){var y=g.limit;if(!(g.done=y>-1?g.count++>=y:!m(p)))continue e}}else{var b=m(p);if(v==U)p=b;else if(!b){if(v==N)continue e;break e}}}d[h++]=p}return d}function Ve(){this.__data__={}}function qe(e){return this.has(e)&&delete this.__data__[e]}function Ge(e){return"__proto__"==e?_:this.__data__[e]}function Ke(e){return"__proto__"!=e&&Ko.call(this.__data__,e)}function Ye(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Xe(e){var t=e?e.length:0;for(this.data={hash:ds(null),set:new ss};t--;)this.push(e[t])}function Ze(e,t){var n=e.data,r="string"==typeof t||Fi(t)?n.set.has(t):n.hash[t];return r?0:-1}function Qe(e){var t=this.data;"string"==typeof e||Fi(e)?t.set.add(e):t.hash[e]=!0}function Je(e,t){var n=-1,r=e.length;for(t||(t=Lo(r));++n<r;)t[n]=e[n];return t}function et(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function rt(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ot(e,t,n,r){for(var i=-1,o=e.length,s=r,a=s;++i<o;){var l=e[i],c=+t(l);n(c,s)&&(s=c,a=l)}return a}function st(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[++i]=s)}return o}function at(e,t){for(var n=-1,r=e.length,i=Lo(r);++n<r;)i[n]=t(e[n],n,e);return i}function lt(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ct(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ut(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ht(e){for(var t=e.length,n=0;t--;)n+=+e[t]||0;return n}function dt(e,t){return e===_?t:e}function ft(e,t,n,r){return e!==_&&Ko.call(r,n)?e:t}function pt(e,t,n){for(var r=-1,i=Ia(t),o=i.length;++r<o;){var s=i[r],a=e[s],l=n(a,t[s],s,e,t);(l===l?l===a:a!==a)&&(a!==_||s in e)||(e[s]=l)}return e}function gt(e,t){return null==t?e:vt(t,Ia(t),e)}function mt(e,t){for(var n=-1,r=null==e,i=!r&&qn(e),o=i?e.length:0,s=t.length,a=Lo(s);++n<s;){var l=t[n];i?a[n]=Gn(l,o)?e[l]:_:a[n]=r?_:e[l]}return a}function vt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function yt(e,t,n){var r=typeof e;return"function"==r?t===_?e:rn(e,t,n):null==e?wo:"object"==r?Pt(e):t===_?Do(e):$t(e,t)}function bt(e,t,n,r,i,o,s){var a;if(n&&(a=i?n(e,r,i):n(e)),a!==_)return a;if(!Fi(e))return e;var l=_a(e);if(l){if(a=zn(e),!t)return Je(e,a)}else{var c=Xo.call(e),u=c==Y;if(c!=Q&&c!=H&&(!u||i))return ze[c]?Hn(e,c,t):i?e:{};if(a=Wn(u?{}:e),!t)return gt(a,e)}o||(o=[]),s||(s=[]);for(var h=o.length;h--;)if(o[h]==e)return s[h];return o.push(e),s.push(a),(l?et:Tt)(e,function(r,i){a[i]=bt(r,t,n,i,e,o,s)}),a}function wt(e,t,n){if("function"!=typeof e)throw new zo(z);return as(function(){e.apply(_,n)},t)}function Et(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,s=$n(),a=s==o,l=a&&t.length>=200?Ps(t):null,c=t.length;l&&(s=Ze,a=!1,t=l);e:for(;++i<n;){var u=e[i];if(a&&u===u){for(var h=c;h--;)if(t[h]===u)continue e;r.push(u)}else s(t,u,0)<0&&r.push(u)}return r}function Ct(e,t){var n=!0;return Ms(e,function(e,r,i){return n=!!t(e,r,i)}),n}function xt(e,t,n,r){var i=r,o=i;return Ms(e,function(e,s,a){var l=+t(e,s,a);(n(l,i)||l===r&&l===o)&&(i=l,o=e)}),o}function _t(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===_||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function At(e,t){var n=[];return Ms(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Dt(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function Ft(e,t,n){for(var r=-1,i=e.length,o=-1,s=[];++r<i;){var a=e[r];if(m(a)&&qn(a)&&(n||_a(a)||wi(a))){t&&(a=Ft(a,t,n));for(var l=-1,c=a.length;++l<c;)s[++o]=a[l]}else n||(s[++o]=a)}return s}function St(e,t){return Bs(e,t,qi)}function Tt(e,t){return Bs(e,t,Ia)}function Rt(e,t){return Os(e,t,Ia)}function kt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var s=t[n];Da(e[s])&&(o[++i]=s)}return o}function Mt(e,t,n){if(null!=e){n!==_&&n in sr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:_}}function Lt(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!Fi(e)&&!Fi(t)?e!==e&&t!==t:Bt(e,t,Lt,n,r,i,o)}function Bt(e,t,n,r,i,o,s){var a=_a(e),l=_a(t),c=V,u=V;a||(c=Xo.call(e),c==H?c=Q:c!=Q&&(a=Oi(e))),l||(u=Xo.call(t),u==H?u=Q:u!=Q&&(l=Oi(t)));var h=c==Q,d=u==Q,f=c==u;if(f&&!a&&!h)return Bn(e,t,c);if(!i){var p=h&&Ko.call(e,"__wrapped__"),g=d&&Ko.call(t,"__wrapped__");if(p||g)return n(p?e.value():e,g?t.value():t,r,i,o,s)}if(!f)return!1;o||(o=[]),s||(s=[]);for(var m=o.length;m--;)if(o[m]==e)return s[m]==t;o.push(e),s.push(t);var v=(a?Ln:On)(e,t,n,r,i,o,s);return o.pop(),s.pop(),v}function Ot(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=sr(e);r--;){var s=t[r];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<i;){s=t[r];var a=s[0],l=e[a],c=s[1];if(o&&s[2]){if(l===_&&!(a in e))return!1}else{var u=n?n(l,c,a):_;if(!(u===_?Lt(c,l,n,!0):u))return!1}}return!0}function It(e,t){var n=-1,r=qn(e)?Lo(e.length):[];return Ms(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Pt(e){var t=jn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==_||n in sr(e))}}return function(e){return Ot(e,t)}}function $t(e,t){var n=_a(e),r=Yn(e)&&Qn(t),i=e+"";return e=ar(e),function(o){if(null==o)return!1;var s=i;if(o=sr(o),!(!n&&r||s in o)){if(o=1==e.length?o:Mt(o,qt(e,0,-1)),null==o)return!1;s=Er(e),o=sr(o)}return o[s]===t?t!==_||s in o:Lt(t,o[s],_,!0)}}function jt(e,t,n,r,i){if(!Fi(e))return e;var o=qn(t)&&(_a(t)||Oi(t)),s=o?null:Ia(t);return et(s||t,function(a,l){if(s&&(l=a,a=t[l]),m(a))r||(r=[]),i||(i=[]),Nt(e,t,l,jt,n,r,i);else{var c=e[l],u=n?n(c,a,l,e,t):_,h=u===_;h&&(u=a),u===_&&(!o||l in e)||!h&&(u===u?u===c:c!==c)||(e[l]=u)}}),e}function Nt(e,t,n,r,i,o,s){for(var a=o.length,l=t[n];a--;)if(o[a]==l)return void(e[n]=s[a]);var c=e[n],u=i?i(c,l,n,e,t):_,h=u===_;h&&(u=l,qn(l)&&(_a(l)||Oi(l))?u=_a(c)?c:qn(c)?Je(c):[]:Fa(l)||wi(l)?u=wi(c)?Ni(c):Fa(c)?c:{}:h=!1),o.push(l),s.push(u),h?e[n]=r(u,l,i,o,s):(u===u?u!==c:c===c)&&(e[n]=u)}function Ut(e){return function(t){return null==t?_:t[e]}}function zt(e){var t=e+"";return e=ar(e),function(n){return Mt(n,e,t)}}function Wt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Gn(r)){var i=r;ls.call(e,r,1)}}return e}function Ht(e,t){return e+rs(Es()*(t-e+1))}function Vt(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function qt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===_||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Lo(i);++r<i;)o[r]=e[r+t];return o}function Gt(e,t){var n;return Ms(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Kt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Yt(e,t,n){var r=In(),i=-1;t=at(t,function(e){return r(e)});var o=It(e,function(e){var n=at(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Kt(o,function(e,t){return h(e,t,n)})}function Xt(e,t){var n=0;return Ms(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Zt(e,t){var n=-1,r=$n(),i=e.length,s=r==o,a=s&&i>=200,l=a?Ps():null,c=[];l?(r=Ze,s=!1):(a=!1,l=t?[]:c);e:for(;++n<i;){var u=e[n],h=t?t(u,n,e):u;if(s&&u===u){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),c.push(u)}else r(l,h,0)<0&&((t||a)&&l.push(h),c.push(u))}return c}function Qt(e,t){for(var n=-1,r=t.length,i=Lo(r);++n<r;)i[n]=e[t[n]];return i}function Jt(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?qt(e,r?0:o,r?o+1:i):qt(e,r?o+1:0,r?i:o)}function en(e,t){var n=e;n instanceof X&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=[n],s=t[r];os.apply(o,s.args),n=s.func.apply(s.thisArg,o)}return n}function tn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&As>=i){for(;i>r;){var o=r+i>>>1,s=e[o];(n?t>=s:t>s)&&null!==s?r=o+1:i=o}return i}return nn(e,t,wo,n)}function nn(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,s=t!==t,a=null===t,l=t===_;o>i;){var c=rs((i+o)/2),u=n(e[c]),h=u!==_,d=u===u;if(s)var f=d||r;else f=a?d&&h&&(r||null!=u):l?d&&(r||h):null==u?!1:r?t>=u:t>u;f?i=c+1:o=c}return vs(o,_s)}function rn(e,t,n){if("function"!=typeof e)return wo;if(t===_)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,s){return e.call(t,n,r,i,o,s)}}return function(){return e.apply(t,arguments)}}function on(e){return es.call(e,0)}function sn(e,t,n){for(var r=n.length,i=-1,o=ms(e.length-r,0),s=-1,a=t.length,l=Lo(o+a);++s<a;)l[s]=t[s];for(;++i<r;)l[n[i]]=e[i];for(;o--;)l[s++]=e[i++];return l}function an(e,t,n){for(var r=-1,i=n.length,o=-1,s=ms(e.length-i,0),a=-1,l=t.length,c=Lo(s+l);++o<s;)c[o]=e[o];for(var u=o;++a<l;)c[u+a]=t[a];for(;++r<i;)c[u+n[r]]=e[o++];return c}function ln(e,t){return function(n,r,i){var o=t?t():{};if(r=In(r,i,3),_a(n))for(var s=-1,a=n.length;++s<a;){var l=n[s];e(o,l,r(l,s,n),n)}else Ms(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function cn(e){return di(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:_,s=i>2?n[2]:_,a=i>1?n[i-1]:_;for("function"==typeof o?(o=rn(o,a,5),i-=2):(o="function"==typeof a?a:_,i-=o?1:0),s&&Kn(n[0],n[1],s)&&(o=3>i?_:o,i=1);++r<i;){var l=n[r];l&&e(t,l,o)}return t})}function un(e,t){return function(n,r){var i=n?js(n):0;if(!Zn(i))return e(n,r);for(var o=t?i:-1,s=sr(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}function hn(e){return function(t,n,r){for(var i=sr(t),o=r(t),s=o.length,a=e?s:-1;e?a--:++a<s;){var l=o[a];if(n(i[l],l,i)===!1)break}return t}}function dn(e,t){function n(){var i=this&&this!==tt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=pn(e);return n}function fn(e){return function(t){for(var n=-1,r=vo(no(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function pn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4])}var n=ks(e.prototype),r=e.apply(n,t);return Fi(r)?r:n}}function gn(e){function t(n,r,i){i&&Kn(n,r,i)&&(r=null);var o=Mn(n,e,null,null,null,null,null,r);return o.placeholder=t.placeholder,o}return t}function mn(e,t){return function(n,r,i){if(i&&Kn(n,r,i)&&(r=null),r=In(r,i,3),1==r.length){n=or(n);var o=ot(n,r,e,t);if(!n.length||o!==t)return o}return xt(n,r,e,t)}}function vn(e,t){return function(n,r,o){if(r=In(r,o,3),_a(n)){var s=i(n,r,t);return s>-1?n[s]:_}return Dt(n,r,e)}}function yn(e){return function(t,n,r){return t&&t.length?(n=In(n,r,3),i(t,n,e)):-1}}function bn(e){return function(t,n,r){return n=In(n,r,3),Dt(t,n,e,!0)}}function wn(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,o=Lo(n);e?r--:++r<n;){var s=o[i++]=arguments[r];if("function"!=typeof s)throw new zo(z);!t&&v.prototype.thru&&"wrapper"==Pn(s)&&(t=new v([]))}for(r=t?-1:n;++r<n;){s=o[r];var a=Pn(s),l="wrapper"==a?$s(s):null;t=l&&Xn(l[0])&&l[1]==(L|T|k|B)&&!l[4].length&&1==l[9]?t[Pn(l[0])].apply(t,l[3]):1==s.length&&Xn(s)?t[a]():t.thru(s)}return function(){var e=arguments;if(t&&1==e.length&&_a(e[0]))return t.plant(e[0]).value();for(var r=0,i=n?o[r].apply(this,e):e[0];++r<n;)i=o[r].call(this,i);return i}}}function En(e,t){return function(n,r,i){return"function"==typeof r&&i===_&&_a(n)?e(n,r):t(n,rn(r,i,3))}}function Cn(e){return function(t,n,r){return("function"!=typeof n||r!==_)&&(n=rn(n,r,3)),e(t,n,qi)}}function xn(e){return function(t,n,r){return("function"!=typeof n||r!==_)&&(n=rn(n,r,3)),e(t,n)}}function _n(e){return function(t,n,r){var i={};return n=In(n,r,3),Tt(t,function(t,r,o){var s=n(t,r,o);r=e?s:r,t=e?t:s,i[r]=t}),i}}function An(e){return function(t,n,r){return t=a(t),(e?t:"")+Tn(t,n,r)+(e?"":t)}}function Dn(e){var t=di(function(n,r){var i=y(r,t.placeholder);return Mn(n,e,null,r,i)});return t}function Fn(e,t){return function(n,r,i,o){var s=arguments.length<3;return"function"==typeof r&&o===_&&_a(n)?e(n,r,i,s):Vt(n,In(r,o,4),i,s,t)}}function Sn(e,t,n,r,i,o,s,a,l,c){function u(){for(var b=arguments.length,w=b,E=Lo(b);w--;)E[w]=arguments[w];if(r&&(E=sn(E,r,i)),o&&(E=an(E,o,s)),p||m){var C=u.placeholder,x=y(E,C);if(b-=x.length,c>b){var A=a?Je(a):null,S=ms(c-b,0),T=p?x:null,R=p?null:x,L=p?E:null,B=p?null:E;t|=p?k:M,t&=~(p?M:k),g||(t&=~(D|F));var O=[e,t,n,L,T,B,R,A,l,S],I=Sn.apply(_,O);return Xn(e)&&Ns(I,O),I.placeholder=C,I}}var P=d?n:this,$=f?P[e]:e;return a&&(E=nr(E,a)),h&&l<E.length&&(E.length=l),this&&this!==tt&&this instanceof u&&($=v||pn(e)),$.apply(P,E)}var h=t&L,d=t&D,f=t&F,p=t&T,g=t&S,m=t&R,v=f?null:pn(e);return u}function Tn(e,t,n){var r=e.length;if(t=+t,r>=t||!ps(t))return"";var i=t-r;return n=null==n?" ":n+"",lo(n,ts(i/n.length)).slice(0,i)}function Rn(e,t,n,r){function i(){for(var t=-1,a=arguments.length,l=-1,c=r.length,u=Lo(a+c);++l<c;)u[l]=r[l];for(;a--;)u[l++]=arguments[++t];var h=this&&this!==tt&&this instanceof i?s:e;return h.apply(o?n:this,u)}var o=t&D,s=pn(e);return i}function kn(e){return function(t,n,r,i){var o=In(r);return null==r&&o===yt?tn(t,n,e):nn(t,n,o(r,i,1),e)}}function Mn(e,t,n,r,i,o,s,a){var l=t&F;if(!l&&"function"!=typeof e)throw new zo(z);var c=r?r.length:0;if(c||(t&=~(k|M),r=i=null),c-=i?i.length:0,t&M){var u=r,h=i;r=i=null}var d=l?null:$s(e),f=[e,t,n,r,i,u,h,o,s,a];if(d&&(Jn(f,d),t=f[1],a=f[9]),f[9]=null==a?l?0:e.length:ms(a-c,0)||0,t==D)var p=dn(f[0],f[2]);else p=t!=k&&t!=(D|k)||f[4].length?Sn.apply(_,f):Rn.apply(_,f);var g=d?Is:Ns;return g(p,f)}function Ln(e,t,n,r,i,o,s){var a=-1,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;for(;++a<l;){var u=e[a],h=t[a],d=r?r(i?h:u,i?u:h,a):_;if(d!==_){if(d)continue;return!1}if(i){if(!ut(t,function(e){return u===e||n(u,e,r,i,o,s)}))return!1}else if(u!==h&&!n(u,h,r,i,o,s))return!1}return!0}function Bn(e,t,n){switch(n){case q:case G:return+e==+t;case K:return e.name==t.name&&e.message==t.message;case Z:return e!=+e?t!=+t:e==+t;case J:case te:return e==t+""}return!1}function On(e,t,n,r,i,o,s){var a=Ia(e),l=a.length,c=Ia(t),u=c.length;if(l!=u&&!i)return!1;for(var h=l;h--;){var d=a[h];if(!(i?d in t:Ko.call(t,d)))return!1}for(var f=i;++h<l;){d=a[h];var p=e[d],g=t[d],m=r?r(i?g:p,i?p:g,d):_;if(!(m===_?n(p,g,r,i,o,s):m))return!1;f||(f="constructor"==d)}if(!f){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function In(e,n,r){var i=t.callback||yo;return i=i===yo?yt:i,r?i(e,n,r):i}function Pn(e){for(var t=e.name,n=Ts[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function $n(e,n,r){var i=t.indexOf||br;return i=i===br?o:i,e?i(e,n,r):i}function jn(e){for(var t=Gi(e),n=t.length;n--;)t[n][2]=Qn(t[n][1]);return t}function Nn(e,t){var n=null==e?_:e[t];return Ri(n)?n:_}function Un(e,t,n){for(var r=-1,i=n?n.length:0;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=vs(t,e+s);break;case"takeRight":e=ms(e,t-s)}}return{start:e,end:t}}function zn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ko.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Wn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=jo),new t}function Hn(e,t,n){var r=e.constructor;switch(t){case re:return on(e);case q:case G:return new r(+e);case ie:case oe:case se:case ae:case le:case ce:case ue:case he:case de:var i=e.buffer;return new r(n?on(i):i,e.byteOffset,e.length);case Z:case te:return new r(e);case J:var o=new r(e.source,ke.exec(e));o.lastIndex=e.lastIndex}return o}function Vn(e,t,n){null==e||Yn(t,e)||(t=ar(t),e=1==t.length?e:Mt(e,qt(t,0,-1)),t=Er(t));var r=null==e?e:e[t];return null==r?_:r.apply(e,n)}function qn(e){return null!=e&&Zn(js(e))}function Gn(e,t){return e="number"==typeof e?e:parseFloat(e),t=null==t?Fs:t,e>-1&&e%1==0&&t>e}function Kn(e,t,n){if(!Fi(n))return!1;var r=typeof t;if("number"==r?qn(n)&&Gn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function Yn(e,t){var n=typeof e;if("string"==n&&_e.test(e)||"number"==n)return!0;if(_a(e))return!1;var r=!xe.test(e);return r||null!=t&&e in sr(t)}function Xn(e){var n=Pn(e);return!!n&&e===t[n]&&n in X.prototype}function Zn(e){return"number"==typeof e&&e>-1&&e%1==0&&Fs>=e}function Qn(e){return e===e&&!Fi(e)}function Jn(e,t){var n=e[1],r=t[1],i=n|r,o=L>i,s=r==L&&n==T||r==L&&n==B&&e[7].length<=t[8]||r==(L|B)&&n==T;if(!o&&!s)return e;r&D&&(e[2]=t[2],i|=n&D?0:S);var a=t[3];if(a){var l=e[3];e[3]=l?sn(l,a,t[4]):Je(a),e[4]=l?y(e[3],W):Je(t[4])}return a=t[5],a&&(l=e[5],e[5]=l?an(l,a,t[6]):Je(a),e[6]=l?y(e[5],W):Je(t[6])),a=t[7],a&&(e[7]=Je(a)),r&L&&(e[8]=null==e[8]?t[8]:vs(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function er(e,t){e=sr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function tr(e,t){var n={};return St(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function nr(e,t){for(var n=e.length,r=vs(t.length,n),i=Je(e);r--;){var o=t[r];e[r]=Gn(o,n)?i[o]:_}return e}function rr(e){var n;t.support;if(!m(e)||Xo.call(e)!=Q||!Ko.call(e,"constructor")&&(n=e.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var r;return St(e,function(e,t){r=t}),r===_||Ko.call(e,r)}function ir(e){for(var t=qi(e),n=t.length,r=n&&e.length,i=!!r&&Zn(r)&&(_a(e)||wi(e)),o=-1,s=[];++o<n;){var a=t[o];(i&&Gn(a,r)||Ko.call(e,a))&&s.push(a);
}return s}function or(e){return null==e?[]:qn(e)?Fi(e)?e:jo(e):Zi(e)}function sr(e){return Fi(e)?e:jo(e)}function ar(e){if(_a(e))return e;var t=[];return a(e).replace(Ae,function(e,n,r,i){t.push(r?i.replace(Te,"$1"):n||e)}),t}function lr(e){return e instanceof X?e.clone():new v(e.__wrapped__,e.__chain__,Je(e.__actions__))}function cr(e,t,n){t=(n?Kn(e,t,n):null==t)?1:ms(+t||1,1);for(var r=0,i=e?e.length:0,o=-1,s=Lo(ts(i/t));i>r;)s[++o]=qt(e,r,r+=t);return s}function ur(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function hr(e,t,n){var r=e?e.length:0;return r?((n?Kn(e,t,n):null==t)&&(t=1),qt(e,0>t?0:t)):[]}function dr(e,t,n){var r=e?e.length:0;return r?((n?Kn(e,t,n):null==t)&&(t=1),t=r-(+t||0),qt(e,0,0>t?0:t)):[]}function fr(e,t,n){return e&&e.length?Jt(e,In(t,n,3),!0,!0):[]}function pr(e,t,n){return e&&e.length?Jt(e,In(t,n,3),!0):[]}function gr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Kn(e,t,n)&&(n=0,r=i),_t(e,t,n,r)):[]}function mr(e){return e?e[0]:_}function vr(e,t,n){var r=e?e.length:0;return n&&Kn(e,t,n)&&(t=!1),r?Ft(e,t):[]}function yr(e){var t=e?e.length:0;return t?Ft(e,!0):[]}function br(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?ms(r+n,0):n;else if(n){var i=tn(e,t),s=e[i];return(t===t?t===s:s!==s)?i:-1}return o(e,t,n||0)}function wr(e){return dr(e,1)}function Er(e){var t=e?e.length:0;return t?e[t-1]:_}function Cr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?ms(r+n,0):vs(n||0,r-1))+1;else if(n){i=tn(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return g(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function xr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=$n(),i=e.length;++n<i;)for(var o=0,s=e[n];(o=r(t,s,o))>-1;)ls.call(t,o,1);return t}function _r(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],s=e.length;for(t=In(t,n,3);++i<s;){var a=e[i];t(a,i,e)&&(r.push(a),o.push(i))}return Wt(e,o),r}function Ar(e){return hr(e,1)}function Dr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Kn(e,t,n)&&(t=0,n=r),qt(e,t,n)):[]}function Fr(e,t,n){var r=e?e.length:0;return r?((n?Kn(e,t,n):null==t)&&(t=1),qt(e,0,0>t?0:t)):[]}function Sr(e,t,n){var r=e?e.length:0;return r?((n?Kn(e,t,n):null==t)&&(t=1),t=r-(+t||0),qt(e,0>t?0:t)):[]}function Tr(e,t,n){return e&&e.length?Jt(e,In(t,n,3),!1,!0):[]}function Rr(e,t,n){return e&&e.length?Jt(e,In(t,n,3)):[]}function kr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Kn(e,t,r)?null:t,t=!1);var s=In();return(null!=n||s!==yt)&&(n=s(n,r,3)),t&&$n()==o?b(e,n):Zt(e,n)}function Mr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return qn(e)?(n=ms(e.length,n),!0):void 0});for(var r=Lo(n);++t<n;)r[t]=at(e,Ut(t));return r}function Lr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Mr(e);return null==t?i:(t=rn(t,n,4),at(i,function(e){return lt(e,t,_,!0)}))}function Br(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(qn(n))var r=r?Et(r,n).concat(Et(n,r)):n}return r?Zt(r):[]}function Or(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||_a(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Ir(e){var n=t(e);return n.__chain__=!0,n}function Pr(e,t,n){return t.call(n,e),e}function $r(e,t,n){return t.call(n,e)}function jr(){return Ir(this)}function Nr(){return new v(this.value(),this.__chain__)}function Ur(e){for(var t,r=this;r instanceof n;){var i=lr(r);t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function zr(){var e=this.__wrapped__;return e instanceof X?(this.__actions__.length&&(e=new X(this)),new v(e.reverse(),this.__chain__)):this.thru(function(e){return e.reverse()})}function Wr(){return this.value()+""}function Hr(){return en(this.__wrapped__,this.__actions__)}function Vr(e,t,n){var r=_a(e)?it:Ct;return n&&Kn(e,t,n)&&(t=null),("function"!=typeof t||n!==_)&&(t=In(t,n,3)),r(e,t)}function qr(e,t,n){var r=_a(e)?st:At;return t=In(t,n,3),r(e,t)}function Gr(e,t){return ea(e,Pt(t))}function Kr(e,t,n,r){var i=e?js(e):0;return Zn(i)||(e=Zi(e),i=e.length),i?(n="number"!=typeof n||r&&Kn(t,n,r)?0:0>n?ms(i+n,0):n||0,"string"==typeof e||!_a(e)&&Bi(e)?i>n&&e.indexOf(t,n)>-1:$n(e,t,n)>-1):!1}function Yr(e,t,n){var r=_a(e)?at:It;return t=In(t,n,3),r(e,t)}function Xr(e,t){return Yr(e,Do(t))}function Zr(e,t,n){var r=_a(e)?st:At;return t=In(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function Qr(e,t,n){if(n?Kn(e,t,n):null==t){e=or(e);var r=e.length;return r>0?e[Ht(0,r-1)]:_}var i=Jr(e);return i.length=vs(0>t?0:+t||0,i.length),i}function Jr(e){e=or(e);for(var t=-1,n=e.length,r=Lo(n);++t<n;){var i=Ht(0,t);t!=i&&(r[t]=r[i]),r[i]=e[t]}return r}function ei(e){var t=e?js(e):0;return Zn(t)?t:Ia(e).length}function ti(e,t,n){var r=_a(e)?ut:Gt;return n&&Kn(e,t,n)&&(t=null),("function"!=typeof t||n!==_)&&(t=In(t,n,3)),r(e,t)}function ni(e,t,n){if(null==e)return[];n&&Kn(e,t,n)&&(t=null);var r=-1;t=In(t,n,3);var i=It(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Kt(i,u)}function ri(e,t,n,r){return null==e?[]:(r&&Kn(t,n,r)&&(n=null),_a(t)||(t=null==t?[]:[t]),_a(n)||(n=null==n?[]:[n]),Yt(e,t,n))}function ii(e,t){return qr(e,Pt(t))}function oi(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new zo(z);var n=e;e=t,t=n}return e=ps(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function si(e,t,n){return n&&Kn(e,t,n)&&(t=null),t=e&&null==t?e.length:ms(+t||0,0),Mn(e,L,null,null,null,null,t)}function ai(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new zo(z);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}}function li(e,t,n){function r(){d&&ns(d),l&&ns(l),l=d=f=_}function i(){var n=t-(ha()-u);if(0>=n||n>t){l&&ns(l);var r=f;l=d=f=_,r&&(p=ha(),c=e.apply(h,a),d||l||(a=h=null))}else d=as(i,n)}function o(){d&&ns(d),l=d=f=_,(m||g!==t)&&(p=ha(),c=e.apply(h,a),d||l||(a=h=null))}function s(){if(a=arguments,u=ha(),h=this,f=m&&(d||!v),g===!1)var n=v&&!d;else{l||v||(p=u);var r=g-(u-p),s=0>=r||r>g;s?(l&&(l=ns(l)),p=u,c=e.apply(h,a)):l||(l=as(o,r))}return s&&d?d=ns(d):d||t===g||(d=as(i,t)),n&&(s=!0,c=e.apply(h,a)),!s||d||l||(a=h=null),c}var a,l,c,u,h,d,f,p=0,g=!1,m=!0;if("function"!=typeof e)throw new zo(z);if(t=0>t?0:+t||0,n===!0){var v=!0;m=!1}else Fi(n)&&(v=n.leading,g="maxWait"in n&&ms(+n.maxWait||0,t),m="trailing"in n?n.trailing:m);return s.cancel=r,s}function ci(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new zo(z);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new ci.Cache,n}function ui(e){if("function"!=typeof e)throw new zo(z);return function(){return!e.apply(this,arguments)}}function hi(e){return ai(2,e)}function di(e,t){if("function"!=typeof e)throw new zo(z);return t=ms(t===_?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=ms(n.length-t,0),o=Lo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=Lo(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=o,e.apply(this,s)}}function fi(e){if("function"!=typeof e)throw new zo(z);return function(t){return e.apply(this,t)}}function pi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new zo(z);return n===!1?r=!1:Fi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),We.leading=r,We.maxWait=+t,We.trailing=i,li(e,t,We)}function gi(e,t){return t=null==t?wo:t,Mn(t,k,null,[e],[])}function mi(e,t,n,r){return t&&"boolean"!=typeof t&&Kn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?bt(e,t,rn(n,r,1)):bt(e,t)}function vi(e,t,n){return"function"==typeof t?bt(e,!0,rn(t,n,1)):bt(e,!0)}function yi(e,t){return e>t}function bi(e,t){return e>=t}function wi(e){return m(e)&&qn(e)&&Xo.call(e)==H}function Ei(e){return e===!0||e===!1||m(e)&&Xo.call(e)==q}function Ci(e){return m(e)&&Xo.call(e)==G}function xi(e){return!!e&&1===e.nodeType&&m(e)&&Xo.call(e).indexOf("Element")>-1}function _i(e){return null==e?!0:qn(e)&&(_a(e)||Bi(e)||wi(e)||m(e)&&Da(e.splice))?!e.length:!Ia(e).length}function Ai(e,t,n,r){n="function"==typeof n?rn(n,r,3):_;var i=n?n(e,t):_;return i===_?Lt(e,t,n):!!i}function Di(e){return m(e)&&"string"==typeof e.message&&Xo.call(e)==K}function Fi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Si(e,t,n,r){return n="function"==typeof n?rn(n,r,3):_,Ot(e,jn(t),n)}function Ti(e){return Mi(e)&&e!=+e}function Ri(e){return null==e?!1:Xo.call(e)==Y?Qo.test(Go.call(e)):m(e)&&Le.test(e)}function ki(e){return null===e}function Mi(e){return"number"==typeof e||m(e)&&Xo.call(e)==Z}function Li(e){return m(e)&&Xo.call(e)==J}function Bi(e){return"string"==typeof e||m(e)&&Xo.call(e)==te}function Oi(e){return m(e)&&Zn(e.length)&&!!Ue[Xo.call(e)]}function Ii(e){return e===_}function Pi(e,t){return t>e}function $i(e,t){return t>=e}function ji(e){var t=e?js(e):0;return Zn(t)?t?Je(e):[]:Zi(e)}function Ni(e){return vt(e,qi(e))}function Ui(e,t,n){var r=ks(e);return n&&Kn(e,t,n)&&(t=null),t?gt(r,t):r}function zi(e){return kt(e,qi(e))}function Wi(e,t,n){var r=null==e?_:Mt(e,ar(t),t+"");return r===_?n:r}function Hi(e,t){if(null==e)return!1;var n=Ko.call(e,t);if(!n&&!Yn(t)){if(t=ar(t),e=1==t.length?e:Mt(e,qt(t,0,-1)),null==e)return!1;t=Er(t),n=Ko.call(e,t)}return n||Zn(e.length)&&Gn(t,e.length)&&(_a(e)||wi(e))}function Vi(e,t,n){n&&Kn(e,t,n)&&(t=null);for(var r=-1,i=Ia(e),o=i.length,s={};++r<o;){var a=i[r],l=e[a];t?Ko.call(s,l)?s[l].push(a):s[l]=[a]:s[l]=a}return s}function qi(e){if(null==e)return[];Fi(e)||(e=jo(e));var t=e.length;t=t&&Zn(t)&&(_a(e)||wi(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Lo(t),s=t>0;++r<t;)o[r]=r+"";for(var a in e)s&&Gn(a,t)||"constructor"==a&&(i||!Ko.call(e,a))||o.push(a);return o}function Gi(e){e=sr(e);for(var t=-1,n=Ia(e),r=n.length,i=Lo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Ki(e,t,n){var r=null==e?_:e[t];return r===_&&(null==e||Yn(t,e)||(t=ar(t),e=1==t.length?e:Mt(e,qt(t,0,-1)),r=null==e?_:e[Er(t)]),r=r===_?n:r),Da(r)?r.call(e):r}function Yi(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||Yn(t,e)?[r]:ar(t);for(var i=-1,o=t.length,s=o-1,a=e;null!=a&&++i<o;){var l=t[i];Fi(a)&&(i==s?a[l]=n:null==a[l]&&(a[l]=Gn(t[i+1])?[]:{})),a=a[l]}return e}function Xi(e,t,n,r){var i=_a(e)||Oi(e);if(t=In(t,r,4),null==n)if(i||Fi(e)){var o=e.constructor;n=i?_a(e)?new o:[]:ks(Da(o)?o.prototype:null)}else n={};return(i?et:Tt)(e,function(e,r,i){return t(n,e,r,i)}),n}function Zi(e){return Qt(e,Ia(e))}function Qi(e){return Qt(e,qi(e))}function Ji(e,t,n){return t=+t||0,"undefined"==typeof n?(n=t,t=0):n=+n||0,e>=vs(t,n)&&e<ms(t,n)}function eo(e,t,n){n&&Kn(e,t,n)&&(t=n=null);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Es();return vs(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return Ht(e,t)}function to(e){return e=a(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function no(e){return e=a(e),e&&e.replace(Be,d).replace(Se,"")}function ro(e,t,n){e=a(e),t+="";var r=e.length;return n=n===_?r:vs(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function io(e){return e=a(e),e&&be.test(e)?e.replace(ve,f):e}function oo(e){return e=a(e),e&&Fe.test(e)?e.replace(De,"\\$&"):e}function so(e,t,n){e=a(e),t=+t;var r=e.length;if(r>=t||!ps(t))return e;var i=(t-r)/2,o=rs(i),s=ts(i);return n=Tn("",s,n),n.slice(0,o)+e+n}function ao(e,t,n){return n&&Kn(e,t,n)&&(t=0),ws(e,t)}function lo(e,t){var n="";if(e=a(e),t=+t,1>t||!e||!ps(t))return n;do t%2&&(n+=e),t=rs(t/2),e+=e;while(t);return n}function co(e,t,n){return e=a(e),n=null==n?0:vs(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function uo(e,n,r){var i=t.templateSettings;r&&Kn(e,n,r)&&(n=r=null),e=a(e),n=pt(gt({},r||n),i,ft);var o,s,l=pt(gt({},n.imports),i.imports,ft),c=Ia(l),u=Qt(l,c),h=0,d=n.interpolate||Oe,f="__p += '",g=No((n.escape||Oe).source+"|"+d.source+"|"+(d===Ce?Re:Oe).source+"|"+(n.evaluate||Oe).source+"|$","g"),m="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Ne+"]")+"\n";e.replace(g,function(t,n,r,i,a,l){return r||(r=i),f+=e.slice(h,l).replace(Ie,p),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=l+t.length,t}),f+="';\n";var v=n.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(fe,""):f).replace(pe,"$1").replace(ge,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=Ka(function(){return Io(c,m+"return "+f).apply(_,u)});if(y.source=f,Di(y))throw y;return y}function ho(e,t,n){var r=e;return(e=a(e))?(n?Kn(r,t,n):null==t)?e.slice(w(e),E(e)+1):(t+="",e.slice(l(e,t),c(e,t)+1)):e}function fo(e,t,n){var r=e;return e=a(e),e?(n?Kn(r,t,n):null==t)?e.slice(w(e)):e.slice(l(e,t+"")):e}function po(e,t,n){var r=e;return e=a(e),e?(n?Kn(r,t,n):null==t)?e.slice(0,E(e)+1):e.slice(0,c(e,t+"")+1):e}function go(e,t,n){n&&Kn(e,t,n)&&(t=null);var r=O,i=I;if(null!=t)if(Fi(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?a(t.omission):i}else r=+t||0;if(e=a(e),r>=e.length)return e;var s=r-i.length;if(1>s)return i;var l=e.slice(0,s);if(null==o)return l+i;if(Li(o)){if(e.slice(s).search(o)){var c,u,h=e.slice(0,s);for(o.global||(o=No(o.source,(ke.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(h);)u=c.index;l=l.slice(0,null==u?s:u)}}else if(e.indexOf(o,s)!=s){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+i}function mo(e){return e=a(e),e&&ye.test(e)?e.replace(me,C):e}function vo(e,t,n){return n&&Kn(e,t,n)&&(t=null),e=a(e),e.match(t||Pe)||[]}function yo(e,t,n){return n&&Kn(e,t,n)&&(t=null),m(e)?Eo(e):yt(e,t)}function bo(e){return function(){return e}}function wo(e){return e}function Eo(e){return Pt(bt(e,!0))}function Co(e,t){return $t(e,bt(t,!0))}function xo(e,t,n){if(null==n){var r=Fi(t),i=r?Ia(t):null,o=i&&i.length?kt(t,i):null;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=kt(t,Ia(t)));var s=!0,a=-1,l=Da(e),c=o.length;n===!1?s=!1:Fi(n)&&"chain"in n&&(s=n.chain);for(;++a<c;){var u=o[a],h=t[u];e[u]=h,l&&(e.prototype[u]=function(t){return function(){var n=this.__chain__;if(s||n){var r=e(this.__wrapped__),i=r.__actions__=Je(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}var o=[this.value()];return os.apply(o,arguments),t.apply(e,o)}}(h))}return e}function _o(){return e._=Zo,this}function Ao(){}function Do(e){return Yn(e)?Ut(e):zt(e)}function Fo(e){return function(t){return Mt(e,ar(t),t+"")}}function So(e,t,n){n&&Kn(e,t,n)&&(t=n=null),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=ms(ts((t-e)/(n||1)),0),o=Lo(i);++r<i;)o[r]=e,e+=n;return o}function To(e,t,n){if(e=rs(e),1>e||!ps(e))return[];var r=-1,i=Lo(vs(e,xs));for(t=rn(t,n,1);++r<e;)xs>r?i[r]=t(r):t(r);return i}function Ro(e){var t=++Yo;return a(e)+t}function ko(e,t){return(+e||0)+(+t||0)}function Mo(e,t,n){n&&Kn(e,t,n)&&(t=null);var r=In(),i=null==t;return i&&r===yt||(i=!1,t=r(t,n,3)),i?ht(_a(e)?e:or(e)):Xt(e,t)}e=e?nt.defaults(tt.Object(),e,nt.pick(tt,je)):tt;var Lo=e.Array,Bo=e.Date,Oo=e.Error,Io=e.Function,Po=e.Math,$o=e.Number,jo=e.Object,No=e.RegExp,Uo=e.String,zo=e.TypeError,Wo=Lo.prototype,Ho=jo.prototype,Vo=Uo.prototype,qo=(qo=e.window)?qo.document:null,Go=Io.prototype.toString,Ko=Ho.hasOwnProperty,Yo=0,Xo=Ho.toString,Zo=e._,Qo=No("^"+oo(Go.call(Ko)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jo=Nn(e,"ArrayBuffer"),es=Nn(Jo&&new Jo(0),"slice"),ts=Po.ceil,ns=e.clearTimeout,rs=Po.floor,is=Nn(jo,"getPrototypeOf"),os=Wo.push,ss=Nn(e,"Set"),as=e.setTimeout,ls=Wo.splice,cs=Nn(e,"Uint8Array"),us=Nn(e,"WeakMap"),hs=function(){try{var t=Nn(e,"Float64Array"),n=new t(new Jo(10),0,1)&&t}catch(e){}return n||null}(),ds=Nn(jo,"create"),fs=Nn(Lo,"isArray"),ps=e.isFinite,gs=Nn(jo,"keys"),ms=Po.max,vs=Po.min,ys=Nn(Bo,"now"),bs=Nn($o,"isFinite"),ws=e.parseInt,Es=Po.random,Cs=$o.POSITIVE_INFINITY,xs=4294967295,_s=xs-1,As=xs>>>1,Ds=hs?hs.BYTES_PER_ELEMENT:0,Fs=9007199254740991,Ss=us&&new us,Ts={},Rs=t.support={};!function(e){var t=function(){this.x=e},n=[];t.prototype={valueOf:e,y:e};for(var r in new t)n.push(r);try{Rs.dom=11===qo.createDocumentFragment().nodeType}catch(e){Rs.dom=!1}}(1,0),t.templateSettings={escape:we,evaluate:Ee,interpolate:Ce,variable:"",imports:{_:t}};var ks=function(){function e(){}return function(t){if(Fi(t)){e.prototype=t;var n=new e;e.prototype=null}return n||{}}}(),Ms=un(Tt),Ls=un(Rt,!0),Bs=hn(),Os=hn(!0),Is=Ss?function(e,t){return Ss.set(e,t),e}:wo;es||(on=Jo&&cs?function(e){var t=e.byteLength,n=hs?rs(t/Ds):0,r=n*Ds,i=new Jo(t);if(n){var o=new hs(i,0,n);o.set(new hs(e,0,n))}return t!=r&&(o=new cs(i,r),o.set(new cs(e,r))),i}:bo(null));var Ps=ds&&ss?function(e){return new Xe(e)}:bo(null),$s=Ss?function(e){return Ss.get(e)}:Ao,js=Ut("length"),Ns=function(){var e=0,t=0;return function(n,r){var i=ha(),o=$-(i-t);if(t=i,o>0){if(++e>=P)return n}else e=0;return Is(n,r)}}(),Us=di(function(e,t){return qn(e)?Et(e,Ft(t,!1,!0)):[]}),zs=yn(),Ws=yn(!0),Hs=di(function(e){for(var t=e.length,n=t,r=Lo(h),i=$n(),s=i==o,a=[];n--;){var l=e[n]=qn(l=e[n])?l:[];r[n]=s&&l.length>=120?Ps(n&&l):null}var c=e[0],u=-1,h=c?c.length:0,d=r[0];e:for(;++u<h;)if(l=c[u],(d?Ze(d,l):i(a,l,0))<0){for(var n=t;--n;){var f=r[n];if((f?Ze(f,l):i(e[n],l,0))<0)continue e}d&&d.push(l),a.push(l)}return a}),Vs=di(function(e,t){t=Ft(t);var n=mt(e,t);return Wt(e,t.sort(r)),n}),qs=kn(),Gs=kn(!0),Ks=di(function(e){return Zt(Ft(e,!1,!0))}),Ys=di(function(e,t){return qn(e)?Et(e,t):[]}),Xs=di(Mr),Zs=di(function(e){var t=e.length,n=t>2?e[t-2]:_,r=t>1?e[t-1]:_;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):_,r=_),e.length=t,Lr(e,n,r)}),Qs=di(function(e,t){return mt(e,Ft(t))}),Js=ln(function(e,t,n){Ko.call(e,n)?++e[n]:e[n]=1}),ea=vn(Ms),ta=vn(Ls,!0),na=En(et,Ms),ra=En(rt,Ls),ia=ln(function(e,t,n){Ko.call(e,n)?e[n].push(t):e[n]=[t]}),oa=ln(function(e,t,n){e[n]=t}),sa=di(function(e,t,n){var r=-1,i="function"==typeof t,o=Yn(t),s=qn(e)?Lo(e.length):[];return Ms(e,function(e){var a=i?t:o&&null!=e?e[t]:null;s[++r]=a?a.apply(e,n):Vn(e,t,n)}),s}),aa=ln(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),la=Fn(lt,Ms),ca=Fn(ct,Ls),ua=di(function(e,t){if(null==e)return[];var n=t[2];return n&&Kn(t[0],t[1],n)&&(t.length=1),Yt(e,Ft(t),[])}),ha=ys||function(){return(new Bo).getTime()},da=di(function(e,t,n){var r=D;if(n.length){var i=y(n,da.placeholder);r|=k}return Mn(e,r,t,n,i)}),fa=di(function(e,t){t=t.length?Ft(t):zi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Mn(e[i],D,e)}return e}),pa=di(function(e,t,n){var r=D|F;if(n.length){var i=y(n,pa.placeholder);r|=k}return Mn(t,r,e,n,i)}),ga=gn(T),ma=gn(R),va=di(function(e,t){return wt(e,1,t)}),ya=di(function(e,t,n){return wt(e,t,n)}),ba=wn(),wa=wn(!0),Ea=Dn(k),Ca=Dn(M),xa=di(function(e,t){return Mn(e,B,null,null,null,Ft(t))}),_a=fs||function(e){return m(e)&&Zn(e.length)&&Xo.call(e)==V};Rs.dom||(xi=function(e){return!!e&&1===e.nodeType&&m(e)&&!Fa(e)});var Aa=bs||function(e){return"number"==typeof e&&ps(e)},Da=s(/x/)||cs&&!s(cs)?function(e){return Xo.call(e)==Y}:s,Fa=is?function(e){if(!e||Xo.call(e)!=Q)return!1;var t=Nn(e,"valueOf"),n=t&&(n=is(t))&&is(n);return n?e==n||is(e)==n:rr(e)}:rr,Sa=cn(function(e,t,n){return n?pt(e,t,n):gt(e,t)}),Ta=di(function(e){var t=e[0];return null==t?t:(e.push(dt),Sa.apply(_,e))}),Ra=bn(Tt),ka=bn(Rt),Ma=Cn(Bs),La=Cn(Os),Ba=xn(Tt),Oa=xn(Rt),Ia=gs?function(e){var t=null==e?null:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&qn(e)?ir(e):Fi(e)?gs(e):[]}:ir,Pa=_n(!0),$a=_n(),ja=cn(jt),Na=di(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=at(Ft(t),Uo);return er(e,Et(qi(e),t))}var n=rn(t[0],t[1],3);return tr(e,function(e,t,r){return!n(e,t,r)})}),Ua=di(function(e,t){return null==e?{}:"function"==typeof t[0]?tr(e,rn(t[0],t[1],3)):er(e,Ft(t))}),za=fn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Wa=fn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ha=An(),Va=An(!0);8!=ws($e+"08")&&(ao=function(e,t,n){return(n?Kn(e,t,n):null==t)?t=0:t&&(t=+t),e=ho(e),ws(e,t||(Me.test(e)?16:10))});var qa=fn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ga=fn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Ka=di(function(e,t){try{return e.apply(_,t)}catch(e){return Di(e)?e:new Oo(e)}}),Ya=di(function(e,t){return function(n){return Vn(n,e,t)}}),Xa=di(function(e,t){return function(n){return Vn(e,n,t)}}),Za=mn(yi,-(1/0)),Qa=mn(Pi,1/0);return t.prototype=n.prototype,v.prototype=ks(n.prototype),v.prototype.constructor=v,X.prototype=ks(n.prototype),X.prototype.constructor=X,Ve.prototype.delete=qe,Ve.prototype.get=Ge,Ve.prototype.has=Ke,Ve.prototype.set=Ye,Xe.prototype.push=Qe,ci.Cache=Ve,t.after=oi,t.ary=si,t.assign=Sa,t.at=Qs,t.before=ai,t.bind=da,t.bindAll=fa,t.bindKey=pa,t.callback=yo,t.chain=Ir,t.chunk=cr,t.compact=ur,t.constant=bo,t.countBy=Js,t.create=Ui,t.curry=ga,t.curryRight=ma,t.debounce=li,t.defaults=Ta,t.defer=va,t.delay=ya,t.difference=Us,t.drop=hr,t.dropRight=dr,t.dropRightWhile=fr,t.dropWhile=pr,t.fill=gr,t.filter=qr,t.flatten=vr,t.flattenDeep=yr,t.flow=ba,t.flowRight=wa,t.forEach=na,t.forEachRight=ra,t.forIn=Ma,t.forInRight=La,t.forOwn=Ba,t.forOwnRight=Oa,t.functions=zi,t.groupBy=ia,t.indexBy=oa,t.initial=wr,t.intersection=Hs,t.invert=Vi,t.invoke=sa,t.keys=Ia,t.keysIn=qi,t.map=Yr,t.mapKeys=Pa,t.mapValues=$a,t.matches=Eo,t.matchesProperty=Co,t.memoize=ci,t.merge=ja,t.method=Ya,t.methodOf=Xa,t.mixin=xo,t.negate=ui,t.omit=Na,t.once=hi,t.pairs=Gi,t.partial=Ea,t.partialRight=Ca,t.partition=aa,t.pick=Ua,t.pluck=Xr,t.property=Do,t.propertyOf=Fo,t.pull=xr,t.pullAt=Vs,t.range=So,t.rearg=xa,t.reject=Zr,t.remove=_r,t.rest=Ar,t.restParam=di,t.set=Yi,t.shuffle=Jr,t.slice=Dr,t.sortBy=ni,t.sortByAll=ua,t.sortByOrder=ri,t.spread=fi,t.take=Fr,t.takeRight=Sr,t.takeRightWhile=Tr,t.takeWhile=Rr,t.tap=Pr,t.throttle=pi,t.thru=$r,t.times=To,t.toArray=ji,t.toPlainObject=Ni,t.transform=Xi,t.union=Ks,t.uniq=kr,t.unzip=Mr,t.unzipWith=Lr,t.values=Zi,t.valuesIn=Qi,t.where=ii,t.without=Ys,t.wrap=gi,t.xor=Br,t.zip=Xs,t.zipObject=Or,t.zipWith=Zs,t.backflow=wa,t.collect=Yr,t.compose=wa,t.each=na,t.eachRight=ra,t.extend=Sa,t.iteratee=yo,t.methods=zi,t.object=Or,t.select=qr,t.tail=Ar,t.unique=kr,xo(t,t),t.add=ko,t.attempt=Ka,t.camelCase=za,t.capitalize=to,t.clone=mi,t.cloneDeep=vi,t.deburr=no,t.endsWith=ro,t.escape=io,t.escapeRegExp=oo,t.every=Vr,t.find=ea,t.findIndex=zs,t.findKey=Ra,t.findLast=ta,t.findLastIndex=Ws,t.findLastKey=ka,t.findWhere=Gr,t.first=mr,t.get=Wi,t.gt=yi,t.gte=bi,t.has=Hi,t.identity=wo,t.includes=Kr,t.indexOf=br,t.inRange=Ji,t.isArguments=wi,t.isArray=_a,t.isBoolean=Ei,t.isDate=Ci,t.isElement=xi,t.isEmpty=_i,t.isEqual=Ai,t.isError=Di,t.isFinite=Aa,t.isFunction=Da,t.isMatch=Si,t.isNaN=Ti,t.isNative=Ri,t.isNull=ki,t.isNumber=Mi,t.isObject=Fi,t.isPlainObject=Fa,t.isRegExp=Li,t.isString=Bi,t.isTypedArray=Oi,t.isUndefined=Ii,t.kebabCase=Wa,t.last=Er,t.lastIndexOf=Cr,t.lt=Pi,t.lte=$i,t.max=Za,t.min=Qa,t.noConflict=_o,t.noop=Ao,t.now=ha,t.pad=so,t.padLeft=Ha,t.padRight=Va,t.parseInt=ao,t.random=eo,t.reduce=la,t.reduceRight=ca,t.repeat=lo,t.result=Ki,t.runInContext=x,t.size=ei,t.snakeCase=qa,t.some=ti,t.sortedIndex=qs,t.sortedLastIndex=Gs,t.startCase=Ga,t.startsWith=co,t.sum=Mo,t.template=uo,t.trim=ho,t.trimLeft=fo,t.trimRight=po,t.trunc=go,t.unescape=mo,t.uniqueId=Ro,t.words=vo,t.all=Vr,t.any=ti,t.contains=Kr,t.eq=Ai,t.detect=ea,t.foldl=la,t.foldr=ca,t.head=mr,t.include=Kr,t.inject=la,xo(t,function(){var e={};return Tt(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=Qr,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Qr(t,e)}):Qr(this.value())},t.VERSION=A,et(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),et(["dropWhile","filter","map","takeWhile"],function(e,t){var n=t!=U,r=t==j;X.prototype[e]=function(e,i){var o=this.__filtered__,s=o&&r?new X(this):this.clone(),a=s.__iteratees__||(s.__iteratees__=[]);return a.push({done:!1,count:0,index:0,iteratee:In(e,i,1),limit:-1,type:t}),s.__filtered__=o||n,s}}),et(["drop","take"],function(e,t){var n=e+"While";X.prototype[e]=function(n){var r=this.__filtered__,i=r&&!t?this.dropWhile():this.clone();if(n=null==n?1:ms(rs(n)||0,0),r)t?i.__takeCount__=vs(i.__takeCount__,n):Er(i.__iteratees__).limit=n;else{var o=i.__views__||(i.__views__=[]);o.push({size:n,type:e+(i.__dir__<0?"Right":"")})}return i},X.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},X.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[n](e,t).reverse()}}),et(["first","last"],function(e,t){var n="take"+(t?"Right":"");X.prototype[e]=function(){return this[n](1).value()[0]}}),et(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");X.prototype[e]=function(){return this[n](1)}}),et(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Pt:Do;X.prototype[e]=function(e){return this[n](r(e))}}),X.prototype.compact=function(){return this.filter(wo)},X.prototype.reject=function(e,t){return e=In(e,t,1),this.filter(function(t){return!e(t)})},X.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return 0>e?n=this.takeRight(-e):e&&(n=this.drop(e)),t!==_&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n},X.prototype.toArray=function(){return this.drop(0)},Tt(X.prototype,function(e,n){var r=t[n];if(r){var i=/^(?:filter|map|reject)|While$/.test(n),o=/^(?:first|last)$/.test(n);t.prototype[n]=function(){var n=arguments,s=this.__chain__,a=this.__wrapped__,l=!!this.__actions__.length,c=a instanceof X,u=n[0],h=c||_a(a);h&&i&&"function"==typeof u&&1!=u.length&&(c=h=!1);var d=c&&!l;if(o&&!s)return d?e.call(a):r.call(t,this.value());var f=function(e){var i=[e];return os.apply(i,n),r.apply(t,i)};if(h){var p=d?a:new X(this),g=e.apply(p,n);if(!o&&(l||g.__actions__)){var m=g.__actions__||(g.__actions__=[]);m.push({func:$r,args:[f],thisArg:t})}return new v(g,s)}return this.thru(f)}}}),et(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?Vo:Wo)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Tt(X.prototype,function(e,n){var r=t[n];if(r){var i=r.name,o=Ts[i]||(Ts[i]=[]);o.push({name:n,func:r})}}),Ts[Sn(null,F).name]=[{name:"wrapper",func:null}],X.prototype.clone=ee,X.prototype.reverse=ne,X.prototype.value=He,t.prototype.chain=jr,t.prototype.commit=Nr,t.prototype.plant=Ur,t.prototype.reverse=zr,t.prototype.toString=Wr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Hr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var _,A="3.9.1",D=1,F=2,S=4,T=8,R=16,k=32,M=64,L=128,B=256,O=30,I="...",P=150,$=16,j=0,N=1,U=2,z="Expected a function",W="__lodash_placeholder__",H="[object Arguments]",V="[object Array]",q="[object Boolean]",G="[object Date]",K="[object Error]",Y="[object Function]",X="[object Map]",Z="[object Number]",Q="[object Object]",J="[object RegExp]",ee="[object Set]",te="[object String]",ne="[object WeakMap]",re="[object ArrayBuffer]",ie="[object Float32Array]",oe="[object Float64Array]",se="[object Int8Array]",ae="[object Int16Array]",le="[object Int32Array]",ce="[object Uint8Array]",ue="[object Uint8ClampedArray]",he="[object Uint16Array]",de="[object Uint32Array]",fe=/\b__p \+= '';/g,pe=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,me=/&(?:amp|lt|gt|quot|#39|#96);/g,ve=/[&<>"'`]/g,ye=RegExp(me.source),be=RegExp(ve.source),we=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,_e=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,De=/[.*+?^${}()|[\]\/\\]/g,Fe=RegExp(De.source),Se=/[\u0300-\u036f\ufe20-\ufe23]/g,Te=/\\(\\)?/g,Re=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ke=/\w*$/,Me=/^0[xX]/,Le=/^\[object .+?Constructor\]$/,Be=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Oe=/($^)/,Ie=/['\n\r\u2028\u2029\\]/g,Pe=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),$e=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",je=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Ne=-1,Ue={};Ue[ie]=Ue[oe]=Ue[se]=Ue[ae]=Ue[le]=Ue[ce]=Ue[ue]=Ue[he]=Ue[de]=!0,Ue[H]=Ue[V]=Ue[re]=Ue[q]=Ue[G]=Ue[K]=Ue[Y]=Ue[X]=Ue[Z]=Ue[Q]=Ue[J]=Ue[ee]=Ue[te]=Ue[ne]=!1;var ze={};ze[H]=ze[V]=ze[re]=ze[q]=ze[G]=ze[ie]=ze[oe]=ze[se]=ze[ae]=ze[le]=ze[Z]=ze[Q]=ze[J]=ze[te]=ze[ce]=ze[ue]=ze[he]=ze[de]=!0,ze[K]=ze[Y]=ze[X]=ze[ee]=ze[ne]=!1;var We={leading:!1,maxWait:0,trailing:!1},He={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},qe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ge={function:!0,object:!0},Ke={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ye=Ge[typeof n]&&n&&!n.nodeType&&n,Xe=Ge[typeof t]&&t&&!t.nodeType&&t,Ze=Ye&&Xe&&"object"==typeof e&&e&&e.Object&&e,Qe=Ge[typeof self]&&self&&self.Object&&self,Je=Ge[typeof window]&&window&&window.Object&&window,et=Xe&&Xe.exports===Ye&&Ye,tt=Ze||Je!==(this&&this.window)&&Je||Qe||this,nt=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(tt._=nt,define(function(){return nt})):Ye&&Xe?et?(Xe.exports=nt)._=nt:Ye._=nt:tt._=nt}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],277:[function(e,t,n){function r(){this.__data__={}}var i=e("./mapDelete"),o=e("./mapGet"),s=e("./mapHas"),a=e("./mapSet");r.prototype.delete=i,r.prototype.get=o,r.prototype.has=s,r.prototype.set=a,t.exports=r},{"./mapDelete":326,"./mapGet":327,"./mapHas":328,"./mapSet":329}],278:[function(e,t,n){(function(n){function r(e){var t=e?e.length:0;for(this.data={hash:a(null),set:new s};t--;)this.push(e[t])}var i=e("./cachePush"),o=e("./getNative"),s=o(n,"Set"),a=o(Object,"create");r.prototype.push=i,t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":306,"./getNative":317}],279:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}t.exports=r},{}],280:[function(e,t,n){function r(e,t){return void 0===e?t:e}t.exports=r},{}],281:[function(e,t,n){function r(e,t,n){for(var r=-1,o=i(t),s=o.length;++r<s;){var a=o[r],l=e[a],c=n(l,t[a],a,e,t);(c===c?c===l:l!==l)&&(void 0!==l||a in e)||(e[a]=c)}return e}var i=e("../object/keys");t.exports=r},{"../object/keys":342}],282:[function(e,t,n){function r(e,t){return null==t?e:i(t,o(t),e)}var i=e("./baseCopy"),o=e("../object/keys");t.exports=r},{"../object/keys":342,
"./baseCopy":284}],283:[function(e,t,n){function r(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:s(e,t,n):null==e?a:"object"==r?i(e):void 0===t?l(e):o(e,t)}var i=e("./baseMatches"),o=e("./baseMatchesProperty"),s=e("./bindCallback"),a=e("../utility/identity"),l=e("../utility/property");t.exports=r},{"../utility/identity":347,"../utility/property":349,"./baseMatches":297,"./baseMatchesProperty":298,"./bindCallback":304}],284:[function(e,t,n){function r(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}t.exports=r},{}],285:[function(e,t,n){function r(e,t){var n=e?e.length:0,r=[];if(!n)return r;var a=-1,l=i,c=!0,u=c&&t.length>=200?s(t):null,h=t.length;u&&(l=o,c=!1,t=u);e:for(;++a<n;){var d=e[a];if(c&&d===d){for(var f=h;f--;)if(t[f]===d)continue e;r.push(d)}else l(t,d,0)<0&&r.push(d)}return r}var i=e("./baseIndexOf"),o=e("./cacheIndexOf"),s=e("./createCache");t.exports=r},{"./baseIndexOf":293,"./cacheIndexOf":305,"./createCache":310}],286:[function(e,t,n){var r=e("./baseForOwn"),i=e("./createBaseEach"),o=i(r);t.exports=o},{"./baseForOwn":291,"./createBaseEach":308}],287:[function(e,t,n){function r(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}t.exports=r},{}],288:[function(e,t,n){function r(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}t.exports=r},{}],289:[function(e,t,n){function r(e,t,n){for(var l=-1,c=e.length,u=-1,h=[];++l<c;){var d=e[l];if(a(d)&&s(d)&&(n||o(d)||i(d))){t&&(d=r(d,t,n));for(var f=-1,p=d.length;++f<p;)h[++u]=d[f]}else n||(h[++u]=d)}return h}var i=e("../lang/isArguments"),o=e("../lang/isArray"),s=e("./isArrayLike"),a=e("./isObjectLike");t.exports=r},{"../lang/isArguments":333,"../lang/isArray":334,"./isArrayLike":319,"./isObjectLike":324}],290:[function(e,t,n){var r=e("./createBaseFor"),i=r();t.exports=i},{"./createBaseFor":309}],291:[function(e,t,n){function r(e,t){return i(e,t,o)}var i=e("./baseFor"),o=e("../object/keys");t.exports=r},{"../object/keys":342,"./baseFor":290}],292:[function(e,t,n){function r(e,t,n){if(null!=e){void 0!==n&&n in i(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&o>r;)e=e[t[r++]];return r&&r==o?e:void 0}}var i=e("./toObject");t.exports=r},{"./toObject":331}],293:[function(e,t,n){function r(e,t,n){if(t!==t)return i(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var i=e("./indexOfNaN");t.exports=r},{"./indexOfNaN":318}],294:[function(e,t,n){function r(e,t,n,s,a,l){return e===t?!0:null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:i(e,t,r,n,s,a,l)}var i=e("./baseIsEqualDeep"),o=e("../lang/isObject");t.exports=r},{"../lang/isObject":337,"./baseIsEqualDeep":295}],295:[function(e,t,n){function r(e,t,n,r,d,g,m){var v=a(e),y=a(t),b=u,w=u;v||(b=p.call(e),b==c?b=h:b!=h&&(v=l(e))),y||(w=p.call(t),w==c?w=h:w!=h&&(y=l(t)));var E=b==h,C=w==h,x=b==w;if(x&&!v&&!E)return o(e,t,b);if(!d){var _=E&&f.call(e,"__wrapped__"),A=C&&f.call(t,"__wrapped__");if(_||A)return n(_?e.value():e,A?t.value():t,r,d,g,m)}if(!x)return!1;g||(g=[]),m||(m=[]);for(var D=g.length;D--;)if(g[D]==e)return m[D]==t;g.push(e),m.push(t);var F=(v?i:s)(e,t,n,r,d,g,m);return g.pop(),m.pop(),F}var i=e("./equalArrays"),o=e("./equalByTag"),s=e("./equalObjects"),a=e("../lang/isArray"),l=e("../lang/isTypedArray"),c="[object Arguments]",u="[object Array]",h="[object Object]",d=Object.prototype,f=d.hasOwnProperty,p=d.toString;t.exports=r},{"../lang/isArray":334,"../lang/isTypedArray":338,"./equalArrays":312,"./equalByTag":313,"./equalObjects":314}],296:[function(e,t,n){function r(e,t,n){var r=t.length,s=r,a=!n;if(null==e)return!s;for(e=o(e);r--;){var l=t[r];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<s;){l=t[r];var c=l[0],u=e[c],h=l[1];if(a&&l[2]){if(void 0===u&&!(c in e))return!1}else{var d=n?n(u,h,c):void 0;if(!(void 0===d?i(h,u,n,!0):d))return!1}}return!0}var i=e("./baseIsEqual"),o=e("./toObject");t.exports=r},{"./baseIsEqual":294,"./toObject":331}],297:[function(e,t,n){function r(e){var t=o(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(void 0!==r||n in s(e))}}return function(e){return i(e,t)}}var i=e("./baseIsMatch"),o=e("./getMatchData"),s=e("./toObject");t.exports=r},{"./baseIsMatch":296,"./getMatchData":316,"./toObject":331}],298:[function(e,t,n){function r(e,t){var n=a(e),r=l(e)&&c(t),f=e+"";return e=d(e),function(a){if(null==a)return!1;var l=f;if(a=h(a),!(!n&&r||l in a)){if(a=1==e.length?a:i(a,s(e,0,-1)),null==a)return!1;l=u(e),a=h(a)}return a[l]===t?void 0!==t||l in a:o(t,a[l],void 0,!0)}}var i=e("./baseGet"),o=e("./baseIsEqual"),s=e("./baseSlice"),a=e("../lang/isArray"),l=e("./isKey"),c=e("./isStrictComparable"),u=e("../array/last"),h=e("./toObject"),d=e("./toPath");t.exports=r},{"../array/last":270,"../lang/isArray":334,"./baseGet":292,"./baseIsEqual":294,"./baseSlice":301,"./isKey":322,"./isStrictComparable":325,"./toObject":331,"./toPath":332}],299:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}t.exports=r},{}],300:[function(e,t,n){function r(e){var t=e+"";return e=o(e),function(n){return i(n,e,t)}}var i=e("./baseGet"),o=e("./toPath");t.exports=r},{"./baseGet":292,"./toPath":332}],301:[function(e,t,n){function r(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=void 0===n||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}t.exports=r},{}],302:[function(e,t,n){function r(e){return"string"==typeof e?e:null==e?"":e+""}t.exports=r},{}],303:[function(e,t,n){function r(e,t){var n=-1,r=i,a=e.length,l=!0,c=l&&a>=200,u=c?s():null,h=[];u?(r=o,l=!1):(c=!1,u=t?[]:h);e:for(;++n<a;){var d=e[n],f=t?t(d,n,e):d;if(l&&d===d){for(var p=u.length;p--;)if(u[p]===f)continue e;t&&u.push(f),h.push(d)}else r(u,f,0)<0&&((t||c)&&u.push(f),h.push(d))}return h}var i=e("./baseIndexOf"),o=e("./cacheIndexOf"),s=e("./createCache");t.exports=r},{"./baseIndexOf":293,"./cacheIndexOf":305,"./createCache":310}],304:[function(e,t,n){function r(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,s){return e.call(t,n,r,i,o,s)}}return function(){return e.apply(t,arguments)}}var i=e("../utility/identity");t.exports=r},{"../utility/identity":347}],305:[function(e,t,n){function r(e,t){var n=e.data,r="string"==typeof t||i(t)?n.set.has(t):n.hash[t];return r?0:-1}var i=e("../lang/isObject");t.exports=r},{"../lang/isObject":337}],306:[function(e,t,n){function r(e){var t=this.data;"string"==typeof e||i(e)?t.set.add(e):t.hash[e]=!0}var i=e("../lang/isObject");t.exports=r},{"../lang/isObject":337}],307:[function(e,t,n){function r(e){return s(function(t,n){var r=-1,s=null==t?0:n.length,a=s>2?n[s-2]:void 0,l=s>2?n[2]:void 0,c=s>1?n[s-1]:void 0;for("function"==typeof a?(a=i(a,c,5),s-=2):(a="function"==typeof c?c:void 0,s-=a?1:0),l&&o(n[0],n[1],l)&&(a=3>s?void 0:a,s=1);++r<s;){var u=n[r];u&&e(t,u,a)}return t})}var i=e("./bindCallback"),o=e("./isIterateeCall"),s=e("../function/restParam");t.exports=r},{"../function/restParam":275,"./bindCallback":304,"./isIterateeCall":321}],308:[function(e,t,n){function r(e,t){return function(n,r){var a=n?i(n):0;if(!o(a))return e(n,r);for(var l=t?a:-1,c=s(n);(t?l--:++l<a)&&r(c[l],l,c)!==!1;);return n}}var i=e("./getLength"),o=e("./isLength"),s=e("./toObject");t.exports=r},{"./getLength":315,"./isLength":323,"./toObject":331}],309:[function(e,t,n){function r(e){return function(t,n,r){for(var o=i(t),s=r(t),a=s.length,l=e?a:-1;e?l--:++l<a;){var c=s[l];if(n(o[c],c,o)===!1)break}return t}}var i=e("./toObject");t.exports=r},{"./toObject":331}],310:[function(e,t,n){(function(n){var r=e("./SetCache"),i=e("../utility/constant"),o=e("./getNative"),s=o(n,"Set"),a=o(Object,"create"),l=a&&s?function(e){return new r(e)}:i(null);t.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/constant":346,"./SetCache":278,"./getNative":317}],311:[function(e,t,n){function r(e,t){return function(n,r,l){if(r=i(r,l,3),a(n)){var c=s(n,r,t);return c>-1?n[c]:void 0}return o(n,r,e)}}var i=e("./baseCallback"),o=e("./baseFind"),s=e("./baseFindIndex"),a=e("../lang/isArray");t.exports=r},{"../lang/isArray":334,"./baseCallback":283,"./baseFind":287,"./baseFindIndex":288}],312:[function(e,t,n){function r(e,t,n,r,o,s,a){var l=-1,c=e.length,u=t.length;if(c!=u&&!(o&&u>c))return!1;for(;++l<c;){var h=e[l],d=t[l],f=r?r(o?d:h,o?h:d,l):void 0;if(void 0!==f){if(f)continue;return!1}if(o){if(!i(t,function(e){return h===e||n(h,e,r,o,s,a)}))return!1}else if(h!==d&&!n(h,d,r,o,s,a))return!1}return!0}var i=e("./arraySome");t.exports=r},{"./arraySome":279}],313:[function(e,t,n){function r(e,t,n){switch(n){case i:case o:return+e==+t;case s:return e.name==t.name&&e.message==t.message;case a:return e!=+e?t!=+t:e==+t;case l:case c:return e==t+""}return!1}var i="[object Boolean]",o="[object Date]",s="[object Error]",a="[object Number]",l="[object RegExp]",c="[object String]";t.exports=r},{}],314:[function(e,t,n){function r(e,t,n,r,o,a,l){var c=i(e),u=c.length,h=i(t),d=h.length;if(u!=d&&!o)return!1;for(var f=u;f--;){var p=c[f];if(!(o?p in t:s.call(t,p)))return!1}for(var g=o;++f<u;){p=c[f];var m=e[p],v=t[p],y=r?r(o?v:m,o?m:v,p):void 0;if(!(void 0===y?n(m,v,r,o,a,l):y))return!1;g||(g="constructor"==p)}if(!g){var b=e.constructor,w=t.constructor;if(b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w))return!1}return!0}var i=e("../object/keys"),o=Object.prototype,s=o.hasOwnProperty;t.exports=r},{"../object/keys":342}],315:[function(e,t,n){var r=e("./baseProperty"),i=r("length");t.exports=i},{"./baseProperty":299}],316:[function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;)t[n][2]=i(t[n][1]);return t}var i=e("./isStrictComparable"),o=e("../object/pairs");t.exports=r},{"../object/pairs":344,"./isStrictComparable":325}],317:[function(e,t,n){function r(e,t){var n=null==e?void 0:e[t];return i(n)?n:void 0}var i=e("../lang/isNative");t.exports=r},{"../lang/isNative":336}],318:[function(e,t,n){function r(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}t.exports=r},{}],319:[function(e,t,n){function r(e){return null!=e&&o(i(e))}var i=e("./getLength"),o=e("./isLength");t.exports=r},{"./getLength":315,"./isLength":323}],320:[function(e,t,n){function r(e,t){return e="number"==typeof e?e:parseFloat(e),t=null==t?i:t,e>-1&&e%1==0&&t>e}var i=9007199254740991;t.exports=r},{}],321:[function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;if("number"==r?i(n)&&o(t,n.length):"string"==r&&t in n){var a=n[t];return e===e?e===a:a!==a}return!1}var i=e("./isArrayLike"),o=e("./isIndex"),s=e("../lang/isObject");t.exports=r},{"../lang/isObject":337,"./isArrayLike":319,"./isIndex":320}],322:[function(e,t,n){function r(e,t){var n=typeof e;if("string"==n&&a.test(e)||"number"==n)return!0;if(i(e))return!1;var r=!s.test(e);return r||null!=t&&e in o(t)}var i=e("../lang/isArray"),o=e("./toObject"),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=r},{"../lang/isArray":334,"./toObject":331}],323:[function(e,t,n){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=9007199254740991;t.exports=r},{}],324:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}t.exports=r},{}],325:[function(e,t,n){function r(e){return e===e&&!i(e)}var i=e("../lang/isObject");t.exports=r},{"../lang/isObject":337}],326:[function(e,t,n){function r(e){return this.has(e)&&delete this.__data__[e]}t.exports=r},{}],327:[function(e,t,n){function r(e){return"__proto__"==e?void 0:this.__data__[e]}t.exports=r},{}],328:[function(e,t,n){function r(e){return"__proto__"!=e&&o.call(this.__data__,e)}var i=Object.prototype,o=i.hasOwnProperty;t.exports=r},{}],329:[function(e,t,n){function r(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}t.exports=r},{}],330:[function(e,t,n){function r(e){for(var t=l(e),n=t.length,r=n&&e.length,c=!!r&&a(r)&&(o(e)||i(e)),h=-1,d=[];++h<n;){var f=t[h];(c&&s(f,r)||u.call(e,f))&&d.push(f)}return d}var i=e("../lang/isArguments"),o=e("../lang/isArray"),s=e("./isIndex"),a=e("./isLength"),l=e("../object/keysIn"),c=Object.prototype,u=c.hasOwnProperty;t.exports=r},{"../lang/isArguments":333,"../lang/isArray":334,"../object/keysIn":343,"./isIndex":320,"./isLength":323}],331:[function(e,t,n){function r(e){return i(e)?e:Object(e)}var i=e("../lang/isObject");t.exports=r},{"../lang/isObject":337}],332:[function(e,t,n){function r(e){if(o(e))return e;var t=[];return i(e).replace(s,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t}var i=e("./baseToString"),o=e("../lang/isArray"),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;t.exports=r},{"../lang/isArray":334,"./baseToString":302}],333:[function(e,t,n){function r(e){return o(e)&&i(e)&&l.call(e)==s}var i=e("../internal/isArrayLike"),o=e("../internal/isObjectLike"),s="[object Arguments]",a=Object.prototype,l=a.toString;t.exports=r},{"../internal/isArrayLike":319,"../internal/isObjectLike":324}],334:[function(e,t,n){var r=e("../internal/getNative"),i=e("../internal/isLength"),o=e("../internal/isObjectLike"),s="[object Array]",a=Object.prototype,l=a.toString,c=r(Array,"isArray"),u=c||function(e){return o(e)&&i(e.length)&&l.call(e)==s};t.exports=u},{"../internal/getNative":317,"../internal/isLength":323,"../internal/isObjectLike":324}],335:[function(e,t,n){function r(e,t,n,r){n="function"==typeof n?o(n,r,3):void 0;var s=n?n(e,t):void 0;return void 0===s?i(e,t,n):!!s}var i=e("../internal/baseIsEqual"),o=e("../internal/bindCallback");t.exports=r},{"../internal/baseIsEqual":294,"../internal/bindCallback":304}],336:[function(e,t,n){function r(e){return null==e?!1:h.call(e)==s?d.test(c.call(e)):o(e)&&a.test(e)}var i=e("../string/escapeRegExp"),o=e("../internal/isObjectLike"),s="[object Function]",a=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,h=l.toString,d=RegExp("^"+i(c.call(u)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},{"../internal/isObjectLike":324,"../string/escapeRegExp":345}],337:[function(e,t,n){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=r},{}],338:[function(e,t,n){function r(e){return o(e)&&i(e.length)&&!!T[k.call(e)]}var i=e("../internal/isLength"),o=e("../internal/isObjectLike"),s="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",h="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",x="[object Int16Array]",_="[object Int32Array]",A="[object Uint8Array]",D="[object Uint8ClampedArray]",F="[object Uint16Array]",S="[object Uint32Array]",T={};T[w]=T[E]=T[C]=T[x]=T[_]=T[A]=T[D]=T[F]=T[S]=!0,T[s]=T[a]=T[b]=T[l]=T[c]=T[u]=T[h]=T[d]=T[f]=T[p]=T[g]=T[m]=T[v]=T[y]=!1;var R=Object.prototype,k=R.toString;t.exports=r},{"../internal/isLength":323,"../internal/isObjectLike":324}],339:[function(e,t,n){var r=e("../internal/assignWith"),i=e("../internal/baseAssign"),o=e("../internal/createAssigner"),s=o(function(e,t,n){return n?r(e,t,n):i(e,t)});t.exports=s},{"../internal/assignWith":281,"../internal/baseAssign":282,"../internal/createAssigner":307}],340:[function(e,t,n){var r=e("./assign"),i=e("../internal/assignDefaults"),o=e("../function/restParam"),s=o(function(e){var t=e[0];return null==t?t:(e.push(i),r.apply(void 0,e))});t.exports=s},{"../function/restParam":275,"../internal/assignDefaults":280,"./assign":339}],341:[function(e,t,n){t.exports=e("./assign")},{"./assign":339}],342:[function(e,t,n){var r=e("../internal/getNative"),i=e("../internal/isArrayLike"),o=e("../lang/isObject"),s=e("../internal/shimKeys"),a=r(Object,"keys"),l=a?function(e){var t=null==e?null:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?s(e):o(e)?a(e):[]}:s;t.exports=l},{"../internal/getNative":317,"../internal/isArrayLike":319,"../internal/shimKeys":330,"../lang/isObject":337}],343:[function(e,t,n){function r(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(o(e)||i(e))&&t||0;for(var n=e.constructor,r=-1,c="function"==typeof n&&n.prototype===e,h=Array(t),d=t>0;++r<t;)h[r]=r+"";for(var f in e)d&&s(f,t)||"constructor"==f&&(c||!u.call(e,f))||h.push(f);return h}var i=e("../lang/isArguments"),o=e("../lang/isArray"),s=e("../internal/isIndex"),a=e("../internal/isLength"),l=e("../lang/isObject"),c=Object.prototype,u=c.hasOwnProperty;t.exports=r},{"../internal/isIndex":320,"../internal/isLength":323,"../lang/isArguments":333,"../lang/isArray":334,"../lang/isObject":337}],344:[function(e,t,n){function r(e){e=o(e);for(var t=-1,n=i(e),r=n.length,s=Array(r);++t<r;){var a=n[t];s[t]=[a,e[a]]}return s}var i=e("./keys"),o=e("../internal/toObject");t.exports=r},{"../internal/toObject":331,"./keys":342}],345:[function(e,t,n){function r(e){return e=i(e),e&&s.test(e)?e.replace(o,"\\$&"):e}var i=e("../internal/baseToString"),o=/[.*+?^${}()|[\]\/\\]/g,s=RegExp(o.source);t.exports=r},{"../internal/baseToString":302}],346:[function(e,t,n){function r(e){return function(){return e}}t.exports=r},{}],347:[function(e,t,n){function r(e){return e}t.exports=r},{}],348:[function(e,t,n){function r(){}t.exports=r},{}],349:[function(e,t,n){function r(e){return s(e)?i(e):o(e)}var i=e("../internal/baseProperty"),o=e("../internal/basePropertyDeep"),s=e("../internal/isKey");t.exports=r},{"../internal/baseProperty":299,"../internal/basePropertyDeep":300,"../internal/isKey":322}],350:[function(e,t,n){(function(e){!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof n&&"object"==typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var r="undefined"!=typeof window?window:self,i=r.Q;r.Q=e(),r.Q.noConflict=function(){return r.Q=i,this}}}(function(){"use strict";function t(e){return function(){return K.apply(e,arguments)}}function n(e){return e===Object(e)}function r(e){return"[object StopIteration]"===ne(e)||e instanceof H}function i(e,t){if(z&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(re)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var i=n.join("\n"+re+"\n");e.stack=o(i)}}function o(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];l(i)||s(i)||!i||n.push(i)}return n.join("\n")}function s(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function a(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function l(e){var t=a(e);if(!t)return!1;var n=t[0],r=t[1];return n===W&&r>=V&&le>=r}function c(){if(z)try{throw new Error}catch(r){var e=r.stack.split("\n"),t=e[0].indexOf("@")>0?e[1]:e[2],n=a(t);if(!n)return;return W=n[0],n[1]}}function u(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}function h(e){return e instanceof g?e:b(e)?S(e):F(e)}function d(){function e(e){t=e,o.source=e,X(n,function(t,n){h.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],i=J(d.prototype),o=J(g.prototype);if(o.promiseDispatch=function(e,i,o){var s=Y(arguments);n?(n.push(s),"when"===i&&o[1]&&r.push(o[1])):h.nextTick(function(){t.promiseDispatch.apply(t,s)})},o.valueOf=function(){if(n)return o;var e=v(t);return y(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},h.longStackSupport&&z)try{throw new Error}catch(e){o.stack=e.stack.substring(e.stack.indexOf("\n")+1)}return i.promise=o,i.resolve=function(n){t||e(h(n))},i.fulfill=function(n){t||e(F(n))},i.reject=function(n){t||e(D(n))},i.notify=function(e){t||X(r,function(t,n){h.nextTick(function(){n(e)})},void 0)},i}function f(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=d();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function p(e){return f(function(t,n){for(var r=0,i=e.length;i>r;r++)h(e[r]).then(t,n)})}function g(e,t,n){void 0===t&&(t=function(e){return D(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=J(g.prototype);if(r.promiseDispatch=function(n,i,o){var s;try{s=e[i]?e[i].apply(r,o):t.call(r,i,o)}catch(e){s=D(e)}n&&n(s)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function m(e,t,n,r){return h(e).then(t,n,r)}function v(e){if(y(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function y(e){return e instanceof g}function b(e){return n(e)&&"function"==typeof e.then}function w(e){return y(e)&&"pending"===e.inspect().state}function E(e){return!y(e)||"fulfilled"===e.inspect().state}function C(e){return y(e)&&"rejected"===e.inspect().state}function x(){ie.length=0,oe.length=0,ae||(ae=!0)}function _(t,n){ae&&("object"==typeof e&&"function"==typeof e.emit&&h.nextTick.runAfter(function(){-1!==Z(oe,t)&&(e.emit("unhandledRejection",n,t),se.push(t))}),oe.push(t),n&&"undefined"!=typeof n.stack?ie.push(n.stack):ie.push("(no stack) "+n))}function A(t){if(ae){var n=Z(oe,t);-1!==n&&("object"==typeof e&&"function"==typeof e.emit&&h.nextTick.runAfter(function(){var r=Z(se,t);-1!==r&&(e.emit("rejectionHandled",ie[n],t),se.splice(r,1))}),oe.splice(n,1),ie.splice(n,1))}}function D(e){var t=g({when:function(t){return t&&A(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return _(t,e),t}function F(e){return g({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return te(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function S(e){var t=d();return h.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}),t.promise}function T(e){return g({isDef:function(){}},function(t,n){return O(e,t,n)},function(){return h(e).inspect()})}function R(e,t,n){return h(e).spread(t,n)}function k(e){return function(){function t(e,t){var s;if("undefined"==typeof StopIteration){try{s=n[e](t)}catch(e){return D(e)}return s.done?h(s.value):m(s.value,i,o)}try{s=n[e](t)}catch(e){return r(e)?h(e.value):D(e)}return m(s,i,o)}var n=e.apply(this,arguments),i=t.bind(t,"next"),o=t.bind(t,"throw");return i()}}function M(e){h.done(h.async(e)())}function L(e){throw new H(e)}function B(e){return function(){return R([this,I(arguments)],function(t,n){return e.apply(t,n)})}}function O(e,t,n){return h(e).dispatch(t,n)}function I(e){return m(e,function(e){var t=0,n=d();return X(e,function(r,i,o){var s;y(i)&&"fulfilled"===(s=i.inspect()).state?e[o]=s.value:(++t,m(i,function(r){e[o]=r,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:o,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function P(e){if(0===e.length)return h.resolve();var t=h.defer(),n=0;return X(e,function(r,i,o){function s(e){t.resolve(e)}function a(){n--,0===n&&t.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function l(e){t.notify({index:o,value:e})}var c=e[o];n++,m(c,s,a,l)},void 0),t.promise}function $(e){return m(e,function(e){return e=Q(e,h),m(I(Q(e,function(e){return m(e,q,q)})),function(){return e})})}function j(e){return h(e).allSettled()}function N(e,t){return h(e).then(void 0,void 0,t)}function U(e,t){return h(e).nodeify(t)}var z=!1;try{throw new Error}catch(e){z=!!e.stack}var W,H,V=c(),q=function(){},G=function(){function t(){for(var e,t;r.next;)r=r.next,e=r.task,r.task=void 0,t=r.domain,t&&(r.domain=void 0,t.enter()),n(e,t);for(;l.length;)e=l.pop(),n(e);o=!1}function n(e,n){try{e()}catch(e){if(a)throw n&&n.exit(),setTimeout(t,0),n&&n.enter(),e;setTimeout(function(){throw e},0)}n&&n.exit()}var r={task:void 0,next:null},i=r,o=!1,s=void 0,a=!1,l=[];if(G=function(t){i=i.next={task:t,domain:a&&e.domain,next:null},o||(o=!0,s())},"object"==typeof e&&"[object process]"===e.toString()&&e.nextTick)a=!0,s=function(){e.nextTick(t)};else if("function"==typeof setImmediate)s="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=function(){s=u,c.port1.onmessage=t,t()};var u=function(){c.port2.postMessage(0)};s=function(){setTimeout(t,0),u()}}else s=function(){setTimeout(t,0)};return G.runAfter=function(e){l.push(e),o||(o=!0,s())},G}(),K=Function.call,Y=t(Array.prototype.slice),X=t(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;r>n;n++)n in this&&(t=e(t,this[n],n));return t}),Z=t(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Q=t(Array.prototype.map||function(e,t){var n=this,r=[];return X(n,function(i,o,s){r.push(e.call(t,o,s,n))},void 0),r}),J=Object.create||function(e){function t(){}return t.prototype=e,new t},ee=t(Object.prototype.hasOwnProperty),te=Object.keys||function(e){var t=[];for(var n in e)ee(e,n)&&t.push(n);return t},ne=t(Object.prototype.toString);H="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var re="From previous event:";h.resolve=h,h.nextTick=G,h.longStackSupport=!1,"object"==typeof e&&e&&e.env&&e.env.Q_DEBUG&&(h.longStackSupport=!0),h.defer=d,d.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(Y(arguments,1)):e.resolve(n)}},h.Promise=f,h.promise=f,f.race=p,f.all=I,f.reject=D,f.resolve=h,h.passByCopy=function(e){return e},g.prototype.passByCopy=function(){return this},h.join=function(e,t){return h(e).join(t)},g.prototype.join=function(e){return h([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},h.race=p,g.prototype.race=function(){return this.then(h.race)},h.makePromise=g,g.prototype.toString=function(){return"[object Promise]"},g.prototype.then=function(e,t,n){function r(t){try{return"function"==typeof e?e(t):t}catch(e){return D(e)}}function o(e){if("function"==typeof t){i(e,a);try{return t(e)}catch(e){return D(e)}}return D(e)}function s(e){return"function"==typeof n?n(e):e}var a=this,l=d(),c=!1;return h.nextTick(function(){a.promiseDispatch(function(e){c||(c=!0,l.resolve(r(e)))},"when",[function(e){c||(c=!0,l.resolve(o(e)))}])}),a.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=s(e)}catch(e){if(n=!0,!h.onerror)throw e;h.onerror(e)}n||l.notify(t)}]),l.promise},h.tap=function(e,t){return h(e).tap(t)},g.prototype.tap=function(e){return e=h(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},h.when=m,g.prototype.thenResolve=function(e){return this.then(function(){return e})},h.thenResolve=function(e,t){return h(e).thenResolve(t)},g.prototype.thenReject=function(e){return this.then(function(){throw e})},h.thenReject=function(e,t){return h(e).thenReject(t)},h.nearer=v,h.isPromise=y,h.isPromiseAlike=b,h.isPending=w,g.prototype.isPending=function(){return"pending"===this.inspect().state},h.isFulfilled=E,g.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},h.isRejected=C,g.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ie=[],oe=[],se=[],ae=!0;h.resetUnhandledRejections=x,h.getUnhandledReasons=function(){return ie.slice()},h.stopUnhandledRejectionTracking=function(){x(),ae=!1},x(),h.reject=D,h.fulfill=F,h.master=T,h.spread=R,g.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},h.async=k,h.spawn=M,h.return=L,h.promised=B,h.dispatch=O,g.prototype.dispatch=function(e,t){var n=this,r=d();return h.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},h.get=function(e,t){return h(e).dispatch("get",[t])},g.prototype.get=function(e){return this.dispatch("get",[e])},h.set=function(e,t,n){return h(e).dispatch("set",[t,n])},g.prototype.set=function(e,t){return this.dispatch("set",[e,t])},h.del=h.delete=function(e,t){return h(e).dispatch("delete",[t])},g.prototype.del=g.prototype.delete=function(e){return this.dispatch("delete",[e])},h.mapply=h.post=function(e,t,n){return h(e).dispatch("post",[t,n])},g.prototype.mapply=g.prototype.post=function(e,t){return this.dispatch("post",[e,t])},h.send=h.mcall=h.invoke=function(e,t){return h(e).dispatch("post",[t,Y(arguments,2)])},g.prototype.send=g.prototype.mcall=g.prototype.invoke=function(e){return this.dispatch("post",[e,Y(arguments,1)])},h.fapply=function(e,t){return h(e).dispatch("apply",[void 0,t])},g.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},h.try=h.fcall=function(e){return h(e).dispatch("apply",[void 0,Y(arguments,1)])},g.prototype.fcall=function(){return this.dispatch("apply",[void 0,Y(arguments)])},h.fbind=function(e){var t=h(e),n=Y(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(Y(arguments))])}},g.prototype.fbind=function(){var e=this,t=Y(arguments);return function(){return e.dispatch("apply",[this,t.concat(Y(arguments))])}},h.keys=function(e){return h(e).dispatch("keys",[])},g.prototype.keys=function(){return this.dispatch("keys",[])},h.all=I,g.prototype.all=function(){return I(this)},h.any=P,g.prototype.any=function(){return P(this)},h.allResolved=u($,"allResolved","allSettled"),g.prototype.allResolved=function(){return $(this)},h.allSettled=j,g.prototype.allSettled=function(){return this.then(function(e){return I(Q(e,function(e){function t(){return e.inspect()}return e=h(e),e.then(t,t)}))})},h.fail=h.catch=function(e,t){return h(e).then(void 0,t)},g.prototype.fail=g.prototype.catch=function(e){return this.then(void 0,e)},h.progress=N,g.prototype.progress=function(e){return this.then(void 0,void 0,e)},h.fin=h.finally=function(e,t){return h(e).finally(t)},g.prototype.fin=g.prototype.finally=function(e){return e=h(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},h.done=function(e,t,n,r){return h(e).done(t,n,r)},g.prototype.done=function(t,n,r){var o=function(e){h.nextTick(function(){if(i(e,s),!h.onerror)throw e;h.onerror(e)})},s=t||n||r?this.then(t,n,r):this;"object"==typeof e&&e&&e.domain&&(o=e.domain.bind(o)),s.then(void 0,o)},h.timeout=function(e,t,n){return h(e).timeout(t,n)},g.prototype.timeout=function(e,t){var n=d(),r=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},h.delay=function(e,t){return void 0===t&&(t=e,e=void 0),h(e).delay(t)},g.prototype.delay=function(e){return this.then(function(t){var n=d();return setTimeout(function(){n.resolve(t)},e),n.promise})},h.nfapply=function(e,t){return h(e).nfapply(t)},g.prototype.nfapply=function(e){var t=d(),n=Y(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},h.nfcall=function(e){var t=Y(arguments,1);return h(e).nfapply(t)},g.prototype.nfcall=function(){var e=Y(arguments),t=d();return e.push(t.makeNodeResolver()),
this.fapply(e).fail(t.reject),t.promise},h.nfbind=h.denodeify=function(e){var t=Y(arguments,1);return function(){var n=t.concat(Y(arguments)),r=d();return n.push(r.makeNodeResolver()),h(e).fapply(n).fail(r.reject),r.promise}},g.prototype.nfbind=g.prototype.denodeify=function(){var e=Y(arguments);return e.unshift(this),h.denodeify.apply(void 0,e)},h.nbind=function(e,t){var n=Y(arguments,2);return function(){function r(){return e.apply(t,arguments)}var i=n.concat(Y(arguments)),o=d();return i.push(o.makeNodeResolver()),h(r).fapply(i).fail(o.reject),o.promise}},g.prototype.nbind=function(){var e=Y(arguments,0);return e.unshift(this),h.nbind.apply(void 0,e)},h.nmapply=h.npost=function(e,t,n){return h(e).npost(t,n)},g.prototype.nmapply=g.prototype.npost=function(e,t){var n=Y(t||[]),r=d();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},h.nsend=h.nmcall=h.ninvoke=function(e,t){var n=Y(arguments,2),r=d();return n.push(r.makeNodeResolver()),h(e).dispatch("post",[t,n]).fail(r.reject),r.promise},g.prototype.nsend=g.prototype.nmcall=g.prototype.ninvoke=function(e){var t=Y(arguments,1),n=d();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},h.nodeify=U,g.prototype.nodeify=function(e){return e?void this.then(function(t){h.nextTick(function(){e(null,t)})},function(t){h.nextTick(function(){e(t)})}):this},h.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var le=c();return h})}).call(this,e("_process"))},{_process:85}],351:[function(e,t,n){t.exports=e("./qajax")(e("q"),window.XMLHttpRequest,window.FormData)},{"./qajax":352,q:350}],352:[function(e,t,n){!function(e,r){"object"==typeof n?t.exports=r:"function"==typeof define&&define.amd?define(["q"],function(t){return r(t,e.XMLHttpRequest,e.FormData)}):e.Qajax=r(e.Q,e.XMLHttpRequest,e.FormData)}(this,function(e,t,n){"use strict";function r(){}function i(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}function o(e){return-1===e.indexOf("?")}function s(e){var t={};if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function a(t,r){if(0===arguments.length)throw new Error("Qajax: settings are required");var a;if("string"==typeof t)a="object"==typeof r&&r||{},a.url=t;else{if("object"!=typeof t)throw new Error("Qajax: settings must be an object");a=t}if(!a.url)throw new Error("Qajax: settings.url is required");if("cancellation"in a&&!e.isPromiseAlike(a.cancellation))throw new Error("cancellation must be a Promise.");this.headers=s(this.headers),this.params={};for(var l in a)this[l]=a[l];var u=this.params,h=this.cache;h&&(u[h===!0?"_":h]=(new Date).getTime());var d=this.base+this.url,f=i(u);f&&(d=d+(o(d)?"?":"&")+f),this.url=d;var p=this.data,g=this.headers;null===p||"object"!=typeof p||n&&p instanceof n||(c in g||(g[c]="application/json"),this.data=JSON.stringify(p));var m=this._send,v=this;this.send=function(){return e.fcall(function(){return m.call(v)})}}function l(e,t){return new a(e,t).send()}var c="Content-Type",u=e.defer().promise;return a.prototype={log:r,timeout:6e4,cache:"undefined"==typeof window?!1:!!(window.ActiveXObject||"ActiveXObject"in window),method:"GET",base:"",withCredentials:!1,cancellation:u,_send:function(){var n=new t,r=e.defer(),i=this.log,o=this.method,s=this.url;n.onreadystatechange=function(){if(4===n.readyState)try{i(o+" "+s+" => "+n.status),n.status?r.resolve(n):r.reject(n)}catch(e){r.reject(n)}},n.onprogress=function(e){r.notify(e)},n.open(o,s,!0),this.responseType&&(n.responseType=this.responseType);var a=this.headers;for(var l in a)a.hasOwnProperty(l)&&n.setRequestHeader(l,a[l]);this.withCredentials&&(n.withCredentials=!0);var c=this.data;return void 0!==c&&null!==c?n.send(c):n.send(),this.cancellation.fin(function(){r.promise.isFulfilled()||(i("Qajax cancellation reached."),n.abort())}),this.timeout?r.promise.timeout(this.timeout).fail(function(e){throw e instanceof Error&&(i("Qajax request delay reach in "+o+" "+s),n.abort()),n}):r.promise}},l.defaults=a.prototype,l.Builder=a,l.filterStatus=function(t){var n,r,i=this.log;if(r=typeof t,"function"===r)n=t;else{if("number"!==r)throw"validStatus type "+r+" unsupported";n=function(e){return e===t}}return function(t){var r=0;try{r=t.status}catch(e){i("Qajax: failed to read xhr.status")}return 1223===r&&(r=204),n(r)?e.resolve(t):e.reject(t)}},l.filterSuccess=l.filterStatus(function(e){return e>=200&&300>e||304===e}),l.toJSON=function(t){return e.fcall(function(){return JSON.parse(t.responseText)})},l.getJSON=function(e){return l({url:e,method:"GET"}).then(l.filterSuccess).then(l.toJSON)},l.serialize=i,l})},{}],353:[function(e,t,n){for(var r=e("performance-now"),i="undefined"==typeof window?{}:window,o=["moz","webkit"],s="AnimationFrame",a=i["request"+s],l=i["cancel"+s]||i["cancelRequest"+s],c=!0,u=0;u<o.length&&!a;u++)a=i[o[u]+"Request"+s],l=i[o[u]+"Cancel"+s]||i[o[u]+"CancelRequest"+s];if(!a||!l){c=!1;var h=0,d=0,f=[],p=1e3/60;a=function(e){if(0===f.length){var t=r(),n=Math.max(0,p-(t-h));h=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(h)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}t.exports=function(e){return c?a.call(i,function(){try{e.apply(this,arguments)}catch(e){setTimeout(function(){throw e},0)}}):a.call(i,e)},t.exports.cancel=function(){l.apply(i,arguments)}},{"performance-now":354}],354:[function(e,t,n){(function(e){(function(){var n,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-i)/1e6},r=e.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},i=n()):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:85}],355:[function(e,t,n){"use strict";var r=e("../dispatcher/DragDropDispatcher"),i=e("../constants/DragDropActionTypes"),o={startDragging:function(e,t,n,o,s){r.handleAction({type:i.DRAG_START,itemType:e,item:t,effectsAllowed:n,offsetFromClient:o,offsetFromContainer:s})},drag:function(e){r.handleAction({type:i.DRAG,offsetFromClient:e})},recordDrop:function(e){r.handleAction({type:i.DROP,dropEffect:e})},endDragging:function(){r.handleAction({type:i.DRAG_END})}};t.exports=o},{"../constants/DragDropActionTypes":358,"../dispatcher/DragDropDispatcher":363}],356:[function(e,t,n){"use strict";function r(e){if(e.nodeType!==S&&(e=e.parentElement),!e)return null;var t=e.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}function i(e){return{x:e.clientX,y:e.clientY}}function o(){if(!m){var e=r(f);m=!D(g,e)}return m}function s(){if(p&&!document.body.contains(f)){var e=b.getDraggedItemType();p.handleDragEnd(e,null)}}function a(){var e=b.getDraggedItemType();return _(e)}function l(e){b.isDragging()||(x(e)?y.startDragging(w.URL,null):e.preventDefault())}function c(e){e.preventDefault();var t=T.enter(e.target);t&&!b.isDragging()&&(C(e)?y.startDragging(w.FILE,null):x(e)&&y.startDragging(w.URL,null))}function u(e){a()&&e.preventDefault();var t=i(e);y.drag(t),v&&(e.dataTransfer.dropEffect=v,v=null),f&&F()&&o()&&e.preventDefault()}function h(e){a()&&e.preventDefault();var t=T.leave(e.target);t&&a()&&y.endDragging()}function d(e){a()&&e.preventDefault(),T.reset(),a()&&y.endDragging(),s()}var f,p,g,m,v,y=e("../actions/DragDropActionCreators"),b=e("../stores/DragOperationStore"),w=e("../constants/NativeDragItemTypes"),E=e("../utils/EnterLeaveMonitor"),C=e("../utils/isFileDragDropEvent"),x=e("../utils/isUrlDragDropEvent"),_=e("../utils/isNativeDraggedItemType"),A=e("../utils/configureDataTransfer"),D=e("react/lib/shallowEqual"),F=e("../utils/isWebkit"),S=1,T=new E,R={setup:function(){"undefined"!=typeof window&&(window.addEventListener("dragstart",l),window.addEventListener("dragenter",c,!0),window.addEventListener("dragleave",h,!0),window.addEventListener("dragover",u),window.addEventListener("drop",d))},teardown:function(){"undefined"!=typeof window&&(window.removeEventListener("dragstart",l),window.removeEventListener("dragenter",c,!0),window.removeEventListener("dragleave",h,!0),window.removeEventListener("dragover",u),window.removeEventListener("drop",d))},beginDrag:function(e,t,n,i,o,a,l){var c=t.nativeEvent,u=c.dataTransfer,h=c.target;A(u,n,i,o,a,l),p=e,f=h,g=r(h),m=!1,window.addEventListener("mousemove",s,!0)},endDrag:function(){f=null,p=null,g=null,m=!1,window.removeEventListener("mousemove",s,!0)},dragOver:function(e,t,n){v||(v=n)},getDragSourceProps:function(e,t){return{draggable:!0,onDragStart:e.handleDragStart.bind(e,t),onDragEnd:e.handleDragEnd.bind(e,t)}},getDropTargetProps:function(e,t){return{onDragEnter:e.handleDragEnter.bind(e,t),onDragOver:e.handleDragOver.bind(e,t),onDragLeave:e.handleDragLeave.bind(e,t),onDrop:e.handleDrop.bind(e,t)}},getOffsetFromClient:function(e,t){return i(t)}};t.exports=R},{"../actions/DragDropActionCreators":355,"../constants/NativeDragItemTypes":361,"../stores/DragOperationStore":368,"../utils/EnterLeaveMonitor":372,"../utils/configureDataTransfer":373,"../utils/isFileDragDropEvent":381,"../utils/isNativeDraggedItemType":383,"../utils/isUrlDragDropEvent":385,"../utils/isWebkit":386,"react/lib/shallowEqual":557}],357:[function(e,t,n){"use strict";t.exports={HTML5:e("./HTML5")}},{"./HTML5":356}],358:[function(e,t,n){"use strict";var r=e("react/lib/keyMirror"),i=r({DRAG_START:null,DRAG_END:null,DRAG:null,DROP:null});t.exports=i},{"react/lib/keyMirror":547}],359:[function(e,t,n){"use strict";var r={COPY:"copy",MOVE:"move",LINK:"link"};t.exports=r},{}],360:[function(e,t,n){"use strict";var r=e("react/lib/keyMirror"),i=r({LEFT:null,CENTER:null,RIGHT:null});t.exports=i},{"react/lib/keyMirror":547}],361:[function(e,t,n){"use strict";var r={FILE:"__NATIVE_FILE__",URL:"__NATIVE_URL__"};t.exports=r},{}],362:[function(e,t,n){"use strict";var r=e("react/lib/keyMirror"),i=r({TOP:null,CENTER:null,BOTTOM:null});t.exports=i},{"react/lib/keyMirror":547}],363:[function(e,t,n){"use strict";var r=e("flux").Dispatcher,i=e("react/lib/Object.assign"),o=i(new r,{handleAction:function(e){this.dispatch({action:e})}});t.exports=o},{flux:388,"react/lib/Object.assign":419}],364:[function(e,t,n){"use strict";var r=e("./backends"),i=r.HTML5,o=e("./utils/createDragDropMixin");t.exports={DragDropMixin:o(i),ImagePreloaderMixin:e("./mixins/ImagePreloaderMixin"),DragLayerMixin:e("./mixins/DragLayerMixin"),HorizontalDragAnchors:e("./constants/HorizontalDragAnchors"),VerticalDragAnchors:e("./constants/VerticalDragAnchors"),NativeDragItemTypes:e("./constants/NativeDragItemTypes"),DropEffects:e("./constants/DropEffects")}},{"./backends":357,"./constants/DropEffects":359,"./constants/HorizontalDragAnchors":360,"./constants/NativeDragItemTypes":361,"./constants/VerticalDragAnchors":362,"./mixins/DragLayerMixin":365,"./mixins/ImagePreloaderMixin":366,"./utils/createDragDropMixin":374}],365:[function(e,t,n){"use strict";var r=e("../stores/DragOperationStore"),i=e("../stores/DragOffsetStore"),o={getInitialState:function(){return this.getStateForDragLayerMixin()},getDragLayerState:function(){var e=this.state,t=e.isDragging,n=e.draggedItemType,r=e.draggedItem,i=e.initialOffset,o=e.currentOffset,s=e.currentOffsetFromClient,a=e.initialOffsetFromClient,l=e.initialOffsetFromContainer;return{isDragging:t,draggedItemType:n,draggedItem:r,initialOffset:i,currentOffset:o,currentOffsetFromClient:s,initialOffsetFromClient:a,initialOffsetFromContainer:l}},getStateForDragLayerMixin:function(){var e=i.getInitialOffsetFromClient(),t=i.getCurrentOffsetFromClient(),n=i.getInitialOffsetFromContainer(),o=!1,s=null,a=null,l=null,c=null;return e&&t&&(o=!0,s=r.getDraggedItemType(),a=r.getDraggedItem(),l={x:e.x-n.x,y:e.y-n.y},c={x:t.x-n.x,y:t.y-n.y}),{isDragging:o,draggedItemType:s,draggedItem:a,initialOffset:l,currentOffset:c,currentOffsetFromClient:t,initialOffsetFromClient:e,initialOffsetFromContainer:n}},handleStoreChangeInDragLayerMixin:function(){this.isMounted()&&this.setState(this.getStateForDragLayerMixin())},componentDidMount:function(){i.addChangeListener(this.handleStoreChangeInDragLayerMixin),r.addChangeListener(this.handleStoreChangeInDragLayerMixin)},componentWillUnmount:function(){i.removeChangeListener(this.handleStoreChangeInDragLayerMixin),r.removeChangeListener(this.handleStoreChangeInDragLayerMixin)}};t.exports=o},{"../stores/DragOffsetStore":367,"../stores/DragOperationStore":368}],366:[function(e,t,n){"use strict";var r=e("../utils/getDragImageScale"),i="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o={componentDidMount:function(){this._cachedImages={},this._readyImages={},this.preloadImages()},componentDidUpdate:function(){this.preloadImages()},componentWillUnmount:function(){for(var e in this._cachedImages)this._cachedImages[e].src=i;this._cachedImages={}},hasPreloadedImage:function(e){return!!this._readyImages[e]},getPreloadedImage:function(e){return this.hasPreloadedImage(e)?this._cachedImages[e]:void 0},preloadImages:function(){var e=this.getImageUrlsToPreload();e.forEach(this.preloadImage)},preloadImage:function(e){var t=this;if(e&&!this._cachedImages[e]){var n=new Image;n.onload=function(){t.isMounted()&&(t._readyImages[e]=!0)},n.onerror=function(){t.isMounted()&&delete t._cachedImages[e]},n.src=e,this._cachedImages[e]=n}},getDragImageScale:r};t.exports=o},{"../utils/getDragImageScale":380}],367:[function(e,t,n){"use strict";var r=e("../dispatcher/DragDropDispatcher"),i=e("../constants/DragDropActionTypes"),o=e("../utils/createStore"),s=null,a=null,l=null,c=o({getInitialOffsetFromContainer:function(){return s},getInitialOffsetFromClient:function(){return a},getCurrentOffsetFromClient:function(){return l}});c.dispatchToken=r.register(function(e){var t=e.action;switch(t.type){case i.DRAG_START:s=t.offsetFromContainer,a=t.offsetFromClient,l=t.offsetFromClient,c.emitChange();break;case i.DRAG:l=t.offsetFromClient,c.emitChange();break;case i.DRAG_END:s=null,a=null,l=null,c.emitChange()}}),t.exports=c},{"../constants/DragDropActionTypes":358,"../dispatcher/DragDropDispatcher":363,"../utils/createStore":375}],368:[function(e,t,n){"use strict";var r=e("../dispatcher/DragDropDispatcher"),i=e("../constants/DragDropActionTypes"),o=e("../stores/DragOffsetStore"),s=e("../utils/createStore"),a=null,l=null,c=null,u=null,h=s({isDragging:function(){return!!a},getEffectsAllowed:function(){return c},getDropEffect:function(){return u},getDraggedItem:function(){return a},getDraggedItemType:function(){return l}});h.dispatchToken=r.register(function(e){r.waitFor([o.dispatchToken]);var t=e.action;switch(t.type){case i.DRAG_START:u=null,a=t.item,l=t.itemType,c=t.effectsAllowed,h.emitChange();break;case i.DROP:u=t.dropEffect,h.emitChange();break;case i.DRAG_END:a=null,l=null,c=null,u=null,h.emitChange()}}),t.exports=h},{"../constants/DragDropActionTypes":358,"../dispatcher/DragDropDispatcher":363,"../stores/DragOffsetStore":367,"../utils/createStore":375}],369:[function(e,t,n){"use strict";var r=e("react/lib/invariant"),i=e("lodash/utility/noop"),o={canDrag:function(){return!0},beginDrag:function(){r(!1,"Drag source must contain a method called beginDrag. See https://github.com/gaearon/react-dnd#drag-source-api")},endDrag:i};t.exports=o},{"lodash/utility/noop":348,"react/lib/invariant":541}],370:[function(e,t,n){"use strict";var r=e("lodash/utility/noop"),i={canDrop:function(){return!0},getDropEffect:function(e,t){return t[0]},enter:r,over:r,leave:r,acceptDrop:r};t.exports=i},{"lodash/utility/noop":348}],371:[function(e,t,n){"use strict";var r=e("../stores/DragOffsetStore"),i={getCurrentOffsetDelta:function(){var e=r.getInitialOffsetFromClient(),t=r.getCurrentOffsetFromClient();return{x:t.x-e.x,y:t.y-e.y}},getInitialOffsetFromClient:function(){return r.getInitialOffsetFromClient()},getCurrentOffsetFromClient:function(){return r.getCurrentOffsetFromClient()},getInitialOffsetFromContainer:function(){return r.getInitialOffsetFromContainer()}};t.exports=i},{"../stores/DragOffsetStore":367}],372:[function(e,t,n){"use strict";var r=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=e("lodash/array/union"),s=e("lodash/array/without"),a=function(){function e(){i(this,e),this._entered=[]}return r(e,null,{enter:{value:function(e){return this._entered=o(this._entered.filter(function(t){return document.body.contains(t)&&(!t.contains||t.contains(e))}),[e]),1===this._entered.length},writable:!0,configurable:!0},leave:{value:function(e){return this._entered=s(this._entered.filter(function(e){return document.body.contains(e)}),e),0===this._entered.length},writable:!0,configurable:!0},reset:{value:function(){this._entered=[]},writable:!0,configurable:!0}}),e}();t.exports=a},{"lodash/array/union":271,"lodash/array/without":272}],373:[function(e,t,n){"use strict";function r(e,t,n,r,a,l){try{e.setData("application/json",{})}catch(e){}if(i(n)&&e.setDragImage){var c=o(t,n,r,a);e.setDragImage(n,c.x,c.y)}e.effectAllowed=s(l)}var i=e("./shouldUseDragPreview"),o=e("./getDragImageOffset"),s=e("./getBrowserEffectAllowed");t.exports=r},{"./getBrowserEffectAllowed":378,"./getDragImageOffset":379,"./shouldUseDragPreview":387}],374:[function(e,t,n){"use strict";function r(e,t){m(t&&("string"==typeof t||"symbol"==typeof t),"Expected item type to be a non-empty string or a symbol. See %s",e.constructor.displayName)}function i(e,t){var n=e.constructor.displayName;m(e._dragSources[t],'There is no drag source for "%s" registered in %s. Have you forgotten to register it? See configureDragDrop in %s',t,n,n)}function o(e,t){var n=e.constructor.displayName;m(e._dropTargets[t],'There is no drop target for "%s" registered in %s. Have you forgotten to register it? See configureDragDrop in %s',t,n,n)}function s(e){function t(t){0===s&&e.setup(t),s++}function n(t){s--,0===s&&e.teardown(t)}var s=0;return{getInitialState:function(){var e={ownDraggedItemType:null,currentDropEffect:null};return v(e,this.getStateForDragDropMixin())},getActiveDropTargetType:function(){var e=this.state,t=e.draggedItemType,n=e.draggedItem,r=e.ownDraggedItemType,i=this._dropTargets[t];if(!i)return null;if(t===r)return null;var o=i.canDrop;return o(this,n)?t:null},isAnyDropTargetActive:function(e){return e.indexOf(this.getActiveDropTargetType())>-1},getStateForDragDropMixin:function(){return{draggedItem:l.getDraggedItem(),draggedItemType:l.getDraggedItemType()}},getDragState:function(e){return r(this,e),i(this,e),{isDragging:this.state.ownDraggedItemType===e}},getDropState:function(e){r(this,e),o(this,e);var t=this.getActiveDropTargetType()===e,n=!!this.state.currentDropEffect;return{isDragging:t,isHovering:t&&n}},componentWillMount:function(){this._monitor=new u,this._dragSources={},this._dropTargets={},m(this.constructor.configureDragDrop,"%s must implement static configureDragDrop(register, context) to use DragDropMixin",this.constructor.displayName),this.constructor.configureDragDrop(this.registerDragDropItemTypeHandlers,c)},componentDidMount:function(){t(this),l.addChangeListener(this.handleStoreChangeInDragDropMixin)},componentWillUnmount:function(){n(this),l.removeChangeListener(this.handleStoreChangeInDragDropMixin)},registerDragDropItemTypeHandlers:function(e,t){r(this,e);var n=t.dragSource,i=t.dropTarget;n&&(m(!this._dragSources[e],"Drag source for %s specified twice. See configureDragDrop in %s",e,this.constructor.displayName),this._dragSources[e]=y(n,d)),i&&(m(!this._dropTargets[e],"Drop target for %s specified twice. See configureDragDrop in %s",e,this.constructor.displayName),this._dropTargets[e]=y(i,f))},handleStoreChangeInDragDropMixin:function(){this.isMounted()&&this.setState(this.getStateForDragDropMixin())},dragSourceFor:function(t){return r(this,t),i(this,t),e.getDragSourceProps(this,t)},handleDragStart:function(t,n){var r=this,i=this._dragSources[t],o=i.canDrag,s=i.beginDrag;if(!l.isDragging()&&o(this)){var c,u=s(this),d=u.item,f=u.dragPreview,p=u.dragAnchors,g=u.effectsAllowed,v=this.getDOMNode(),y=v.getBoundingClientRect(),E=e.getOffsetFromClient(this,n);c={x:E.x-y.left,y:E.y-y.top},f||(f=v),g||(g=[h.MOVE]),m(b(g)&&g.length>0,"Expected effectsAllowed to be non-empty array"),m(w(d),'Expected return value of beginDrag to contain "item" object'),e.beginDrag(this,n,v,f,p,c,g),a.startDragging(t,d,g,E,c),setTimeout(function(){r.isMounted()&&l.getDraggedItem()===d&&r.setState({ownDraggedItemType:t})})}},handleDragEnd:function(t){e.endDrag(this);var n=this._dragSources[t].endDrag,r=l.getDropEffect();a.endDragging(),this.isMounted()&&this.setState({ownDraggedItemType:null}),n(this,r)},dropTargetFor:function(){for(var t=this,n=arguments.length,i=Array(n),s=0;n>s;s++)i[s]=arguments[s];return i.forEach(function(e){r(t,e),o(t,e)}),e.getDropTargetProps(this,i)},handleDragEnter:function(e,t){if(this.isAnyDropTargetActive(e)&&this._monitor.enter(t.target)){t.preventDefault();var n=this._dropTargets[this.state.draggedItemType],r=n.enter,i=n.getDropEffect,o=l.getEffectsAllowed(),s=l.getDraggedItemType();g(s)&&(o=[h.COPY]);var a=i(this,o);a&&m(o.indexOf(a)>-1,"Effect %s supplied by drop target is not one of the effects allowed by drag source: %s",a,o.join(", ")),this.setState({currentDropEffect:a}),r(this,this.state.draggedItem)}},handleDragOver:function(t,n){if(this.isAnyDropTargetActive(t)){n.preventDefault();var r=this._dropTargets[this.state.draggedItemType].over;r(this,this.state.draggedItem),e.dragOver(this,n,this.state.currentDropEffect||"move")}},handleDragLeave:function(e,t){if(this.isAnyDropTargetActive(e)&&this._monitor.leave(t.target)){this.setState({currentDropEffect:null});var n=this._dropTargets[this.state.draggedItemType].leave;n(this,this.state.draggedItem)}},handleDrop:function(e,t){if(this.isAnyDropTargetActive(e)){t.preventDefault();var n=this.state.draggedItem,r=this._dropTargets[this.state.draggedItemType].acceptDrop,i=this.state.currentDropEffect,o=!!l.getDropEffect();n||(n=p(t)),this._monitor.reset(),o||a.recordDrop(i),this.setState({currentDropEffect:null}),r(this,n,o,l.getDropEffect())}}}}var a=e("../actions/DragDropActionCreators"),l=e("../stores/DragOperationStore"),c=e("../utils/DragDropContext"),u=e("./EnterLeaveMonitor"),h=e("../constants/DropEffects"),d=e("./DefaultDragSource"),f=e("./DefaultDropTarget"),p=e("../utils/extractNativeItem"),g=e("../utils/isNativeDraggedItemType"),m=e("react/lib/invariant"),v=e("react/lib/Object.assign"),y=e("lodash/object/defaults"),b=e("lodash/lang/isArray"),w=e("lodash/lang/isObject");t.exports=s},{"../actions/DragDropActionCreators":355,"../constants/DropEffects":359,"../stores/DragOperationStore":368,"../utils/DragDropContext":371,"../utils/extractNativeItem":377,"../utils/isNativeDraggedItemType":383,"./DefaultDragSource":369,"./DefaultDropTarget":370,"./EnterLeaveMonitor":372,"lodash/lang/isArray":334,"lodash/lang/isObject":337,"lodash/object/defaults":340,"react/lib/Object.assign":419,"react/lib/invariant":541}],375:[function(e,t,n){"use strict";function r(e){var t=o({emitChange:function(){this.emit(s)},addChangeListener:function(e){this.on(s,e)},removeChangeListener:function(e){this.removeListener(s,e)}},e,i.prototype);return t.setMaxListeners(0),t}var i=e("events").EventEmitter,o=e("react/lib/Object.assign"),s="change";t.exports=r},{events:82,"react/lib/Object.assign":419}],376:[function(e,t,n){"use strict";function r(e,t){return-1!==e.indexOf(t,e.length-t.length)}t.exports=r},{}],377:[function(e,t,n){"use strict";function r(e){return i(e)?{files:Array.prototype.slice.call(e.dataTransfer.files)}:o(e)?{urls:(e.dataTransfer.getData("Url")||e.dataTransfer.getData("text/uri-list")||"").split("\n")}:void 0}var i=e("./isFileDragDropEvent"),o=e("./isUrlDragDropEvent");t.exports=r},{"./isFileDragDropEvent":381,"./isUrlDragDropEvent":385}],378:[function(e,t,n){"use strict";function r(e){var t=e.indexOf(i.COPY)>-1,n=e.indexOf(i.MOVE)>-1,r=e.indexOf(i.LINK)>-1;return t&&n&&r?"all":t&&n?"copyMove":r&&n?"linkMove":t&&r?"copyLink":t?"copy":n?"move":r?"link":"none"}var i=e("../constants/DropEffects");t.exports=r},{"../constants/DropEffects":359}],379:[function(e,t,n){"use strict";function r(e,t,n,r){n=n||{};var a=e.offsetWidth,l=e.offsetHeight,c=t instanceof Image,u=c?t.width:a,h=c?t.height:l,d=n.horizontal||i.CENTER,f=n.vertical||o.CENTER,p=r.x,g=r.y;switch(s()&&(h/=window.devicePixelRatio,u/=window.devicePixelRatio),d){case i.LEFT:break;case i.CENTER:p*=u/a;break;case i.RIGHT:p=u-u*(1-p/a)}switch(f){case o.TOP:break;case o.CENTER:g*=h/l;break;case o.BOTTOM:g=h-h*(1-g/l)}return s()&&(g+=(window.devicePixelRatio-1)*h),{x:p,y:g}}var i=e("../constants/HorizontalDragAnchors"),o=e("../constants/VerticalDragAnchors"),s=e("./isSafari");t.exports=r},{"../constants/HorizontalDragAnchors":360,"../constants/VerticalDragAnchors":362,"./isSafari":384}],380:[function(e,t,n){"use strict";function r(){return i()||o()?window.devicePixelRatio:1}var i=e("./isFirefox"),o=e("./isSafari");t.exports=r},{"./isFirefox":382,"./isSafari":384}],381:[function(e,t,n){"use strict";function r(e){if(!e.dataTransfer)return!1;var t=Array.prototype.slice.call(e.dataTransfer.types);return-1!==t.indexOf("Files")}t.exports=r},{}],382:[function(e,t,n){"use strict";function r(){return/firefox/i.test(navigator.userAgent)}t.exports=r},{}],383:[function(e,t,n){"use strict";function r(e){switch(e){case i.FILE:case i.URL:return!0;default:return!1}}var i=e("../constants/NativeDragItemTypes");t.exports=r},{"../constants/NativeDragItemTypes":361}],384:[function(e,t,n){"use strict";function r(){return!!window.safari}t.exports=r},{}],385:[function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(e.dataTransfer.types);return-1!==t.indexOf("Url")||-1!==t.indexOf("text/uri-list")}t.exports=r},{}],386:[function(e,t,n){"use strict";function r(){return"WebkitAppearance"in document.documentElement.style}t.exports=r},{}],387:[function(e,t,n){"use strict";function r(e){return e?i()&&e instanceof Image&&o(e.src,".gif")?!1:!0:!1}var i=e("./isSafari"),o=e("./endsWith");t.exports=r},{"./endsWith":376,"./isSafari":384}],388:[function(e,t,n){t.exports.Dispatcher=e("./lib/Dispatcher")},{"./lib/Dispatcher":389}],389:[function(e,t,n){"use strict";function r(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var i=e("./invariant"),o=1,s="ID_";r.prototype.register=function(e){var t=s+o++;return this.$Dispatcher_callbacks[t]=e,t},r.prototype.unregister=function(e){i(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},r.prototype.waitFor=function(e){i(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this.$Dispatcher_isPending[n]?i(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(i(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},r.prototype.dispatch=function(e){i(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},r.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},r.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},r.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},r.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},t.exports=r},{"./invariant":390}],390:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};t.exports=r},{}],391:[function(e,t,n){t.exports=e("./lib/ReactWithAddons")},{"./lib/ReactWithAddons":491}],392:[function(e,t,n){"use strict";var r=e("./focusNode"),i={componentDidMount:function(){this.props.autoFocus&&r(this.getDOMNode())}};t.exports=i},{"./focusNode":525}],393:[function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case S.topCompositionStart:return T.compositionStart;case S.topCompositionEnd:return T.compositionEnd;case S.topCompositionUpdate:return T.compositionUpdate}}function s(e,t){return e===S.topKeyDown&&t.keyCode===E}function a(e,t){switch(e){case S.topKeyUp:return-1!==w.indexOf(t.keyCode);case S.topKeyDown:return t.keyCode!==E;case S.topKeyPress:case S.topMouseDown:case S.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function c(e,t,n,r){var i,c;if(C?i=o(e):k?a(e,r)&&(i=T.compositionEnd):s(e,r)&&(i=T.compositionStart),!i)return null;A&&(k||i!==T.compositionStart?i===T.compositionEnd&&k&&(c=k.getData()):k=m.getPooled(t));var u=v.getPooled(i,n,r);if(c)u.data=c;else{var h=l(r);null!==h&&(u.data=h)}return p.accumulateTwoPhaseDispatches(u),u}function u(e,t){switch(e){case S.topCompositionEnd:return l(t);case S.topKeyPress:var n=t.which;return n!==D?null:(R=!0,F);case S.topTextInput:var r=t.data;return r===F&&R?null:r;default:return null}}function h(e,t){if(k){if(e===S.topCompositionEnd||a(e,t)){var n=k.getData();return m.release(k),k=null,n}return null}switch(e){case S.topPaste:return null;case S.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case S.topCompositionEnd:return A?null:t.data;default:return null}}function d(e,t,n,r){var i;if(i=_?u(e,r):h(e,r),!i)return null;var o=y.getPooled(T.beforeInput,n,r);return o.data=i,p.accumulateTwoPhaseDispatches(o),o}var f=e("./EventConstants"),p=e("./EventPropagators"),g=e("./ExecutionEnvironment"),m=e("./FallbackCompositionState"),v=e("./SyntheticCompositionEvent"),y=e("./SyntheticInputEvent"),b=e("./keyOf"),w=[9,13,27,32],E=229,C=g.canUseDOM&&"CompositionEvent"in window,x=null;g.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var _=g.canUseDOM&&"TextEvent"in window&&!x&&!r(),A=g.canUseDOM&&(!C||x&&x>8&&11>=x),D=32,F=String.fromCharCode(D),S=f.topLevelTypes,T={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[S.topCompositionEnd,S.topKeyPress,S.topTextInput,S.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[S.topBlur,S.topCompositionEnd,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[S.topBlur,S.topCompositionStart,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({
onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[S.topBlur,S.topCompositionUpdate,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]}},R=!1,k=null,M={eventTypes:T,extractEvents:function(e,t,n,r){return[c(e,t,n,r),d(e,t,n,r)]}};t.exports=M},{"./EventConstants":406,"./EventPropagators":411,"./ExecutionEnvironment":412,"./FallbackCompositionState":413,"./SyntheticCompositionEvent":497,"./SyntheticInputEvent":501,"./keyOf":548}],394:[function(e,t,n){var r=e("./invariant"),i={addClass:function(e,t){return r(!/\s/.test(t)),t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return r(!/\s/.test(t)),t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return r(!/\s/.test(t)),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=i},{"./invariant":541}],395:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){o.forEach(function(t){i[r(t,e)]=i[e]})});var s={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},a={isUnitlessNumber:i,shorthandPropertyExpansions:s};t.exports=a},{}],396:[function(e,t,n){"use strict";var r=e("./CSSProperty"),i=e("./ExecutionEnvironment"),o=(e("./camelizeStyleName"),e("./dangerousStyleValue")),s=e("./hyphenateStyleName"),a=e("./memoizeStringOnly"),l=(e("./warning"),a(function(e){return s(e)})),c="cssFloat";i.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(c="styleFloat");var u={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t+=l(n)+":",t+=o(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var i in t)if(t.hasOwnProperty(i)){var s=o(i,t[i]);if("float"===i&&(i=c),s)n[i]=s;else{var a=r.shorthandPropertyExpansions[i];if(a)for(var l in a)n[l]="";else n[i]=""}}}};t.exports=u},{"./CSSProperty":395,"./ExecutionEnvironment":412,"./camelizeStyleName":512,"./dangerousStyleValue":519,"./hyphenateStyleName":539,"./memoizeStringOnly":550,"./warning":562}],397:[function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=e("./PooledClass"),o=e("./Object.assign"),s=e("./invariant");o(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){s(e.length===t.length),this._callbacks=null,this._contexts=null;for(var n=0,r=e.length;r>n;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r},{"./Object.assign":419,"./PooledClass":420,"./invariant":541}],398:[function(e,t,n){"use strict";function r(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function i(e){var t=x.getPooled(S.change,R,e);w.accumulateTwoPhaseDispatches(t),C.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue()}function s(e,t){T=e,R=t,T.attachEvent("onchange",i)}function a(){T&&(T.detachEvent("onchange",i),T=null,R=null)}function l(e,t,n){return e===F.topChange?n:void 0}function c(e,t,n){e===F.topFocus?(a(),s(t,n)):e===F.topBlur&&a()}function u(e,t){T=e,R=t,k=e.value,M=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(T,"value",O),T.attachEvent("onpropertychange",d)}function h(){T&&(delete T.value,T.detachEvent("onpropertychange",d),T=null,R=null,k=null,M=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==k&&(k=t,i(e))}}function f(e,t,n){return e===F.topInput?n:void 0}function p(e,t,n){e===F.topFocus?(h(),u(t,n)):e===F.topBlur&&h()}function g(e,t,n){return e!==F.topSelectionChange&&e!==F.topKeyUp&&e!==F.topKeyDown||!T||T.value===k?void 0:(k=T.value,R)}function m(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){return e===F.topClick?n:void 0}var y=e("./EventConstants"),b=e("./EventPluginHub"),w=e("./EventPropagators"),E=e("./ExecutionEnvironment"),C=e("./ReactUpdates"),x=e("./SyntheticEvent"),_=e("./isEventSupported"),A=e("./isTextInputElement"),D=e("./keyOf"),F=y.topLevelTypes,S={change:{phasedRegistrationNames:{bubbled:D({onChange:null}),captured:D({onChangeCapture:null})},dependencies:[F.topBlur,F.topChange,F.topClick,F.topFocus,F.topInput,F.topKeyDown,F.topKeyUp,F.topSelectionChange]}},T=null,R=null,k=null,M=null,L=!1;E.canUseDOM&&(L=_("change")&&(!("documentMode"in document)||document.documentMode>8));var B=!1;E.canUseDOM&&(B=_("input")&&(!("documentMode"in document)||document.documentMode>9));var O={get:function(){return M.get.call(this)},set:function(e){k=""+e,M.set.call(this,e)}},I={eventTypes:S,extractEvents:function(e,t,n,i){var o,s;if(r(t)?L?o=l:s=c:A(t)?B?o=f:(o=g,s=p):m(t)&&(o=v),o){var a=o(e,t,n);if(a){var u=x.getPooled(S.change,a,i);return w.accumulateTwoPhaseDispatches(u),u}}s&&s(e,t,n)}};t.exports=I},{"./EventConstants":406,"./EventPluginHub":408,"./EventPropagators":411,"./ExecutionEnvironment":412,"./ReactUpdates":490,"./SyntheticEvent":499,"./isEventSupported":542,"./isTextInputElement":544,"./keyOf":548}],399:[function(e,t,n){"use strict";var r=0,i={createReactRootIndex:function(){return r++}};t.exports=i},{}],400:[function(e,t,n){"use strict";function r(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var i=e("./Danger"),o=e("./ReactMultiChildUpdateTypes"),s=e("./setTextContent"),a=e("./invariant"),l={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:s,processUpdates:function(e,t){for(var n,l=null,c=null,u=0;u<e.length;u++)if(n=e[u],n.type===o.MOVE_EXISTING||n.type===o.REMOVE_NODE){var h=n.fromIndex,d=n.parentNode.childNodes[h],f=n.parentID;a(d),l=l||{},l[f]=l[f]||[],l[f][h]=d,c=c||[],c.push(d)}var p=i.dangerouslyRenderMarkup(t);if(c)for(var g=0;g<c.length;g++)c[g].parentNode.removeChild(c[g]);for(var m=0;m<e.length;m++)switch(n=e[m],n.type){case o.INSERT_MARKUP:r(n.parentNode,p[n.markupIndex],n.toIndex);break;case o.MOVE_EXISTING:r(n.parentNode,l[n.parentID][n.fromIndex],n.toIndex);break;case o.TEXT_CONTENT:s(n.parentNode,n.textContent);break;case o.REMOVE_NODE:}}};t.exports=l},{"./Danger":403,"./ReactMultiChildUpdateTypes":469,"./invariant":541,"./setTextContent":556}],401:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=e("./invariant"),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},n=e.DOMAttributeNames||{},s=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&a._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var c in t){i(!a.isStandardName.hasOwnProperty(c)),a.isStandardName[c]=!0;var u=c.toLowerCase();if(a.getPossibleStandardName[u]=c,n.hasOwnProperty(c)){var h=n[c];a.getPossibleStandardName[h]=c,a.getAttributeName[c]=h}else a.getAttributeName[c]=u;a.getPropertyName[c]=s.hasOwnProperty(c)?s[c]:c,l.hasOwnProperty(c)?a.getMutationMethod[c]=l[c]:a.getMutationMethod[c]=null;var d=t[c];a.mustUseAttribute[c]=r(d,o.MUST_USE_ATTRIBUTE),a.mustUseProperty[c]=r(d,o.MUST_USE_PROPERTY),a.hasSideEffects[c]=r(d,o.HAS_SIDE_EFFECTS),a.hasBooleanValue[c]=r(d,o.HAS_BOOLEAN_VALUE),a.hasNumericValue[c]=r(d,o.HAS_NUMERIC_VALUE),a.hasPositiveNumericValue[c]=r(d,o.HAS_POSITIVE_NUMERIC_VALUE),a.hasOverloadedBooleanValue[c]=r(d,o.HAS_OVERLOADED_BOOLEAN_VALUE),i(!a.mustUseAttribute[c]||!a.mustUseProperty[c]),i(a.mustUseProperty[c]||!a.hasSideEffects[c]),i(!!a.hasBooleanValue[c]+!!a.hasNumericValue[c]+!!a.hasOverloadedBooleanValue[c]<=1)}}},s={},a={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<a._isCustomAttributeFunctions.length;t++){var n=a._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=s[e];return r||(s[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:o};t.exports=a},{"./invariant":541}],402:[function(e,t,n){"use strict";function r(e,t){return null==t||i.hasBooleanValue[e]&&!t||i.hasNumericValue[e]&&isNaN(t)||i.hasPositiveNumericValue[e]&&1>t||i.hasOverloadedBooleanValue[e]&&t===!1}var i=e("./DOMProperty"),o=e("./quoteAttributeValueForBrowser"),s=(e("./warning"),{createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+o(e)},createMarkupForProperty:function(e,t){if(i.isStandardName.hasOwnProperty(e)&&i.isStandardName[e]){if(r(e,t))return"";var n=i.getAttributeName[e];return i.hasBooleanValue[e]||i.hasOverloadedBooleanValue[e]&&t===!0?n:n+"="+o(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+o(t):null},setValueForProperty:function(e,t,n){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){var o=i.getMutationMethod[t];if(o)o(e,n);else if(r(t,n))this.deleteValueForProperty(e,t);else if(i.mustUseAttribute[t])e.setAttribute(i.getAttributeName[t],""+n);else{var s=i.getPropertyName[t];i.hasSideEffects[t]&&""+e[s]==""+n||(e[s]=n)}}else i.isCustomAttribute(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){var n=i.getMutationMethod[t];if(n)n(e,void 0);else if(i.mustUseAttribute[t])e.removeAttribute(i.getAttributeName[t]);else{var r=i.getPropertyName[t],o=i.getDefaultValueForProperty(e.nodeName,r);i.hasSideEffects[t]&&""+e[r]===o||(e[r]=o)}}else i.isCustomAttribute(t)&&e.removeAttribute(t)}});t.exports=s},{"./DOMProperty":401,"./quoteAttributeValueForBrowser":554,"./warning":562}],403:[function(e,t,n){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var i=e("./ExecutionEnvironment"),o=e("./createNodesFromMarkup"),s=e("./emptyFunction"),a=e("./getMarkupWrap"),l=e("./invariant"),c=/^(<[^ \/>]+)/,u="data-danger-index",h={dangerouslyRenderMarkup:function(e){l(i.canUseDOM);for(var t,n={},h=0;h<e.length;h++)l(e[h]),t=r(e[h]),t=a(t)?t:"*",n[t]=n[t]||[],n[t][h]=e[h];var d=[],f=0;for(t in n)if(n.hasOwnProperty(t)){var p,g=n[t];for(p in g)if(g.hasOwnProperty(p)){var m=g[p];g[p]=m.replace(c,"$1 "+u+'="'+p+'" ')}for(var v=o(g.join(""),s),y=0;y<v.length;++y){var b=v[y];b.hasAttribute&&b.hasAttribute(u)&&(p=+b.getAttribute(u),b.removeAttribute(u),l(!d.hasOwnProperty(p)),d[p]=b,f+=1)}}return l(f===d.length),l(d.length===e.length),d},dangerouslyReplaceNodeWithMarkup:function(e,t){l(i.canUseDOM),l(t),l("html"!==e.tagName.toLowerCase());var n=o(t,s)[0];e.parentNode.replaceChild(n,e)}};t.exports=h},{"./ExecutionEnvironment":412,"./createNodesFromMarkup":517,"./emptyFunction":520,"./getMarkupWrap":533,"./invariant":541}],404:[function(e,t,n){"use strict";var r=e("./keyOf"),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null}),r({AnalyticsEventPlugin:null}),r({MobileSafariClickEventPlugin:null})];t.exports=i},{"./keyOf":548}],405:[function(e,t,n){"use strict";var r=e("./EventConstants"),i=e("./EventPropagators"),o=e("./SyntheticMouseEvent"),s=e("./ReactMount"),a=e("./keyOf"),l=r.topLevelTypes,c=s.getFirstReactDOM,u={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},h=[null,null],d={eventTypes:u,extractEvents:function(e,t,n,r){if(e===l.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var a;if(t.window===t)a=t;else{var d=t.ownerDocument;a=d?d.defaultView||d.parentWindow:window}var f,p;if(e===l.topMouseOut?(f=t,p=c(r.relatedTarget||r.toElement)||a):(f=a,p=t),f===p)return null;var g=f?s.getID(f):"",m=p?s.getID(p):"",v=o.getPooled(u.mouseLeave,g,r);v.type="mouseleave",v.target=f,v.relatedTarget=p;var y=o.getPooled(u.mouseEnter,m,r);return y.type="mouseenter",y.target=p,y.relatedTarget=f,i.accumulateEnterLeaveDispatches(v,y,g,m),h[0]=v,h[1]=y,h}};t.exports=d},{"./EventConstants":406,"./EventPropagators":411,"./ReactMount":467,"./SyntheticMouseEvent":503,"./keyOf":548}],406:[function(e,t,n){"use strict";var r=e("./keyMirror"),i=r({bubbled:null,captured:null}),o=r({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),s={topLevelTypes:o,PropagationPhases:i};t.exports=s},{"./keyMirror":547}],407:[function(e,t,n){var r=e("./emptyFunction"),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=i},{"./emptyFunction":520}],408:[function(e,t,n){"use strict";var r=e("./EventPluginRegistry"),i=e("./EventPluginUtils"),o=e("./accumulateInto"),s=e("./forEachAccumulated"),a=e("./invariant"),l={},c=null,u=function(e){if(e){var t=i.executeDispatch,n=r.getPluginModuleForEvent(e);n&&n.executeDispatch&&(t=n.executeDispatch),i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},h=null,d={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){h=e},getInstanceHandle:function(){return h},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){a(!n||"function"==typeof n);var r=l[t]||(l[t]={});r[e]=n},getListener:function(e,t){var n=l[t];return n&&n[e]},deleteListener:function(e,t){var n=l[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in l)delete l[t][e]},extractEvents:function(e,t,n,i){for(var s,a=r.plugins,l=0,c=a.length;c>l;l++){var u=a[l];if(u){var h=u.extractEvents(e,t,n,i);h&&(s=o(s,h))}}return s},enqueueEvents:function(e){e&&(c=o(c,e))},processEventQueue:function(){var e=c;c=null,s(e,u),a(!c)},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=d},{"./EventPluginRegistry":409,"./EventPluginUtils":410,"./accumulateInto":509,"./forEachAccumulated":526,"./invariant":541}],409:[function(e,t,n){"use strict";function r(){if(a)for(var e in l){var t=l[e],n=a.indexOf(e);if(s(n>-1),!c.plugins[n]){s(t.extractEvents),c.plugins[n]=t;var r=t.eventTypes;for(var o in r)s(i(r[o],t,o))}}}function i(e,t,n){s(!c.eventNameDispatchConfigs.hasOwnProperty(n)),c.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];o(a,t,n)}return!0}return e.registrationName?(o(e.registrationName,t,n),!0):!1}function o(e,t,n){s(!c.registrationNameModules[e]),c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var s=e("./invariant"),a=null,l={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s(!a),a=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];l.hasOwnProperty(n)&&l[n]===i||(s(!l[n]),l[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=c.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){a=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=c.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};t.exports=c},{"./invariant":541}],410:[function(e,t,n){"use strict";function r(e){return e===m.topMouseUp||e===m.topTouchEnd||e===m.topTouchCancel}function i(e){return e===m.topMouseMove||e===m.topTouchMove}function o(e){return e===m.topMouseDown||e===m.topTouchStart}function s(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)t(e,n[i],r[i]);else n&&t(e,n,r)}function a(e,t,n){e.currentTarget=g.Mount.getNode(n);var r=t(e,n);return e.currentTarget=null,r}function l(e,t){s(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function c(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=c(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function h(e){var t=e._dispatchListeners,n=e._dispatchIDs;p(!Array.isArray(t));var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function d(e){return!!e._dispatchListeners}var f=e("./EventConstants"),p=e("./invariant"),g={Mount:null,injectMount:function(e){g.Mount=e}},m=f.topLevelTypes,v={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:h,executeDispatch:a,executeDispatchesInOrder:l,executeDispatchesInOrderStopAtTrue:u,hasDispatches:d,injection:g,useTouchEvents:!1};t.exports=v},{"./EventConstants":406,"./invariant":541}],411:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return m(e,r)}function i(e,t,n){var i=t?g.bubbled:g.captured,o=r(e,n,i);o&&(n._dispatchListeners=f(n._dispatchListeners,o),n._dispatchIDs=f(n._dispatchIDs,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,i,e)}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=m(e,r);i&&(n._dispatchListeners=f(n._dispatchListeners,i),n._dispatchIDs=f(n._dispatchIDs,e))}}function a(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function l(e){p(e,o)}function c(e,t,n,r){d.injection.getInstanceHandle().traverseEnterLeave(n,r,s,e,t)}function u(e){p(e,a)}var h=e("./EventConstants"),d=e("./EventPluginHub"),f=e("./accumulateInto"),p=e("./forEachAccumulated"),g=h.PropagationPhases,m=d.getListener,v={accumulateTwoPhaseDispatches:l,accumulateDirectDispatches:u,accumulateEnterLeaveDispatches:c};t.exports=v},{"./EventConstants":406,"./EventPluginHub":408,"./accumulateInto":509,"./forEachAccumulated":526}],412:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},{}],413:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=e("./PooledClass"),o=e("./Object.assign"),s=e("./getTextContentAccessor");o(r.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;r>e&&n[e]===i[e];e++);var s=r-e;for(t=1;s>=t&&n[r-t]===i[o-t];t++);var a=t>1?1-t:void 0;return this._fallbackText=i.slice(e,a),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},{"./Object.assign":419,"./PooledClass":420,"./getTextContentAccessor":536}],414:[function(e,t,n){"use strict";var r,i=e("./DOMProperty"),o=e("./ExecutionEnvironment"),s=i.injection.MUST_USE_ATTRIBUTE,a=i.injection.MUST_USE_PROPERTY,l=i.injection.HAS_BOOLEAN_VALUE,c=i.injection.HAS_SIDE_EFFECTS,u=i.injection.HAS_NUMERIC_VALUE,h=i.injection.HAS_POSITIVE_NUMERIC_VALUE,d=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var f=document.implementation;r=f&&f.hasFeature&&f.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var p={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:s|l,allowTransparency:s,alt:null,async:l,autoComplete:null,autoPlay:l,cellPadding:null,cellSpacing:null,charSet:s,checked:a|l,classID:s,className:r?s:a,cols:s|h,colSpan:null,content:null,contentEditable:null,contextMenu:s,controls:a|l,coords:null,crossOrigin:null,data:null,dateTime:s,defer:l,dir:null,disabled:s|l,download:d,draggable:null,encType:null,form:s,formAction:s,formEncType:s,formMethod:s,formNoValidate:l,formTarget:s,frameBorder:s,headers:null,height:s,hidden:s|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,label:null,lang:null,list:s,loop:a|l,low:null,manifest:s,marginHeight:null,marginWidth:null,max:null,maxLength:s,media:s,mediaGroup:null,method:null,min:null,multiple:a|l,muted:a|l,name:null,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|l,rel:null,required:l,role:s,rows:s|h,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:s|l,selected:a|l,shape:null,size:s|h,sizes:s,span:h,spellCheck:null,src:null,srcDoc:a,srcSet:s,start:u,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|c,width:s,wmode:s,autoCapitalize:null,autoCorrect:null,itemProp:s,itemScope:s|l,itemType:s,itemID:s,itemRef:s,property:null,unselectable:s},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=p},{"./DOMProperty":401,"./ExecutionEnvironment":412}],415:[function(e,t,n){"use strict";var r=e("./ReactLink"),i=e("./ReactStateSetters"),o={linkState:function(e){return new r(this.state[e],i.createStateKeySetter(this,e))}};t.exports=o},{"./ReactLink":465,"./ReactStateSetters":484}],416:[function(e,t,n){"use strict";function r(e){c(null==e.props.checkedLink||null==e.props.valueLink)}function i(e){r(e),c(null==e.props.value&&null==e.props.onChange)}function o(e){r(e),c(null==e.props.checked&&null==e.props.onChange)}function s(e){this.props.valueLink.requestChange(e.target.value)}function a(e){this.props.checkedLink.requestChange(e.target.checked)}var l=e("./ReactPropTypes"),c=e("./invariant"),u={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},h={Mixin:{propTypes:{value:function(e,t,n){return!e[t]||u[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func}},getValue:function(e){return e.props.valueLink?(i(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(o(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(i(e),s):e.props.checkedLink?(o(e),a):e.props.onChange}};t.exports=h},{"./ReactPropTypes":476,"./invariant":541}],417:[function(e,t,n){"use strict";function r(e){e.remove()}var i=e("./ReactBrowserEventEmitter"),o=e("./accumulateInto"),s=e("./forEachAccumulated"),a=e("./invariant"),l={trapBubbledEvent:function(e,t){a(this.isMounted());var n=this.getDOMNode();a(n);var r=i.trapBubbledEvent(e,t,n);this._localEventListeners=o(this._localEventListeners,r)},componentWillUnmount:function(){this._localEventListeners&&s(this._localEventListeners,r)}};t.exports=l},{"./ReactBrowserEventEmitter":423,"./accumulateInto":509,"./forEachAccumulated":526,"./invariant":541}],418:[function(e,t,n){"use strict";var r=e("./EventConstants"),i=e("./emptyFunction"),o=r.topLevelTypes,s={eventTypes:null,extractEvents:function(e,t,n,r){if(e===o.topTouchStart){var s=r.target;s&&!s.onclick&&(s.onclick=i)}}};t.exports=s},{"./EventConstants":406,"./emptyFunction":520}],419:[function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var s=Object(o);for(var a in s)r.call(s,a)&&(n[a]=s[a])}}return n}t.exports=r},{}],420:[function(e,t,n){"use strict";var r=e("./invariant"),i=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},s=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},a=function(e,t,n,r,i){var o=this;if(o.instancePool.length){var s=o.instancePool.pop();return o.call(s,e,t,n,r,i),s}return new o(e,t,n,r,i)},l=function(e){var t=this;r(e instanceof t),e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,u=i,h=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=c),n.release=l,n},d={addPoolingTo:h,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:s,fiveArgumentPooler:a};t.exports=d},{"./invariant":541}],421:[function(e,t,n){"use strict";var r=e("./EventPluginUtils"),i=e("./ReactChildren"),o=e("./ReactComponent"),s=e("./ReactClass"),a=e("./ReactContext"),l=e("./ReactCurrentOwner"),c=e("./ReactElement"),u=(e("./ReactElementValidator"),e("./ReactDOM")),h=e("./ReactDOMTextComponent"),d=e("./ReactDefaultInjection"),f=e("./ReactInstanceHandles"),p=e("./ReactMount"),g=e("./ReactPerf"),m=e("./ReactPropTypes"),v=e("./ReactReconciler"),y=e("./ReactServerRendering"),b=e("./Object.assign"),w=e("./findDOMNode"),E=e("./onlyChild");d.inject();var C=c.createElement,x=c.createFactory,_=c.cloneElement,A=g.measure("React","render",p.render),D={Children:{map:i.map,forEach:i.forEach,count:i.count,only:E},Component:o,DOM:u,PropTypes:m,initializeTouchEvents:function(e){r.useTouchEvents=e},createClass:s.createClass,createElement:C,cloneElement:_,createFactory:x,createMixin:function(e){return e},constructAndRenderComponent:p.constructAndRenderComponent,constructAndRenderComponentByID:p.constructAndRenderComponentByID,findDOMNode:w,render:A,renderToString:y.renderToString,renderToStaticMarkup:y.renderToStaticMarkup,unmountComponentAtNode:p.unmountComponentAtNode,isValidElement:c.isValidElement,withContext:a.withContext,__spread:b};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:l,InstanceHandles:f,Mount:p,Reconciler:v,TextComponent:h});D.version="0.13.3",t.exports=D},{"./EventPluginUtils":410,"./ExecutionEnvironment":412,"./Object.assign":419,"./ReactChildren":427,"./ReactClass":428,"./ReactComponent":429,"./ReactContext":434,"./ReactCurrentOwner":435,"./ReactDOM":436,"./ReactDOMTextComponent":447,"./ReactDefaultInjection":450,"./ReactElement":453,"./ReactElementValidator":454,"./ReactInstanceHandles":462,"./ReactMount":467,"./ReactPerf":472,"./ReactPropTypes":476,"./ReactReconciler":479,"./ReactServerRendering":482,"./findDOMNode":523,"./onlyChild":551}],422:[function(e,t,n){"use strict";var r=e("./findDOMNode"),i={getDOMNode:function(){return r(this)}};t.exports=i},{"./findDOMNode":523}],423:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,g)||(e[g]=f++,h[e[g]]={}),h[e[g]]}var i=e("./EventConstants"),o=e("./EventPluginHub"),s=e("./EventPluginRegistry"),a=e("./ReactEventEmitterMixin"),l=e("./ViewportMetrics"),c=e("./Object.assign"),u=e("./isEventSupported"),h={},d=!1,f=0,p={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),m=c({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=e}},setEnabled:function(e){m.ReactEventListener&&m.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),a=s.registrationNameDependencies[e],l=i.topLevelTypes,c=0,h=a.length;h>c;c++){var d=a[c];o.hasOwnProperty(d)&&o[d]||(d===l.topWheel?u("wheel")?m.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):u("mousewheel")?m.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):m.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):d===l.topScroll?u("scroll",!0)?m.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):m.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",m.ReactEventListener.WINDOW_HANDLE):d===l.topFocus||d===l.topBlur?(u("focus",!0)?(m.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),
m.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):u("focusin")&&(m.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),m.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),o[l.topBlur]=!0,o[l.topFocus]=!0):p.hasOwnProperty(d)&&m.ReactEventListener.trapBubbledEvent(d,p[d],n),o[d]=!0)}},trapBubbledEvent:function(e,t,n){return m.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return m.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!d){var e=l.refreshScrollValues;m.ReactEventListener.monitorScrollValue(e),d=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});t.exports=m},{"./EventConstants":406,"./EventPluginHub":408,"./EventPluginRegistry":409,"./Object.assign":419,"./ReactEventEmitterMixin":457,"./ViewportMetrics":508,"./isEventSupported":542}],424:[function(e,t,n){"use strict";var r=e("./React"),i=e("./Object.assign"),o=r.createFactory(e("./ReactTransitionGroup")),s=r.createFactory(e("./ReactCSSTransitionGroupChild")),a=r.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:r.PropTypes.string.isRequired,transitionAppear:r.PropTypes.bool,transitionEnter:r.PropTypes.bool,transitionLeave:r.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return s({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return o(i({},this.props,{childFactory:this._wrapChild}))}});t.exports=a},{"./Object.assign":419,"./React":421,"./ReactCSSTransitionGroupChild":425,"./ReactTransitionGroup":488}],425:[function(e,t,n){"use strict";var r=e("./React"),i=e("./CSSCore"),o=e("./ReactTransitionEvents"),s=e("./onlyChild"),a=(e("./warning"),17),l=r.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(e,t){var n=this.getDOMNode(),r=this.props.name+"-"+e,s=r+"-active",a=function(e){e&&e.target!==n||(i.removeClass(n,r),i.removeClass(n,s),o.removeEndEventListener(n,a),t&&t())};o.addEndEventListener(n,a),i.addClass(n,r),this.queueClass(s)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,a))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(i.addClass.bind(i,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(e){this.props.appear?this.transition("appear",e):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e):e()},render:function(){return s(this.props.children)}});t.exports=l},{"./CSSCore":394,"./React":421,"./ReactTransitionEvents":487,"./onlyChild":551,"./warning":562}],426:[function(e,t,n){"use strict";var r=e("./ReactReconciler"),i=e("./flattenChildren"),o=e("./instantiateReactComponent"),s=e("./shouldUpdateReactComponent"),a={instantiateChildren:function(e,t,n){var r=i(e);for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],l=o(a,null);r[s]=l}return r},updateChildren:function(e,t,n,a){var l=i(t);if(!l&&!e)return null;var c;for(c in l)if(l.hasOwnProperty(c)){var u=e&&e[c],h=u&&u._currentElement,d=l[c];if(s(h,d))r.receiveComponent(u,d,n,a),l[c]=u;else{u&&r.unmountComponent(u,c);var f=o(d,null);l[c]=f}}for(c in e)!e.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||r.unmountComponent(e[c]);return l},unmountChildren:function(e){for(var t in e){var n=e[t];r.unmountComponent(n)}}};t.exports=a},{"./ReactReconciler":479,"./flattenChildren":524,"./instantiateReactComponent":540,"./shouldUpdateReactComponent":558}],427:[function(e,t,n){"use strict";function r(e,t){this.forEachFunction=e,this.forEachContext=t}function i(e,t,n,r){var i=e;i.forEachFunction.call(i.forEachContext,t,r)}function o(e,t,n){if(null==e)return e;var o=r.getPooled(t,n);f(e,i,o),r.release(o)}function s(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function a(e,t,n,r){var i=e,o=i.mapResult,s=!o.hasOwnProperty(n);if(s){var a=i.mapFunction.call(i.mapContext,t,r);o[n]=a}}function l(e,t,n){if(null==e)return e;var r={},i=s.getPooled(r,t,n);return f(e,a,i),s.release(i),d.create(r)}function c(e,t,n,r){return null}function u(e,t){return f(e,c,null)}var h=e("./PooledClass"),d=e("./ReactFragment"),f=e("./traverseAllChildren"),p=(e("./warning"),h.twoArgumentPooler),g=h.threeArgumentPooler;h.addPoolingTo(r,p),h.addPoolingTo(s,g);var m={forEach:o,map:l,count:u};t.exports=m},{"./PooledClass":420,"./ReactFragment":459,"./traverseAllChildren":560,"./warning":562}],428:[function(e,t,n){"use strict";function r(e,t){var n=_.hasOwnProperty(t)?_[t]:null;D.hasOwnProperty(t)&&y(n===C.OVERRIDE_BASE),e.hasOwnProperty(t)&&y(n===C.DEFINE_MANY||n===C.DEFINE_MANY_MERGED)}function i(e,t){if(t){y("function"!=typeof t),y(!d.isValidElement(t));var n=e.prototype;t.hasOwnProperty(E)&&A.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==E){var o=t[i];if(r(n,i),A.hasOwnProperty(i))A[i](e,o);else{var s=_.hasOwnProperty(i),c=n.hasOwnProperty(i),u=o&&o.__reactDontBind,h="function"==typeof o,f=h&&!s&&!c&&!u;if(f)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[i]=o,n[i]=o;else if(c){var p=_[i];y(s&&(p===C.DEFINE_MANY_MERGED||p===C.DEFINE_MANY)),p===C.DEFINE_MANY_MERGED?n[i]=a(n[i],o):p===C.DEFINE_MANY&&(n[i]=l(n[i],o))}else n[i]=o}}}}function o(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in A;y(!i);var o=n in e;y(!o),e[n]=r}}}function s(e,t){y(e&&t&&"object"==typeof e&&"object"==typeof t);for(var n in t)t.hasOwnProperty(n)&&(y(void 0===e[n]),e[n]=t[n]);return e}function a(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return s(i,n),s(i,r),i}}function l(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);return n}function u(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=c(e,f.guard(n,e.constructor.displayName+"."+t))}}var h=e("./ReactComponent"),d=(e("./ReactCurrentOwner"),e("./ReactElement")),f=e("./ReactErrorUtils"),p=e("./ReactInstanceMap"),g=e("./ReactLifeCycle"),m=(e("./ReactPropTypeLocations"),e("./ReactPropTypeLocationNames"),e("./ReactUpdateQueue")),v=e("./Object.assign"),y=e("./invariant"),b=e("./keyMirror"),w=e("./keyOf"),E=(e("./warning"),w({mixins:null})),C=b({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],_={mixins:C.DEFINE_MANY,statics:C.DEFINE_MANY,propTypes:C.DEFINE_MANY,contextTypes:C.DEFINE_MANY,childContextTypes:C.DEFINE_MANY,getDefaultProps:C.DEFINE_MANY_MERGED,getInitialState:C.DEFINE_MANY_MERGED,getChildContext:C.DEFINE_MANY_MERGED,render:C.DEFINE_ONCE,componentWillMount:C.DEFINE_MANY,componentDidMount:C.DEFINE_MANY,componentWillReceiveProps:C.DEFINE_MANY,shouldComponentUpdate:C.DEFINE_ONCE,componentWillUpdate:C.DEFINE_MANY,componentDidUpdate:C.DEFINE_MANY,componentWillUnmount:C.DEFINE_MANY,updateComponent:C.OVERRIDE_BASE},A={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=v({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=v({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=a(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=v({},e.propTypes,t)},statics:function(e,t){o(e,t)}},D={replaceState:function(e,t){m.enqueueReplaceState(this,e),t&&m.enqueueCallback(this,t)},isMounted:function(){var e=p.get(this);return e&&e!==g.currentlyMountingInstance},setProps:function(e,t){m.enqueueSetProps(this,e),t&&m.enqueueCallback(this,t)},replaceProps:function(e,t){m.enqueueReplaceProps(this,e),t&&m.enqueueCallback(this,t)}},F=function(){};v(F.prototype,h.prototype,D);var S={createClass:function(e){var t=function(e,t){this.__reactAutoBindMap&&u(this),this.props=e,this.context=t,this.state=null;var n=this.getInitialState?this.getInitialState():null;y("object"==typeof n&&!Array.isArray(n)),this.state=n};t.prototype=new F,t.prototype.constructor=t,x.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),y(t.prototype.render);for(var n in _)t.prototype[n]||(t.prototype[n]=null);return t.type=t,t},injection:{injectMixin:function(e){x.push(e)}}};t.exports=S},{"./Object.assign":419,"./ReactComponent":429,"./ReactCurrentOwner":435,"./ReactElement":453,"./ReactErrorUtils":456,"./ReactInstanceMap":463,"./ReactLifeCycle":464,"./ReactPropTypeLocationNames":474,"./ReactPropTypeLocations":475,"./ReactUpdateQueue":489,"./invariant":541,"./keyMirror":547,"./keyOf":548,"./warning":562}],429:[function(e,t,n){"use strict";function r(e,t){this.props=e,this.context=t}var i=e("./ReactUpdateQueue"),o=e("./invariant");e("./warning");r.prototype.setState=function(e,t){o("object"==typeof e||"function"==typeof e||null==e),i.enqueueSetState(this,e),t&&i.enqueueCallback(this,t)},r.prototype.forceUpdate=function(e){i.enqueueForceUpdate(this),e&&i.enqueueCallback(this,e)};t.exports=r},{"./ReactUpdateQueue":489,"./invariant":541,"./warning":562}],430:[function(e,t,n){"use strict";var r=e("./ReactDOMIDOperations"),i=e("./ReactMount"),o={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){i.purgeID(e)}};t.exports=o},{"./ReactDOMIDOperations":440,"./ReactMount":467}],431:[function(e,t,n){"use strict";var r=e("./invariant"),i=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r(!i),o.unmountIDFromEnvironment=e.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};t.exports=o},{"./invariant":541}],432:[function(e,t,n){"use strict";var r=e("./shallowEqual"),i={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};t.exports=i},{"./shallowEqual":557}],433:[function(e,t,n){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}var i=e("./ReactComponentEnvironment"),o=e("./ReactContext"),s=e("./ReactCurrentOwner"),a=e("./ReactElement"),l=(e("./ReactElementValidator"),e("./ReactInstanceMap")),c=e("./ReactLifeCycle"),u=e("./ReactNativeComponent"),h=e("./ReactPerf"),d=e("./ReactPropTypeLocations"),f=(e("./ReactPropTypeLocationNames"),e("./ReactReconciler")),p=e("./ReactUpdates"),g=e("./Object.assign"),m=e("./emptyObject"),v=e("./invariant"),y=e("./shouldUpdateReactComponent"),b=(e("./warning"),1),w={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=b++,this._rootNodeID=e;var r=this._processProps(this._currentElement.props),i=this._processContext(this._currentElement._context),o=u.getComponentClassForElement(this._currentElement),s=new o(r,i);s.props=r,s.context=i,s.refs=m,this._instance=s,l.set(s,this);var a=s.state;void 0===a&&(s.state=a=null),v("object"==typeof a&&!Array.isArray(a)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var h,d,p=c.currentlyMountingInstance;c.currentlyMountingInstance=this;try{s.componentWillMount&&(s.componentWillMount(),this._pendingStateQueue&&(s.state=this._processPendingState(s.props,s.context))),h=this._getValidatedChildContext(n),d=this._renderValidatedComponent(h)}finally{c.currentlyMountingInstance=p}this._renderedComponent=this._instantiateReactComponent(d,this._currentElement.type);var g=f.mountComponent(this._renderedComponent,e,t,this._mergeChildContext(n,h));return s.componentDidMount&&t.getReactMountReady().enqueue(s.componentDidMount,s),g},unmountComponent:function(){var e=this._instance;if(e.componentWillUnmount){var t=c.currentlyUnmountingInstance;c.currentlyUnmountingInstance=this;try{e.componentWillUnmount()}finally{c.currentlyUnmountingInstance=t}}f.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,l.remove(e)},_setPropsInternal:function(e,t){var n=this._pendingElement||this._currentElement;this._pendingElement=a.cloneAndReplaceProps(n,g({},n.props,e)),p.enqueueUpdate(this,t)},_maskContext:function(e){var t=null;if("string"==typeof this._currentElement.type)return m;var n=this._currentElement.type.contextTypes;if(!n)return m;t={};for(var r in n)t[r]=e[r];return t},_processContext:function(e){var t=this._maskContext(e);return t},_getValidatedChildContext:function(e){var t=this._instance,n=t.getChildContext&&t.getChildContext();if(n){v("object"==typeof t.constructor.childContextTypes);for(var r in n)v(r in t.constructor.childContextTypes);return n}return null},_mergeChildContext:function(e,t){return t?g({},e,t):e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var i=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var s;try{v("function"==typeof e[o]),s=e[o](t,o,i,n)}catch(e){s=e}if(s instanceof Error){r(this);n===d.prop}}},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&f.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},_warnIfContextsDiffer:function(e,t){e=this._maskContext(e),t=this._maskContext(t);for(var n=Object.keys(t).sort(),r=(this.getName()||"ReactCompositeComponent",0);r<n.length;r++){n[r]}},updateComponent:function(e,t,n,r,i){var o=this._instance,s=o.context,a=o.props;t!==n&&(s=this._processContext(n._context),a=this._processProps(n.props),o.componentWillReceiveProps&&o.componentWillReceiveProps(a,s));var l=this._processPendingState(a,s),c=this._pendingForceUpdate||!o.shouldComponentUpdate||o.shouldComponentUpdate(a,l,s);c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,l,s,e,i)):(this._currentElement=n,this._context=i,o.props=a,o.state=l,o.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=g({},i?r[0]:n.state),s=i?1:0;s<r.length;s++){var a=r[s];g(o,"function"==typeof a?a.call(n,o,e,t):a)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var s=this._instance,a=s.props,l=s.state,c=s.context;s.componentWillUpdate&&s.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,s.props=t,s.state=n,s.context=r,this._updateRenderedComponent(i,o),s.componentDidUpdate&&i.getReactMountReady().enqueue(s.componentDidUpdate.bind(s,a,l,c),s)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._getValidatedChildContext(),o=this._renderValidatedComponent(i);if(y(r,o))f.receiveComponent(n,o,e,this._mergeChildContext(t,i));else{var s=this._rootNodeID,a=n._rootNodeID;f.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o,this._currentElement.type);var l=f.mountComponent(this._renderedComponent,s,e,this._mergeChildContext(t,i));this._replaceNodeWithMarkupByID(a,l)}},_replaceNodeWithMarkupByID:function(e,t){i.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(e){var t,n=o.current;o.current=this._mergeChildContext(this._currentElement._context,e),s.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=n,s.current=null}return v(null===t||t===!1||a.isValidElement(t)),t},attachRef:function(e,t){var n=this.getPublicInstance(),r=n.refs===m?n.refs={}:n.refs;r[e]=t.getPublicInstance()},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};h.measureMethods(w,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var E={Mixin:w};t.exports=E},{"./Object.assign":419,"./ReactComponentEnvironment":431,"./ReactContext":434,"./ReactCurrentOwner":435,"./ReactElement":453,"./ReactElementValidator":454,"./ReactInstanceMap":463,"./ReactLifeCycle":464,"./ReactNativeComponent":470,"./ReactPerf":472,"./ReactPropTypeLocationNames":474,"./ReactPropTypeLocations":475,"./ReactReconciler":479,"./ReactUpdates":490,"./emptyObject":521,"./invariant":541,"./shouldUpdateReactComponent":558,"./warning":562}],434:[function(e,t,n){"use strict";var r=e("./Object.assign"),i=e("./emptyObject"),o=(e("./warning"),{current:i,withContext:function(e,t){var n,i=o.current;o.current=r({},i,e);try{n=t()}finally{o.current=i}return n}});t.exports=o},{"./Object.assign":419,"./emptyObject":521,"./warning":562}],435:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],436:[function(e,t,n){"use strict";function r(e){return i.createFactory(e)}var i=e("./ReactElement"),o=(e("./ReactElementValidator"),e("./mapObject")),s=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=s},{"./ReactElement":453,"./ReactElementValidator":454,"./mapObject":549}],437:[function(e,t,n){"use strict";var r=e("./AutoFocusMixin"),i=e("./ReactBrowserComponentMixin"),o=e("./ReactClass"),s=e("./ReactElement"),a=e("./keyMirror"),l=s.createFactory("button"),c=a({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),u=o.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[r,i],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&c[t]||(e[t]=this.props[t]);return l(e,this.props.children)}});t.exports=u},{"./AutoFocusMixin":392,"./ReactBrowserComponentMixin":422,"./ReactClass":428,"./ReactElement":453,"./keyMirror":547}],438:[function(e,t,n){"use strict";function r(e){e&&(null!=e.dangerouslySetInnerHTML&&(v(null==e.children),v("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML)),v(null==e.style||"object"==typeof e.style))}function i(e,t,n,r){var i=d.findReactContainerForID(e);if(i){var o=i.nodeType===_?i.ownerDocument:i;w(t,o)}r.getPutListenerQueue().enqueuePutListener(e,t,n)}function o(e){T.call(S,e)||(v(F.test(e)),S[e]=!0)}function s(e){o(e),this._tag=e,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var a=e("./CSSPropertyOperations"),l=e("./DOMProperty"),c=e("./DOMPropertyOperations"),u=e("./ReactBrowserEventEmitter"),h=e("./ReactComponentBrowserEnvironment"),d=e("./ReactMount"),f=e("./ReactMultiChild"),p=e("./ReactPerf"),g=e("./Object.assign"),m=e("./escapeTextContentForBrowser"),v=e("./invariant"),y=(e("./isEventSupported"),e("./keyOf")),b=(e("./warning"),u.deleteListener),w=u.listenTo,E=u.registrationNameModules,C={string:!0,number:!0},x=y({style:null}),_=1,A=null,D={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},F=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,S={},T={}.hasOwnProperty;s.displayName="ReactDOMComponent",s.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e,r(this._currentElement.props);var i=D[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t,n)+i},_createOpenTagMarkupAndPutListeners:function(e){var t=this._currentElement.props,n="<"+this._tag;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(E.hasOwnProperty(r))i(this._rootNodeID,r,o,e);else{r===x&&(o&&(o=this._previousStyleCopy=g({},t.style)),o=a.createMarkupForStyles(o));var s=c.createMarkupForProperty(r,o);s&&(n+=" "+s)}}if(e.renderToStaticMarkup)return n+">";var l=c.createMarkupForID(this._rootNodeID);return n+" "+l+">"},_createContentMarkup:function(e,t){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var r=this._currentElement.props,i=r.dangerouslySetInnerHTML;if(null!=i){if(null!=i.__html)return n+i.__html}else{var o=C[typeof r.children]?r.children:null,s=null!=o?null:r.children;if(null!=o)return n+m(o);if(null!=s){var a=this.mountChildren(s,e,t);return n+a.join("")}}return n},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,i){r(this._currentElement.props),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e,i)},_updateDOMProperties:function(e,t){var n,r,o,s=this._currentElement.props;for(n in e)if(!s.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===x){var a=this._previousStyleCopy;for(r in a)a.hasOwnProperty(r)&&(o=o||{},o[r]="");this._previousStyleCopy=null}else E.hasOwnProperty(n)?b(this._rootNodeID,n):(l.isStandardName[n]||l.isCustomAttribute(n))&&A.deletePropertyByID(this._rootNodeID,n);for(n in s){var c=s[n],u=n===x?this._previousStyleCopy:e[n];if(s.hasOwnProperty(n)&&c!==u)if(n===x)if(c?c=this._previousStyleCopy=g({},c):this._previousStyleCopy=null,u){for(r in u)!u.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(o=o||{},o[r]="");for(r in c)c.hasOwnProperty(r)&&u[r]!==c[r]&&(o=o||{},o[r]=c[r])}else o=c;else E.hasOwnProperty(n)?i(this._rootNodeID,n,c,t):(l.isStandardName[n]||l.isCustomAttribute(n))&&A.updatePropertyByID(this._rootNodeID,n,c)}o&&A.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(e,t,n){var r=this._currentElement.props,i=C[typeof e.children]?e.children:null,o=C[typeof r.children]?r.children:null,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,a=r.dangerouslySetInnerHTML&&r.dangerouslySetInnerHTML.__html,l=null!=i?null:e.children,c=null!=o?null:r.children,u=null!=i||null!=s,h=null!=o||null!=a;null!=l&&null==c?this.updateChildren(null,t,n):u&&!h&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=a?s!==a&&A.updateInnerHTMLByID(this._rootNodeID,a):null!=c&&this.updateChildren(c,t,n)},unmountComponent:function(){this.unmountChildren(),u.deleteAllListeners(this._rootNodeID),h.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},p.measureMethods(s,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),g(s.prototype,s.Mixin,f.Mixin),s.injection={injectIDOperations:function(e){s.BackendIDOperations=A=e}},t.exports=s},{"./CSSPropertyOperations":396,"./DOMProperty":401,"./DOMPropertyOperations":402,"./Object.assign":419,"./ReactBrowserEventEmitter":423,"./ReactComponentBrowserEnvironment":430,"./ReactMount":467,"./ReactMultiChild":468,"./ReactPerf":472,"./escapeTextContentForBrowser":522,"./invariant":541,"./isEventSupported":542,"./keyOf":548,"./warning":562}],439:[function(e,t,n){"use strict";var r=e("./EventConstants"),i=e("./LocalEventTrapMixin"),o=e("./ReactBrowserComponentMixin"),s=e("./ReactClass"),a=e("./ReactElement"),l=a.createFactory("form"),c=s.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[o,i],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(r.topLevelTypes.topSubmit,"submit")}});t.exports=c},{"./EventConstants":406,"./LocalEventTrapMixin":417,"./ReactBrowserComponentMixin":422,"./ReactClass":428,"./ReactElement":453}],440:[function(e,t,n){"use strict";var r=e("./CSSPropertyOperations"),i=e("./DOMChildrenOperations"),o=e("./DOMPropertyOperations"),s=e("./ReactMount"),a=e("./ReactPerf"),l=e("./invariant"),c=e("./setInnerHTML"),u={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},h={updatePropertyByID:function(e,t,n){var r=s.getNode(e);l(!u.hasOwnProperty(t)),null!=n?o.setValueForProperty(r,t,n):o.deleteValueForProperty(r,t)},deletePropertyByID:function(e,t,n){var r=s.getNode(e);l(!u.hasOwnProperty(t)),o.deleteValueForProperty(r,t,n)},updateStylesByID:function(e,t){var n=s.getNode(e);r.setValueForStyles(n,t)},updateInnerHTMLByID:function(e,t){var n=s.getNode(e);c(n,t)},updateTextContentByID:function(e,t){var n=s.getNode(e);i.updateTextContent(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=s.getNode(e);i.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=s.getNode(e[n].parentID);i.processUpdates(e,t)}};a.measureMethods(h,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=h},{"./CSSPropertyOperations":396,"./DOMChildrenOperations":400,"./DOMPropertyOperations":402,"./ReactMount":467,"./ReactPerf":472,"./invariant":541,"./setInnerHTML":555}],441:[function(e,t,n){"use strict";var r=e("./EventConstants"),i=e("./LocalEventTrapMixin"),o=e("./ReactBrowserComponentMixin"),s=e("./ReactClass"),a=e("./ReactElement"),l=a.createFactory("iframe"),c=s.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[o,i],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load")}});t.exports=c},{"./EventConstants":406,"./LocalEventTrapMixin":417,"./ReactBrowserComponentMixin":422,"./ReactClass":428,"./ReactElement":453}],442:[function(e,t,n){"use strict";var r=e("./EventConstants"),i=e("./LocalEventTrapMixin"),o=e("./ReactBrowserComponentMixin"),s=e("./ReactClass"),a=e("./ReactElement"),l=a.createFactory("img"),c=s.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[o,i],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(r.topLevelTypes.topError,"error")}});t.exports=c},{"./EventConstants":406,"./LocalEventTrapMixin":417,"./ReactBrowserComponentMixin":422,"./ReactClass":428,"./ReactElement":453}],443:[function(e,t,n){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var i=e("./AutoFocusMixin"),o=e("./DOMPropertyOperations"),s=e("./LinkedValueUtils"),a=e("./ReactBrowserComponentMixin"),l=e("./ReactClass"),c=e("./ReactElement"),u=e("./ReactMount"),h=e("./ReactUpdates"),d=e("./Object.assign"),f=e("./invariant"),p=c.createFactory("input"),g={},m=l.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[i,s.Mixin,a],getInitialState:function(){var e=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=e?e:null}},render:function(){var e=d({},this.props);e.defaultChecked=null,e.defaultValue=null;var t=s.getValue(this);e.value=null!=t?t:this.state.initialValue;var n=s.getChecked(this);return e.checked=null!=n?n:this.state.initialChecked,e.onChange=this._handleChange,p(e,this.props.children)},componentDidMount:function(){var e=u.getID(this.getDOMNode());g[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=u.getID(e);delete g[t]},componentDidUpdate:function(e,t,n){var r=this.getDOMNode();null!=this.props.checked&&o.setValueForProperty(r,"checked",this.props.checked||!1);var i=s.getValue(this);null!=i&&o.setValueForProperty(r,"value",""+i)},_handleChange:function(e){var t,n=s.getOnChange(this);n&&(t=n.call(this,e)),h.asap(r,this);var i=this.props.name;if("radio"===this.props.type&&null!=i){for(var o=this.getDOMNode(),a=o;a.parentNode;)a=a.parentNode;for(var l=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),c=0,d=l.length;d>c;c++){var p=l[c];if(p!==o&&p.form===o.form){var m=u.getID(p);f(m);var v=g[m];f(v),h.asap(r,v)}}}return t}});t.exports=m},{"./AutoFocusMixin":392,"./DOMPropertyOperations":402,"./LinkedValueUtils":416,"./Object.assign":419,"./ReactBrowserComponentMixin":422,"./ReactClass":428,"./ReactElement":453,"./ReactMount":467,"./ReactUpdates":490,"./invariant":541}],444:[function(e,t,n){"use strict";var r=e("./ReactBrowserComponentMixin"),i=e("./ReactClass"),o=e("./ReactElement"),s=(e("./warning"),o.createFactory("option")),a=i.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[r],componentWillMount:function(){},render:function(){return s(this.props,this.props.children)}});t.exports=a},{"./ReactBrowserComponentMixin":422,"./ReactClass":428,"./ReactElement":453,"./warning":562}],445:[function(e,t,n){"use strict";function r(){if(this._pendingUpdate){this._pendingUpdate=!1;var e=a.getValue(this);null!=e&&this.isMounted()&&o(this,e)}}function i(e,t,n){if(null==e[t])return null;if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function o(e,t){var n,r,i,o=e.getDOMNode().options;if(e.props.multiple){for(n={},r=0,i=t.length;i>r;r++)n[""+t[r]]=!0;for(r=0,i=o.length;i>r;r++){var s=n.hasOwnProperty(o[r].value);
o[r].selected!==s&&(o[r].selected=s)}}else{for(n=""+t,r=0,i=o.length;i>r;r++)if(o[r].value===n)return void(o[r].selected=!0);o.length&&(o[0].selected=!0)}}var s=e("./AutoFocusMixin"),a=e("./LinkedValueUtils"),l=e("./ReactBrowserComponentMixin"),c=e("./ReactClass"),u=e("./ReactElement"),h=e("./ReactUpdates"),d=e("./Object.assign"),f=u.createFactory("select"),p=c.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[s,a.Mixin,l],propTypes:{defaultValue:i,value:i},render:function(){var e=d({},this.props);return e.onChange=this._handleChange,e.value=null,f(e,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var e=a.getValue(this);null!=e?o(this,e):null!=this.props.defaultValue&&o(this,this.props.defaultValue)},componentDidUpdate:function(e){var t=a.getValue(this);null!=t?(this._pendingUpdate=!1,o(this,t)):!e.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?o(this,this.props.defaultValue):o(this,this.props.multiple?[]:""))},_handleChange:function(e){var t,n=a.getOnChange(this);return n&&(t=n.call(this,e)),this._pendingUpdate=!0,h.asap(r,this),t}});t.exports=p},{"./AutoFocusMixin":392,"./LinkedValueUtils":416,"./Object.assign":419,"./ReactBrowserComponentMixin":422,"./ReactClass":428,"./ReactElement":453,"./ReactUpdates":490}],446:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length,s=o+r;return{start:o,end:s}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,s=t.focusOffset,a=t.getRangeAt(0),l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:a.toString().length,u=a.cloneRange();u.selectNodeContents(e),u.setEnd(a.startContainer,a.startOffset);var h=r(u.startContainer,u.startOffset,u.endContainer,u.endOffset),d=h?0:u.toString().length,f=d+c,p=document.createRange();p.setStart(n,i),p.setEnd(o,s);var g=p.collapsed;return{start:g?f:d,end:g?d:f}}function s(e,t){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function a(e,t){if(window.getSelection){var n=window.getSelection(),r=e[u()].length,i=Math.min(t.start,r),o="undefined"==typeof t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var s=o;o=i,i=s}var a=c(e,i),l=c(e,o);if(a&&l){var h=document.createRange();h.setStart(a.node,a.offset),n.removeAllRanges(),i>o?(n.addRange(h),n.extend(l.node,l.offset)):(h.setEnd(l.node,l.offset),n.addRange(h))}}}var l=e("./ExecutionEnvironment"),c=e("./getNodeForCharacterOffset"),u=e("./getTextContentAccessor"),h=l.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:h?i:o,setOffsets:h?s:a};t.exports=d},{"./ExecutionEnvironment":412,"./getNodeForCharacterOffset":534,"./getTextContentAccessor":536}],447:[function(e,t,n){"use strict";var r=e("./DOMPropertyOperations"),i=e("./ReactComponentBrowserEnvironment"),o=e("./ReactDOMComponent"),s=e("./Object.assign"),a=e("./escapeTextContentForBrowser"),l=function(e){};s(l.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){this._rootNodeID=e;var i=a(this._stringText);return t.renderToStaticMarkup?i:"<span "+r.createMarkupForID(e)+">"+i+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;n!==this._stringText&&(this._stringText=n,o.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){i.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=l},{"./DOMPropertyOperations":402,"./Object.assign":419,"./ReactComponentBrowserEnvironment":430,"./ReactDOMComponent":438,"./escapeTextContentForBrowser":522}],448:[function(e,t,n){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var i=e("./AutoFocusMixin"),o=e("./DOMPropertyOperations"),s=e("./LinkedValueUtils"),a=e("./ReactBrowserComponentMixin"),l=e("./ReactClass"),c=e("./ReactElement"),u=e("./ReactUpdates"),h=e("./Object.assign"),d=e("./invariant"),f=(e("./warning"),c.createFactory("textarea")),p=l.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[i,s.Mixin,a],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&(d(null==e),Array.isArray(t)&&(d(t.length<=1),t=t[0]),e=""+t),null==e&&(e="");var n=s.getValue(this);return{initialValue:""+(null!=n?n:e)}},render:function(){var e=h({},this.props);return d(null==e.dangerouslySetInnerHTML),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,f(e,this.state.initialValue)},componentDidUpdate:function(e,t,n){var r=s.getValue(this);if(null!=r){var i=this.getDOMNode();o.setValueForProperty(i,"value",""+r)}},_handleChange:function(e){var t,n=s.getOnChange(this);return n&&(t=n.call(this,e)),u.asap(r,this),t}});t.exports=p},{"./AutoFocusMixin":392,"./DOMPropertyOperations":402,"./LinkedValueUtils":416,"./Object.assign":419,"./ReactBrowserComponentMixin":422,"./ReactClass":428,"./ReactElement":453,"./ReactUpdates":490,"./invariant":541,"./warning":562}],449:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=e("./ReactUpdates"),o=e("./Transaction"),s=e("./Object.assign"),a=e("./emptyFunction"),l={initialize:a,close:function(){d.isBatchingUpdates=!1}},c={initialize:a,close:i.flushBatchedUpdates.bind(i)},u=[c,l];s(r.prototype,o.Mixin,{getTransactionWrappers:function(){return u}});var h=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i){var o=d.isBatchingUpdates;d.isBatchingUpdates=!0,o?e(t,n,r,i):h.perform(e,null,t,n,r,i)}};t.exports=d},{"./Object.assign":419,"./ReactUpdates":490,"./Transaction":507,"./emptyFunction":520}],450:[function(e,t,n){"use strict";function r(e){return p.createClass({tagName:e.toUpperCase(),render:function(){return new S(e,null,null,null,null,this.props)}})}function i(){R.EventEmitter.injectReactEventListener(T),R.EventPluginHub.injectEventPluginOrder(l),R.EventPluginHub.injectInstanceHandle(k),R.EventPluginHub.injectMount(M),R.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:I,EnterLeaveEventPlugin:c,ChangeEventPlugin:s,MobileSafariClickEventPlugin:d,SelectEventPlugin:B,BeforeInputEventPlugin:o}),R.NativeComponent.injectGenericComponentClass(v),R.NativeComponent.injectTextComponentClass(F),R.NativeComponent.injectAutoWrapper(r),R.Class.injectMixin(f),R.NativeComponent.injectComponentClasses({button:y,form:b,iframe:C,img:w,input:x,option:_,select:A,textarea:D,html:$("html"),head:$("head"),body:$("body")}),R.DOMProperty.injectDOMPropertyConfig(h),R.DOMProperty.injectDOMPropertyConfig(P),R.EmptyComponent.injectEmptyComponent("noscript"),R.Updates.injectReconcileTransaction(L),R.Updates.injectBatchingStrategy(m),R.RootIndex.injectCreateReactRootIndex(u.canUseDOM?a.createReactRootIndex:O.createReactRootIndex),R.Component.injectEnvironment(g),R.DOMComponent.injectIDOperations(E)}var o=e("./BeforeInputEventPlugin"),s=e("./ChangeEventPlugin"),a=e("./ClientReactRootIndex"),l=e("./DefaultEventPluginOrder"),c=e("./EnterLeaveEventPlugin"),u=e("./ExecutionEnvironment"),h=e("./HTMLDOMPropertyConfig"),d=e("./MobileSafariClickEventPlugin"),f=e("./ReactBrowserComponentMixin"),p=e("./ReactClass"),g=e("./ReactComponentBrowserEnvironment"),m=e("./ReactDefaultBatchingStrategy"),v=e("./ReactDOMComponent"),y=e("./ReactDOMButton"),b=e("./ReactDOMForm"),w=e("./ReactDOMImg"),E=e("./ReactDOMIDOperations"),C=e("./ReactDOMIframe"),x=e("./ReactDOMInput"),_=e("./ReactDOMOption"),A=e("./ReactDOMSelect"),D=e("./ReactDOMTextarea"),F=e("./ReactDOMTextComponent"),S=e("./ReactElement"),T=e("./ReactEventListener"),R=e("./ReactInjection"),k=e("./ReactInstanceHandles"),M=e("./ReactMount"),L=e("./ReactReconcileTransaction"),B=e("./SelectEventPlugin"),O=e("./ServerReactRootIndex"),I=e("./SimpleEventPlugin"),P=e("./SVGDOMPropertyConfig"),$=e("./createFullPageComponent");t.exports={inject:i}},{"./BeforeInputEventPlugin":393,"./ChangeEventPlugin":398,"./ClientReactRootIndex":399,"./DefaultEventPluginOrder":404,"./EnterLeaveEventPlugin":405,"./ExecutionEnvironment":412,"./HTMLDOMPropertyConfig":414,"./MobileSafariClickEventPlugin":418,"./ReactBrowserComponentMixin":422,"./ReactClass":428,"./ReactComponentBrowserEnvironment":430,"./ReactDOMButton":437,"./ReactDOMComponent":438,"./ReactDOMForm":439,"./ReactDOMIDOperations":440,"./ReactDOMIframe":441,"./ReactDOMImg":442,"./ReactDOMInput":443,"./ReactDOMOption":444,"./ReactDOMSelect":445,"./ReactDOMTextComponent":447,"./ReactDOMTextarea":448,"./ReactDefaultBatchingStrategy":449,"./ReactDefaultPerf":451,"./ReactElement":453,"./ReactEventListener":458,"./ReactInjection":460,"./ReactInstanceHandles":462,"./ReactMount":467,"./ReactReconcileTransaction":478,"./SVGDOMPropertyConfig":492,"./SelectEventPlugin":493,"./ServerReactRootIndex":494,"./SimpleEventPlugin":495,"./createFullPageComponent":516}],451:[function(e,t,n){"use strict";function r(e){return Math.floor(100*e)/100}function i(e,t,n){e[t]=(e[t]||0)+n}var o=e("./DOMProperty"),s=e("./ReactDefaultPerfAnalysis"),a=e("./ReactMount"),l=e("./ReactPerf"),c=e("./performanceNow"),u={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){u._injected||l.injection.injectMeasure(u.measure),u._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return u._allMeasurements},printExclusive:function(e){e=e||u._allMeasurements;var t=s.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":r(e.inclusive),"Exclusive mount time (ms)":r(e.exclusive),"Exclusive render time (ms)":r(e.render),"Mount time per instance (ms)":r(e.exclusive/e.count),"Render time per instance (ms)":r(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||u._allMeasurements;var t=s.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":r(e.time),Instances:e.count}})),console.log("Total time:",s.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=s.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||u._allMeasurements,console.table(u.getMeasurementsSummaryMap(e)),console.log("Total time:",s.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||u._allMeasurements;var t=s.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[o.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",s.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,r){var i=u._allMeasurements[u._allMeasurements.length-1].writes;i[e]=i[e]||[],i[e].push({type:t,time:n,args:r})},measure:function(e,t,n){return function(){for(var r=[],o=0,s=arguments.length;s>o;o++)r.push(arguments[o]);var l,h,d;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return u._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),d=c(),h=n.apply(this,r),u._allMeasurements[u._allMeasurements.length-1].totalTime=c()-d,h;if("_mountImageIntoNode"===t||"ReactDOMIDOperations"===e){if(d=c(),h=n.apply(this,r),l=c()-d,"_mountImageIntoNode"===t){var f=a.getID(r[1]);u._recordWrite(f,t,l,r[0])}else"dangerouslyProcessChildrenUpdates"===t?r[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=r[1][e.markupIndex]),u._recordWrite(e.parentID,e.type,l,t)}):u._recordWrite(r[0],t,l,Array.prototype.slice.call(r,1));return h}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,r);if("string"==typeof this._currentElement.type)return n.apply(this,r);var p="mountComponent"===t?r[0]:this._rootNodeID,g="_renderValidatedComponent"===t,m="mountComponent"===t,v=u._mountStack,y=u._allMeasurements[u._allMeasurements.length-1];if(g?i(y.counts,p,1):m&&v.push(0),d=c(),h=n.apply(this,r),l=c()-d,g)i(y.render,p,l);else if(m){var b=v.pop();v[v.length-1]+=l,i(y.exclusive,p,l-b),i(y.inclusive,p,l)}else i(y.inclusive,p,l);return y.displayNames[p]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},h}}};t.exports=u},{"./DOMProperty":401,"./ReactDefaultPerfAnalysis":452,"./ReactMount":467,"./ReactPerf":472,"./performanceNow":553}],452:[function(e,t,n){function r(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.totalTime}return t}function i(e){for(var t=[],n=0;n<e.length;n++){var r,i=e[n];for(r in i.writes)i.writes[r].forEach(function(e){t.push({id:r,type:u[e.type]||e.type,args:e.args})})}return t}function o(e){for(var t,n={},r=0;r<e.length;r++){var i=e[r],o=l({},i.exclusive,i.inclusive);for(var s in o)t=i.displayNames[s].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},i.render[s]&&(n[t].render+=i.render[s]),i.exclusive[s]&&(n[t].exclusive+=i.exclusive[s]),i.inclusive[s]&&(n[t].inclusive+=i.inclusive[s]),i.counts[s]&&(n[t].count+=i.counts[s])}var a=[];for(t in n)n[t].exclusive>=c&&a.push(n[t]);return a.sort(function(e,t){return t.exclusive-e.exclusive}),a}function s(e,t){for(var n,r={},i=0;i<e.length;i++){var o,s=e[i],u=l({},s.exclusive,s.inclusive);t&&(o=a(s));for(var h in u)if(!t||o[h]){var d=s.displayNames[h];n=d.owner+" > "+d.current,r[n]=r[n]||{componentName:n,time:0,count:0},s.inclusive[h]&&(r[n].time+=s.inclusive[h]),s.counts[h]&&(r[n].count+=s.counts[h])}}var f=[];for(n in r)r[n].time>=c&&f.push(r[n]);return f.sort(function(e,t){return t.time-e.time}),f}function a(e){var t={},n=Object.keys(e.writes),r=l({},e.exclusive,e.inclusive);for(var i in r){for(var o=!1,s=0;s<n.length;s++)if(0===n[s].indexOf(i)){o=!0;break}!o&&e.counts[i]>0&&(t[i]=!0)}return t}var l=e("./Object.assign"),c=1.2,u={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},h={getExclusiveSummary:o,getInclusiveSummary:s,getDOMSummary:i,getTotalTime:r};t.exports=h},{"./Object.assign":419}],453:[function(e,t,n){"use strict";var r=e("./ReactContext"),i=e("./ReactCurrentOwner"),o=e("./Object.assign"),s=(e("./warning"),{key:!0,ref:!0}),a=function(e,t,n,r,i,o){this.type=e,this.key=t,this.ref=n,this._owner=r,this._context=i,this.props=o};a.prototype={_isReactElement:!0},a.createElement=function(e,t,n){var o,l={},c=null,u=null;if(null!=t){u=void 0===t.ref?null:t.ref,c=void 0===t.key?null:""+t.key;for(o in t)t.hasOwnProperty(o)&&!s.hasOwnProperty(o)&&(l[o]=t[o])}var h=arguments.length-2;if(1===h)l.children=n;else if(h>1){for(var d=Array(h),f=0;h>f;f++)d[f]=arguments[f+2];l.children=d}if(e&&e.defaultProps){var p=e.defaultProps;for(o in p)"undefined"==typeof l[o]&&(l[o]=p[o])}return new a(e,c,u,i.current,r.current,l)},a.createFactory=function(e){var t=a.createElement.bind(null,e);return t.type=e,t},a.cloneAndReplaceProps=function(e,t){var n=new a(e.type,e.key,e.ref,e._owner,e._context,t);return n},a.cloneElement=function(e,t,n){var r,l=o({},e.props),c=e.key,u=e.ref,h=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,h=i.current),void 0!==t.key&&(c=""+t.key);for(r in t)t.hasOwnProperty(r)&&!s.hasOwnProperty(r)&&(l[r]=t[r])}var d=arguments.length-2;if(1===d)l.children=n;else if(d>1){for(var f=Array(d),p=0;d>p;p++)f[p]=arguments[p+2];l.children=f}return new a(e.type,c,u,h,e._context,l)},a.isValidElement=function(e){var t=!(!e||!e._isReactElement);return t},t.exports=a},{"./Object.assign":419,"./ReactContext":434,"./ReactCurrentOwner":435,"./warning":562}],454:[function(e,t,n){"use strict";function r(){if(y.current){var e=y.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(e){var t=e&&e.getPublicInstance();if(!t)return void 0;var n=t.constructor;return n?n.displayName||n.name||void 0:void 0}function o(){var e=y.current;return e&&i(e)||void 0}function s(e,t){e._store.validated||null!=e.key||(e._store.validated=!0,l('Each child in an array or iterator should have a unique "key" prop.',e,t))}function a(e,t,n){_.test(e)&&l("Child objects should have non-numeric keys so ordering is preserved.",t,n)}function l(e,t,n){var r=o(),s="string"==typeof n?n:n.displayName||n.name,a=r||s,l=C[e]||(C[e]={});if(!l.hasOwnProperty(a)){l[a]=!0;var c="";if(t&&t._owner&&t._owner!==y.current){var u=i(t._owner);c=" It was passed a child from "+u+"."}}}function c(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];g.isValidElement(r)&&s(r,t)}else if(g.isValidElement(e))e._store.validated=!0;else if(e){var i=w(e);if(i){if(i!==e.entries)for(var o,l=i.call(e);!(o=l.next()).done;)g.isValidElement(o.value)&&s(o.value,t)}else if("object"==typeof e){var c=m.extractIfFragment(e);for(var u in c)c.hasOwnProperty(u)&&a(u,c[u],t)}}}function u(e,t,n,i){for(var o in t)if(t.hasOwnProperty(o)){var s;try{E("function"==typeof t[o]),s=t[o](n,o,e,i)}catch(e){s=e}if(s instanceof Error&&!(s.message in x)){x[s.message]=!0;r(this)}}}function h(e,t){var n=t.type,r="string"==typeof n?n:n.displayName,i=t._owner?t._owner.getPublicInstance().constructor.displayName:null,o=e+"|"+r+"|"+i;if(!A.hasOwnProperty(o)){A[o]=!0;var s="";r&&(s=" <"+r+" />");var a="";i&&(a=" The element was created by "+i+".")}}function d(e,t){return e!==e?t!==t:0===e&&0===t?1/e===1/t:e===t}function f(e){if(e._store){var t=e._store.originalProps,n=e.props;for(var r in n)n.hasOwnProperty(r)&&(t.hasOwnProperty(r)&&d(t[r],n[r])||(h(r,e),t[r]=n[r]))}}function p(e){if(null!=e.type){var t=b.getComponentClassForElement(e),n=t.displayName||t.name;t.propTypes&&u(n,t.propTypes,e.props,v.prop),"function"==typeof t.getDefaultProps}}var g=e("./ReactElement"),m=e("./ReactFragment"),v=e("./ReactPropTypeLocations"),y=(e("./ReactPropTypeLocationNames"),e("./ReactCurrentOwner")),b=e("./ReactNativeComponent"),w=e("./getIteratorFn"),E=e("./invariant"),C=(e("./warning"),{}),x={},_=/^\d+$/,A={},D={checkAndWarnForMutatedProps:f,createElement:function(e,t,n){var r=g.createElement.apply(this,arguments);if(null==r)return r;for(var i=2;i<arguments.length;i++)c(arguments[i],e);return p(r),r},createFactory:function(e){var t=D.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=g.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)c(arguments[i],r.type);return p(r),r}};t.exports=D},{"./ReactCurrentOwner":435,"./ReactElement":453,"./ReactFragment":459,"./ReactNativeComponent":470,"./ReactPropTypeLocationNames":474,"./ReactPropTypeLocations":475,"./getIteratorFn":532,"./invariant":541,"./warning":562}],455:[function(e,t,n){"use strict";function r(e){u[e]=!0}function i(e){delete u[e]}function o(e){return!!u[e]}var s,a=e("./ReactElement"),l=e("./ReactInstanceMap"),c=e("./invariant"),u={},h={injectEmptyComponent:function(e){s=a.createFactory(e)}},d=function(){};d.prototype.componentDidMount=function(){var e=l.get(this);e&&r(e._rootNodeID)},d.prototype.componentWillUnmount=function(){var e=l.get(this);e&&i(e._rootNodeID)},d.prototype.render=function(){return c(s),s()};var f=a.createElement(d),p={emptyElement:f,injection:h,isNullComponentID:o};t.exports=p},{"./ReactElement":453,"./ReactInstanceMap":463,"./invariant":541}],456:[function(e,t,n){"use strict";var r={guard:function(e,t){return e}};t.exports=r},{}],457:[function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue()}var i=e("./EventPluginHub"),o={handleTopLevel:function(e,t,n,o){var s=i.extractEvents(e,t,n,o);r(s)}};t.exports=o},{"./EventPluginHub":408}],458:[function(e,t,n){"use strict";function r(e){var t=h.getID(e),n=u.getReactRootIDFromNodeID(t),r=h.findReactContainerForID(n),i=h.getFirstReactDOM(r);return i}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){for(var t=h.getFirstReactDOM(p(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var i=0,o=e.ancestors.length;o>i;i++){t=e.ancestors[i];var s=h.getID(t)||"";m._handleTopLevel(e.topLevelType,t,s,e.nativeEvent)}}function s(e){var t=g(window);e(t)}var a=e("./EventListener"),l=e("./ExecutionEnvironment"),c=e("./PooledClass"),u=e("./ReactInstanceHandles"),h=e("./ReactMount"),d=e("./ReactUpdates"),f=e("./Object.assign"),p=e("./getEventTarget"),g=e("./getUnboundedScrollPosition");f(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?a.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?a.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);a.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=i.getPooled(e,t);try{d.batchedUpdates(o,n)}finally{i.release(n)}}}};t.exports=m},{"./EventListener":407,"./ExecutionEnvironment":412,"./Object.assign":419,"./PooledClass":420,"./ReactInstanceHandles":462,"./ReactMount":467,"./ReactUpdates":490,"./getEventTarget":531,"./getUnboundedScrollPosition":537}],459:[function(e,t,n){"use strict";var r=(e("./ReactElement"),e("./warning"),{create:function(e){return e},extract:function(e){return e},extractIfFragment:function(e){return e}});t.exports=r},{"./ReactElement":453,"./warning":562}],460:[function(e,t,n){"use strict";var r=e("./DOMProperty"),i=e("./EventPluginHub"),o=e("./ReactComponentEnvironment"),s=e("./ReactClass"),a=e("./ReactEmptyComponent"),l=e("./ReactBrowserEventEmitter"),c=e("./ReactNativeComponent"),u=e("./ReactDOMComponent"),h=e("./ReactPerf"),d=e("./ReactRootIndex"),f=e("./ReactUpdates"),p={Component:o.injection,Class:s.injection,DOMComponent:u.injection,DOMProperty:r.injection,EmptyComponent:a.injection,EventPluginHub:i.injection,EventEmitter:l.injection,NativeComponent:c.injection,Perf:h.injection,RootIndex:d.injection,Updates:f.injection};t.exports=p},{"./DOMProperty":401,"./EventPluginHub":408,"./ReactBrowserEventEmitter":423,"./ReactClass":428,"./ReactComponentEnvironment":431,"./ReactDOMComponent":438,"./ReactEmptyComponent":455,"./ReactNativeComponent":470,"./ReactPerf":472,"./ReactRootIndex":481,"./ReactUpdates":490}],461:[function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=e("./ReactDOMSelection"),o=e("./containsNode"),s=e("./focusNode"),a=e("./getActiveElement"),l={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=a(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,i),s(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};t.exports=l},{"./ReactDOMSelection":446,"./containsNode":514,"./focusNode":525,"./getActiveElement":527}],462:[function(e,t,n){"use strict";function r(e){return f+e.toString(36)}function i(e,t){return e.charAt(t)===f||t===e.length}function o(e){return""===e||e.charAt(0)===f&&e.charAt(e.length-1)!==f}function s(e,t){return 0===t.indexOf(e)&&i(t,e.length)}function a(e){return e?e.substr(0,e.lastIndexOf(f)):""}function l(e,t){if(d(o(e)&&o(t)),d(s(e,t)),e===t)return e;var n,r=e.length+p;for(n=r;n<t.length&&!i(t,n);n++);return t.substr(0,n)}function c(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,s=0;n>=s;s++)if(i(e,s)&&i(t,s))r=s;else if(e.charAt(s)!==t.charAt(s))break;var a=e.substr(0,r);return d(o(a)),a}function u(e,t,n,r,i,o){e=e||"",t=t||"",d(e!==t);var c=s(t,e);d(c||s(e,t));for(var u=0,h=c?a:l,f=e;;f=h(f,t)){var p;if(i&&f===e||o&&f===t||(p=n(f,c,r)),p===!1||f===t)break;d(u++<g)}}var h=e("./ReactRootIndex"),d=e("./invariant"),f=".",p=f.length,g=100,m={createReactRootID:function(){return r(h.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===f&&e.length>1){var t=e.indexOf(f,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,i){var o=c(e,t);o!==e&&u(e,o,n,r,!1,!0),o!==t&&u(o,t,n,i,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(u("",e,t,n,!0,!1),u(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){u("",e,t,n,!0,!1)},_getFirstCommonAncestorID:c,_getNextDescendantID:l,isAncestorIDOf:s,SEPARATOR:f};t.exports=m},{"./ReactRootIndex":481,"./invariant":541}],463:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],464:[function(e,t,n){"use strict";var r={currentlyMountingInstance:null,currentlyUnmountingInstance:null};t.exports=r},{}],465:[function(e,t,n){"use strict";function r(e,t){this.value=e,this.requestChange=t}function i(e){var t={value:"undefined"==typeof e?o.PropTypes.any.isRequired:e.isRequired,requestChange:o.PropTypes.func.isRequired};return o.PropTypes.shape(t)}var o=e("./React");r.PropTypes={link:i},t.exports=r},{"./React":421}],466:[function(e,t,n){"use strict";var r=e("./adler32"),i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(">"," "+i.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var n=t.getAttribute(i.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};t.exports=i},{"./adler32":510}],467:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){var t=T(e);return t&&W.getID(t)}function o(e){var t=s(e);if(t)if(I.hasOwnProperty(t)){var n=I[t];n!==e&&(k(!u(n,t)),I[t]=e)}else I[t]=e;return t}function s(e){return e&&e.getAttribute&&e.getAttribute(O)||""}function a(e,t){var n=s(e);n!==t&&delete I[n],e.setAttribute(O,t),I[t]=e}function l(e){return I.hasOwnProperty(e)&&u(I[e],e)||(I[e]=W.findReactNodeByID(e)),I[e]}function c(e){var t=E.get(e)._rootNodeID;return b.isNullComponentID(t)?null:(I.hasOwnProperty(t)&&u(I[t],t)||(I[t]=W.findReactNodeByID(t)),I[t])}function u(e,t){if(e){k(s(e)===t);var n=W.findReactContainerForID(t);if(n&&S(n,e))return!0}return!1}function h(e){delete I[e]}function d(e){var t=I[e];return t&&u(t,e)?void(z=t):!1}function f(e){z=null,w.traverseAncestors(e,d);var t=z;return z=null,t}function p(e,t,n,r,i){var o=_.mountComponent(e,t,r,F);e._isTopLevel=!0,W._mountImageIntoNode(o,n,i)}function g(e,t,n,r){var i=D.ReactReconcileTransaction.getPooled();i.perform(p,null,e,t,n,i,r),D.ReactReconcileTransaction.release(i)}var m=e("./DOMProperty"),v=e("./ReactBrowserEventEmitter"),y=(e("./ReactCurrentOwner"),e("./ReactElement")),b=(e("./ReactElementValidator"),e("./ReactEmptyComponent")),w=e("./ReactInstanceHandles"),E=e("./ReactInstanceMap"),C=e("./ReactMarkupChecksum"),x=e("./ReactPerf"),_=e("./ReactReconciler"),A=e("./ReactUpdateQueue"),D=e("./ReactUpdates"),F=e("./emptyObject"),S=e("./containsNode"),T=e("./getReactRootElementInContainer"),R=e("./instantiateReactComponent"),k=e("./invariant"),M=e("./setInnerHTML"),L=e("./shouldUpdateReactComponent"),B=(e("./warning"),w.SEPARATOR),O=m.ID_ATTRIBUTE_NAME,I={},P=1,$=9,j={},N={},U=[],z=null,W={_instancesByReactRootID:j,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return W.scrollMonitor(n,function(){A.enqueueElementInternal(e,t),r&&A.enqueueCallbackInternal(e,r)}),e},_registerComponent:function(e,t){k(t&&(t.nodeType===P||t.nodeType===$)),v.ensureScrollValueMonitoring();var n=W.registerContainer(t);return j[n]=e,n},_renderNewRootComponent:function(e,t,n){var r=R(e,null),i=W._registerComponent(r,t);return D.batchedUpdates(g,r,i,t,n),r},render:function(e,t,n){k(y.isValidElement(e));var r=j[i(t)];if(r){var o=r._currentElement;if(L(o,e))return W._updateRootComponent(r,e,t,n).getPublicInstance();W.unmountComponentAtNode(t)}var s=T(t),a=s&&W.isRenderedByReact(s),l=a&&!r,c=W._renderNewRootComponent(e,t,l).getPublicInstance();return n&&n.call(c),c},constructAndRenderComponent:function(e,t,n){var r=y.createElement(e,t);return W.render(r,n)},constructAndRenderComponentByID:function(e,t,n){var r=document.getElementById(n);return k(r),W.constructAndRenderComponent(e,t,r)},registerContainer:function(e){var t=i(e);return t&&(t=w.getReactRootIDFromNodeID(t)),t||(t=w.createReactRootID()),N[t]=e,t},unmountComponentAtNode:function(e){k(e&&(e.nodeType===P||e.nodeType===$));var t=i(e),n=j[t];return n?(W.unmountComponentFromNode(n,e),delete j[t],delete N[t],!0):!1},unmountComponentFromNode:function(e,t){for(_.unmountComponent(e),t.nodeType===$&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=w.getReactRootIDFromNodeID(e),n=N[t];return n},findReactNodeByID:function(e){var t=W.findReactContainerForID(e);return W.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=W.getID(e);return t?t.charAt(0)===B:!1},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(W.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=U,r=0,i=f(t)||e;for(n[0]=i.firstChild,n.length=1;r<n.length;){for(var o,s=n[r++];s;){var a=W.getID(s);a?t===a?o=s:w.isAncestorIDOf(a,t)&&(n.length=r=0,n.push(s.firstChild)):n.push(s.firstChild),s=s.nextSibling}if(o)return n.length=0,o}n.length=0,k(!1)},_mountImageIntoNode:function(e,t,n){if(k(t&&(t.nodeType===P||t.nodeType===$)),n){var i=T(t);if(C.canReuseMarkup(e,i))return;var o=i.getAttribute(C.CHECKSUM_ATTR_NAME);i.removeAttribute(C.CHECKSUM_ATTR_NAME);var s=i.outerHTML;i.setAttribute(C.CHECKSUM_ATTR_NAME,o);var a=r(e,s);" (client) "+e.substring(a-20,a+20)+"\n (server) "+s.substring(a-20,a+20);k(t.nodeType!==$)}k(t.nodeType!==$),M(t,e)},getReactRootID:i,getID:o,setID:a,getNode:l,getNodeFromInstance:c,purgeID:h};x.measureMethods(W,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=W},{"./DOMProperty":401,"./ReactBrowserEventEmitter":423,"./ReactCurrentOwner":435,"./ReactElement":453,"./ReactElementValidator":454,"./ReactEmptyComponent":455,"./ReactInstanceHandles":462,"./ReactInstanceMap":463,"./ReactMarkupChecksum":466,"./ReactPerf":472,"./ReactReconciler":479,"./ReactUpdateQueue":489,"./ReactUpdates":490,"./containsNode":514,"./emptyObject":521,"./getReactRootElementInContainer":535,"./instantiateReactComponent":540,"./invariant":541,"./setInnerHTML":555,
"./shouldUpdateReactComponent":558,"./warning":562}],468:[function(e,t,n){"use strict";function r(e,t,n){p.push({parentID:e,parentNode:null,type:u.INSERT_MARKUP,markupIndex:g.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function i(e,t,n){p.push({parentID:e,parentNode:null,type:u.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function o(e,t){p.push({parentID:e,parentNode:null,type:u.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function s(e,t){p.push({parentID:e,parentNode:null,type:u.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function a(){p.length&&(c.processChildrenUpdates(p,g),l())}function l(){p.length=0,g.length=0}var c=e("./ReactComponentEnvironment"),u=e("./ReactMultiChildUpdateTypes"),h=e("./ReactReconciler"),d=e("./ReactChildReconciler"),f=0,p=[],g=[],m={Mixin:{mountChildren:function(e,t,n){var r=d.instantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],l=this._rootNodeID+s,c=h.mountComponent(a,l,t,n);a._mountIndex=o,i.push(c),o++}return i},updateTextContent:function(e){f++;var t=!0;try{var n=this._renderedChildren;d.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setTextContent(e),t=!1}finally{f--,f||(t?l():a())}},updateChildren:function(e,t,n){f++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{f--,f||(r?l():a())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,i=d.updateChildren(r,e,t,n);if(this._renderedChildren=i,i||r){var o,s=0,a=0;for(o in i)if(i.hasOwnProperty(o)){var l=r&&r[o],c=i[o];l===c?(this.moveChild(l,a,s),s=Math.max(l._mountIndex,s),l._mountIndex=a):(l&&(s=Math.max(l._mountIndex,s),this._unmountChildByName(l,o)),this._mountChildByNameAtIndex(c,o,a,t,n)),a++}for(o in r)!r.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||this._unmountChildByName(r[o],o)}},unmountChildren:function(){var e=this._renderedChildren;d.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&i(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){o(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,i){var o=this._rootNodeID+t,s=h.mountComponent(e,o,r,i);e._mountIndex=n,this.createChild(e,s)},_unmountChildByName:function(e,t){this.removeChild(e),e._mountIndex=null}}};t.exports=m},{"./ReactChildReconciler":426,"./ReactComponentEnvironment":431,"./ReactMultiChildUpdateTypes":469,"./ReactReconciler":479}],469:[function(e,t,n){"use strict";var r=e("./keyMirror"),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=i},{"./keyMirror":547}],470:[function(e,t,n){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=h[t];return null==n&&(h[t]=n=c(t)),n}function i(e){return l(u),new u(e.type,e.props)}function o(e){return new d(e)}function s(e){return e instanceof d}var a=e("./Object.assign"),l=e("./invariant"),c=null,u=null,h={},d=null,f={injectGenericComponentClass:function(e){u=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){a(h,e)},injectAutoWrapper:function(e){c=e}},p={getComponentClassForElement:r,createInternalComponent:i,createInstanceForText:o,isTextComponent:s,injection:f};t.exports=p},{"./Object.assign":419,"./invariant":541}],471:[function(e,t,n){"use strict";var r=e("./invariant"),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){r(i.isValidOwner(n)),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(i.isValidOwner(n)),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};t.exports=i},{"./invariant":541}],472:[function(e,t,n){"use strict";function r(e,t,n){return n}var i={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){i.storedMeasure=e}}};t.exports=i},{}],473:[function(e,t,n){"use strict";function r(e){return function(t,n,r){t.hasOwnProperty(n)?t[n]=e(t[n],r):t[n]=r}}function i(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=c[n];r&&c.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var o=e("./Object.assign"),s=e("./emptyFunction"),a=e("./joinClasses"),l=r(function(e,t){return o({},t,e)}),c={children:s,className:r(a),style:l},u={mergeProps:function(e,t){return i(o({},e),t)}};t.exports=u},{"./Object.assign":419,"./emptyFunction":520,"./joinClasses":546}],474:[function(e,t,n){"use strict";var r={};t.exports=r},{}],475:[function(e,t,n){"use strict";var r=e("./keyMirror"),i=r({prop:null,context:null,childContext:null});t.exports=i},{"./keyMirror":547}],476:[function(e,t,n){"use strict";function r(e){function t(t,n,r,i,o){if(i=i||E,null==n[r]){var s=b[o];return t?new Error("Required "+s+" `"+r+"` was not specified in "+("`"+i+"`.")):null}return e(n,r,i,o)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,r,i){var o=t[n],s=g(o);if(s!==e){var a=b[i],l=m(o);return new Error("Invalid "+a+" `"+n+"` of type `"+l+"` "+("supplied to `"+r+"`, expected `"+e+"`."))}return null}return r(t)}function o(){return r(w.thatReturns(null))}function s(e){function t(t,n,r,i){var o=t[n];if(!Array.isArray(o)){var s=b[i],a=g(o);return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<o.length;l++){var c=e(o,l,r,i);if(c instanceof Error)return c}return null}return r(t)}function a(){function e(e,t,n,r){if(!v.isValidElement(e[t])){var i=b[r];return new Error("Invalid "+i+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return r(e)}function l(e){function t(t,n,r,i){if(!(t[n]instanceof e)){var o=b[i],s=e.name||E;return new Error("Invalid "+o+" `"+n+"` supplied to "+("`"+r+"`, expected instance of `"+s+"`."))}return null}return r(t)}function c(e){function t(t,n,r,i){for(var o=t[n],s=0;s<e.length;s++)if(o===e[s])return null;var a=b[i],l=JSON.stringify(e);return new Error("Invalid "+a+" `"+n+"` of value `"+o+"` "+("supplied to `"+r+"`, expected one of "+l+"."))}return r(t)}function u(e){function t(t,n,r,i){var o=t[n],s=g(o);if("object"!==s){var a=b[i];return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var l in o)if(o.hasOwnProperty(l)){var c=e(o,l,r,i);if(c instanceof Error)return c}return null}return r(t)}function h(e){function t(t,n,r,i){for(var o=0;o<e.length;o++){var s=e[o];if(null==s(t,n,r,i))return null}var a=b[i];return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+r+"`."))}return r(t)}function d(){function e(e,t,n,r){if(!p(e[t])){var i=b[r];return new Error("Invalid "+i+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function f(e){function t(t,n,r,i){var o=t[n],s=g(o);if("object"!==s){var a=b[i];return new Error("Invalid "+a+" `"+n+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var u=c(o,l,r,i);if(u)return u}}return null}return r(t)}function p(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(p);if(null===e||v.isValidElement(e))return!0;e=y.extractIfFragment(e);for(var t in e)if(!p(e[t]))return!1;return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function m(e){var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var v=e("./ReactElement"),y=e("./ReactFragment"),b=e("./ReactPropTypeLocationNames"),w=e("./emptyFunction"),E="<<anonymous>>",C=a(),x=d(),_={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:o(),arrayOf:s,element:C,instanceOf:l,node:x,objectOf:u,oneOf:c,oneOfType:h,shape:f};t.exports=_},{"./ReactElement":453,"./ReactFragment":459,"./ReactPropTypeLocationNames":474,"./emptyFunction":520}],477:[function(e,t,n){"use strict";function r(){this.listenersToPut=[]}var i=e("./PooledClass"),o=e("./ReactBrowserEventEmitter"),s=e("./Object.assign");s(r.prototype,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];o.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r},{"./Object.assign":419,"./PooledClass":420,"./ReactBrowserEventEmitter":423}],478:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.putListenerQueue=l.getPooled()}var i=e("./CallbackQueue"),o=e("./PooledClass"),s=e("./ReactBrowserEventEmitter"),a=e("./ReactInputSelection"),l=e("./ReactPutListenerQueue"),c=e("./Transaction"),u=e("./Object.assign"),h={initialize:a.getSelectionInformation,close:a.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},p={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},g=[p,h,d,f],m={getTransactionWrappers:function(){return g},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,l.release(this.putListenerQueue),this.putListenerQueue=null}};u(r.prototype,c.Mixin,m),o.addPoolingTo(r),t.exports=r},{"./CallbackQueue":397,"./Object.assign":419,"./PooledClass":420,"./ReactBrowserEventEmitter":423,"./ReactInputSelection":461,"./ReactPutListenerQueue":477,"./Transaction":507}],479:[function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=e("./ReactRef"),o=(e("./ReactElementValidator"),{mountComponent:function(e,t,n,i){var o=e.mountComponent(t,n,i);return n.getReactMountReady().enqueue(r,e),o},unmountComponent:function(e){i.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,o){var s=e._currentElement;if(t!==s||null==t._owner){var a=i.shouldUpdateRefs(s,t);a&&i.detachRefs(e,s),e.receiveComponent(t,n,o),a&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}});t.exports=o},{"./ReactElementValidator":454,"./ReactRef":480}],480:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=e("./ReactOwner"),s={};s.attachRefs=function(e,t){var n=t.ref;null!=n&&r(n,e,t._owner)},s.shouldUpdateRefs=function(e,t){return t._owner!==e._owner||t.ref!==e.ref},s.detachRefs=function(e,t){var n=t.ref;null!=n&&i(n,e,t._owner)},t.exports=s},{"./ReactOwner":471}],481:[function(e,t,n){"use strict";var r={injectCreateReactRootIndex:function(e){i.createReactRootIndex=e}},i={createReactRootIndex:null,injection:r};t.exports=i},{}],482:[function(e,t,n){"use strict";function r(e){h(o.isValidElement(e));var t;try{var n=s.createReactRootID();return t=l.getPooled(!1),t.perform(function(){var r=u(e,null),i=r.mountComponent(n,t,c);return a.addChecksumToMarkup(i)},null)}finally{l.release(t)}}function i(e){h(o.isValidElement(e));var t;try{var n=s.createReactRootID();return t=l.getPooled(!0),t.perform(function(){var r=u(e,null);return r.mountComponent(n,t,c)},null)}finally{l.release(t)}}var o=e("./ReactElement"),s=e("./ReactInstanceHandles"),a=e("./ReactMarkupChecksum"),l=e("./ReactServerRenderingTransaction"),c=e("./emptyObject"),u=e("./instantiateReactComponent"),h=e("./invariant");t.exports={renderToString:r,renderToStaticMarkup:i}},{"./ReactElement":453,"./ReactInstanceHandles":462,"./ReactMarkupChecksum":466,"./ReactServerRenderingTransaction":483,"./emptyObject":521,"./instantiateReactComponent":540,"./invariant":541}],483:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=o.getPooled(null),this.putListenerQueue=s.getPooled()}var i=e("./PooledClass"),o=e("./CallbackQueue"),s=e("./ReactPutListenerQueue"),a=e("./Transaction"),l=e("./Object.assign"),c=e("./emptyFunction"),u={initialize:function(){this.reactMountReady.reset()},close:c},h={initialize:function(){this.putListenerQueue.reset()},close:c},d=[h,u],f={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,s.release(this.putListenerQueue),this.putListenerQueue=null}};l(r.prototype,a.Mixin,f),i.addPoolingTo(r),t.exports=r},{"./CallbackQueue":397,"./Object.assign":419,"./PooledClass":420,"./ReactPutListenerQueue":477,"./Transaction":507,"./emptyFunction":520}],484:[function(e,t,n){"use strict";function r(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var i={createStateSetter:function(e,t){return function(n,r,i,o,s,a){var l=t.call(e,n,r,i,o,s,a);l&&e.setState(l)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=r(e,t))}};i.Mixin={createStateSetter:function(e){return i.createStateSetter(this,e)},createStateKeySetter:function(e){return i.createStateKeySetter(this,e)}},t.exports=i},{}],485:[function(e,t,n){"use strict";function r(e){}function i(e){return function(t,n){var i;x.isDOMComponent(t)?i=t.getDOMNode():t.tagName&&(i=t);var o=new r;o.target=i;var s=new b(f.eventNameDispatchConfigs[e],v.getID(i),o);w(s,n),c.accumulateTwoPhaseDispatches(s),y.batchedUpdates(function(){l.enqueueEvents(s),l.processEventQueue()})}}function o(){x.Simulate={};var e;for(e in f.eventNameDispatchConfigs)x.Simulate[e]=i(e)}function s(e){return function(t,n){var i=new r(e);w(i,n),x.isDOMComponent(t)?x.simulateNativeEventOnDOMComponent(e,t,i):t.tagName&&x.simulateNativeEventOnNode(e,t,i)}}var a=e("./EventConstants"),l=e("./EventPluginHub"),c=e("./EventPropagators"),u=e("./React"),h=e("./ReactElement"),d=e("./ReactEmptyComponent"),f=e("./ReactBrowserEventEmitter"),p=e("./ReactCompositeComponent"),g=e("./ReactInstanceHandles"),m=e("./ReactInstanceMap"),v=e("./ReactMount"),y=e("./ReactUpdates"),b=e("./SyntheticEvent"),w=e("./Object.assign"),E=e("./emptyObject"),C=a.topLevelTypes,x={renderIntoDocument:function(e){var t=document.createElement("div");return u.render(e,t)},isElement:function(e){return h.isValidElement(e)},isElementOfType:function(e,t){return h.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!!(e&&e.tagName&&e.getDOMNode)},isDOMComponentElement:function(e){return!!(e&&h.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){return!(!x.isCompositeComponent(e)||e.constructor!==t)},isCompositeComponentElement:function(e){if(!h.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){return!(!x.isCompositeComponentElement(e)||e.constructor!==t)},getRenderedChildOfCompositeComponent:function(e){if(!x.isCompositeComponent(e))return null;var t=m.get(e);return t._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(e,t){if(!e)return[];var n=t(e)?[e]:[];if(x.isDOMComponent(e)){var r,i=m.get(e),o=i._renderedComponent._renderedChildren;for(r in o)o.hasOwnProperty(r)&&o[r].getPublicInstance&&(n=n.concat(x.findAllInRenderedTree(o[r].getPublicInstance(),t)))}else x.isCompositeComponent(e)&&(n=n.concat(x.findAllInRenderedTree(x.getRenderedChildOfCompositeComponent(e),t)));return n},scryRenderedDOMComponentsWithClass:function(e,t){return x.findAllInRenderedTree(e,function(e){var n=e.props.className;return x.isDOMComponent(e)&&n&&-1!==(" "+n+" ").indexOf(" "+t+" ")})},findRenderedDOMComponentWithClass:function(e,t){var n=x.scryRenderedDOMComponentsWithClass(e,t);if(1!==n.length)throw new Error("Did not find exactly one match (found: "+n.length+") for class:"+t);return n[0]},scryRenderedDOMComponentsWithTag:function(e,t){return x.findAllInRenderedTree(e,function(e){return x.isDOMComponent(e)&&e.tagName===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var n=x.scryRenderedDOMComponentsWithTag(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for tag:"+t);return n[0]},scryRenderedComponentsWithType:function(e,t){return x.findAllInRenderedTree(e,function(e){return x.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var n=x.scryRenderedComponentsWithType(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for componentType:"+t);return n[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return u.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,n){n.target=t,f.ReactEventListener.dispatchEvent(e,n)},simulateNativeEventOnDOMComponent:function(e,t,n){x.simulateNativeEventOnNode(e,t.getDOMNode(),n)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new _},Simulate:null,SimulateNative:{}},_=function(){this._instance=null};_.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var A=function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?d.emptyElement:e};A.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?d.emptyElement:e},unmountComponent:function(){}};var D=function(){};w(D.prototype,p.Mixin,{_instantiateReactComponent:function(e){return new A(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:p.Mixin._renderValidatedComponentWithoutOwnerOrContext}),_.prototype.render=function(e,t){t||(t=E);var n=y.ReactReconcileTransaction.getPooled();this._render(e,n,t),y.ReactReconcileTransaction.release(n)},_.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},_.prototype._render=function(e,t,n){if(this._instance)this._instance.receiveComponent(e,t,n);else{var r=g.createReactRootID(),i=new D(e.type);i.construct(e),i.mountComponent(r,t,n),this._instance=i}};var F=l.injection.injectEventPluginOrder;l.injection.injectEventPluginOrder=function(){F.apply(this,arguments),o()};var S=l.injection.injectEventPluginsByName;l.injection.injectEventPluginsByName=function(){S.apply(this,arguments),o()},o();var T;for(T in C){var R=0===T.indexOf("top")?T.charAt(3).toLowerCase()+T.substr(4):T;x.SimulateNative[R]=s(T)}t.exports=x},{"./EventConstants":406,"./EventPluginHub":408,"./EventPropagators":411,"./Object.assign":419,"./React":421,"./ReactBrowserEventEmitter":423,"./ReactCompositeComponent":433,"./ReactElement":453,"./ReactEmptyComponent":455,"./ReactInstanceHandles":462,"./ReactInstanceMap":463,"./ReactMount":467,"./ReactUpdates":490,"./SyntheticEvent":499,"./emptyObject":521}],486:[function(e,t,n){"use strict";var r=e("./ReactChildren"),i=e("./ReactFragment"),o={getChildMapping:function(e){return e?i.extract(r.map(e,function(e){return e})):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r.hasOwnProperty(l))for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}};t.exports=o},{"./ReactChildren":427,"./ReactFragment":459}],487:[function(e,t,n){"use strict";function r(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var n in a){var r=a[n];for(var i in r)if(i in t){l.push(r[i]);break}}}function i(e,t,n){e.addEventListener(t,n,!1)}function o(e,t,n){e.removeEventListener(t,n,!1)}var s=e("./ExecutionEnvironment"),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},l=[];s.canUseDOM&&r();var c={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(n){i(e,n,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(n){o(e,n,t)})}};t.exports=c},{"./ExecutionEnvironment":412}],488:[function(e,t,n){"use strict";var r=e("./React"),i=e("./ReactTransitionChildMapping"),o=e("./Object.assign"),s=e("./cloneWithProps"),a=e("./emptyFunction"),l=r.createClass({displayName:"ReactTransitionGroup",propTypes:{component:r.PropTypes.any,childFactory:r.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:i.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=i.getChildMapping(e.children),n=this.state.children;this.setState({children:i.mergeChildMappings(n,t)});var r;for(r in t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var s=t&&t.hasOwnProperty(r);!n[r]||s||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(e))this.performEnter(e);else{var r=o({},this.state.children);delete r[e],this.setState({children:r})}},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(s(this.props.childFactory(n),{ref:t,key:t}))}return r.createElement(this.props.component,this.props,e)}});t.exports=l},{"./Object.assign":419,"./React":421,"./ReactTransitionChildMapping":486,"./cloneWithProps":513,"./emptyFunction":520}],489:[function(e,t,n){"use strict";function r(e){e!==o.currentlyMountingInstance&&c.enqueueUpdate(e)}function i(e,t){h(null==s.current);var n=l.get(e);return n?n===o.currentlyUnmountingInstance?null:n:null}var o=e("./ReactLifeCycle"),s=e("./ReactCurrentOwner"),a=e("./ReactElement"),l=e("./ReactInstanceMap"),c=e("./ReactUpdates"),u=e("./Object.assign"),h=e("./invariant"),d=(e("./warning"),{enqueueCallback:function(e,t){h("function"==typeof t);var n=i(e);return n&&n!==o.currentlyMountingInstance?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void r(n)):null},enqueueCallbackInternal:function(e,t){h("function"==typeof t),e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),r(n)}},enqueueSetProps:function(e,t){var n=i(e,"setProps");if(n){h(n._isTopLevel);var o=n._pendingElement||n._currentElement,s=u({},o.props,t);n._pendingElement=a.cloneAndReplaceProps(o,s),r(n)}},enqueueReplaceProps:function(e,t){var n=i(e,"replaceProps");if(n){h(n._isTopLevel);var o=n._pendingElement||n._currentElement;n._pendingElement=a.cloneAndReplaceProps(o,t),r(n)}},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}});t.exports=d},{"./Object.assign":419,"./ReactCurrentOwner":435,"./ReactElement":453,"./ReactInstanceMap":463,"./ReactLifeCycle":464,"./ReactUpdates":490,"./invariant":541,"./warning":562}],490:[function(e,t,n){"use strict";function r(){m(D.ReactReconcileTransaction&&w)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=u.getPooled(),this.reconcileTransaction=D.ReactReconcileTransaction.getPooled()}function o(e,t,n,i,o){r(),w.batchedUpdates(e,t,n,i,o)}function s(e,t){return e._mountOrder-t._mountOrder}function a(e){var t=e.dirtyComponentsLength;m(t===v.length),v.sort(s);for(var n=0;t>n;n++){var r=v[n],i=r._pendingCallbacks;if(r._pendingCallbacks=null,f.performUpdateIfNecessary(r,e.reconcileTransaction),i)for(var o=0;o<i.length;o++)e.callbackQueue.enqueue(i[o],r.getPublicInstance())}}function l(e){return r(),w.isBatchingUpdates?void v.push(e):void w.batchedUpdates(l,e)}function c(e,t){m(w.isBatchingUpdates),y.enqueue(e,t),b=!0}var u=e("./CallbackQueue"),h=e("./PooledClass"),d=(e("./ReactCurrentOwner"),e("./ReactPerf")),f=e("./ReactReconciler"),p=e("./Transaction"),g=e("./Object.assign"),m=e("./invariant"),v=(e("./warning"),[]),y=u.getPooled(),b=!1,w=null,E={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),_()):v.length=0}},C={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[E,C];g(i.prototype,p.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,u.release(this.callbackQueue),this.callbackQueue=null,D.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return p.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),h.addPoolingTo(i);var _=function(){for(;v.length||b;){if(v.length){var e=i.getPooled();e.perform(a,null,e),i.release(e)}if(b){b=!1;var t=y;y=u.getPooled(),t.notifyAll(),u.release(t)}}};_=d.measure("ReactUpdates","flushBatchedUpdates",_);var A={injectReconcileTransaction:function(e){m(e),D.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){m(e),m("function"==typeof e.batchedUpdates),m("boolean"==typeof e.isBatchingUpdates),w=e}},D={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:_,injection:A,asap:c};t.exports=D},{"./CallbackQueue":397,"./Object.assign":419,"./PooledClass":420,"./ReactCurrentOwner":435,"./ReactPerf":472,"./ReactReconciler":479,"./Transaction":507,"./invariant":541,"./warning":562}],491:[function(e,t,n){"use strict";var r=e("./LinkedStateMixin"),i=e("./React"),o=e("./ReactComponentWithPureRenderMixin"),s=e("./ReactCSSTransitionGroup"),a=e("./ReactFragment"),l=e("./ReactTransitionGroup"),c=e("./ReactUpdates"),u=e("./cx"),h=e("./cloneWithProps"),d=e("./update");i.addons={CSSTransitionGroup:s,LinkedStateMixin:r,PureRenderMixin:o,TransitionGroup:l,batchedUpdates:c.batchedUpdates,classSet:u,cloneWithProps:h,createFragment:a.create,update:d},t.exports=i},{"./LinkedStateMixin":415,"./React":421,"./ReactCSSTransitionGroup":424,"./ReactComponentWithPureRenderMixin":432,"./ReactDefaultPerf":451,"./ReactFragment":459,"./ReactTestUtils":485,"./ReactTransitionGroup":488,"./ReactUpdates":490,"./cloneWithProps":513,"./cx":518,"./update":561}],492:[function(e,t,n){"use strict";var r=e("./DOMProperty"),i=r.injection.MUST_USE_ATTRIBUTE,o={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,y1:i,y2:i,y:i},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=o},{"./DOMProperty":401}],493:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e){if(y||null==g||g!==c())return null;var t=r(g);if(!v||!d(v,t)){v=t;var n=l.getPooled(p.select,m,e);return n.type="select",n.target=g,s.accumulateTwoPhaseDispatches(n),n}}var o=e("./EventConstants"),s=e("./EventPropagators"),a=e("./ReactInputSelection"),l=e("./SyntheticEvent"),c=e("./getActiveElement"),u=e("./isTextInputElement"),h=e("./keyOf"),d=e("./shallowEqual"),f=o.topLevelTypes,p={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},g=null,m=null,v=null,y=!1,b={eventTypes:p,extractEvents:function(e,t,n,r){switch(e){case f.topFocus:(u(t)||"true"===t.contentEditable)&&(g=t,m=n,v=null);break;case f.topBlur:g=null,m=null,v=null;break;case f.topMouseDown:y=!0;break;case f.topContextMenu:case f.topMouseUp:return y=!1,i(r);case f.topSelectionChange:case f.topKeyDown:case f.topKeyUp:return i(r)}}};t.exports=b},{"./EventConstants":406,"./EventPropagators":411,"./ReactInputSelection":461,"./SyntheticEvent":499,"./getActiveElement":527,"./isTextInputElement":544,"./keyOf":548,"./shallowEqual":557}],494:[function(e,t,n){"use strict";var r=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};t.exports=i},{}],495:[function(e,t,n){"use strict";var r=e("./EventConstants"),i=e("./EventPluginUtils"),o=e("./EventPropagators"),s=e("./SyntheticClipboardEvent"),a=e("./SyntheticEvent"),l=e("./SyntheticFocusEvent"),c=e("./SyntheticKeyboardEvent"),u=e("./SyntheticMouseEvent"),h=e("./SyntheticDragEvent"),d=e("./SyntheticTouchEvent"),f=e("./SyntheticUIEvent"),p=e("./SyntheticWheelEvent"),g=e("./getEventCharCode"),m=e("./invariant"),v=e("./keyOf"),y=(e("./warning"),
r.topLevelTypes),b={blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:v({onMouseOut:!0}),captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},w={topBlur:b.blur,topClick:b.click,topContextMenu:b.contextMenu,topCopy:b.copy,topCut:b.cut,topDoubleClick:b.doubleClick,topDrag:b.drag,topDragEnd:b.dragEnd,topDragEnter:b.dragEnter,topDragExit:b.dragExit,topDragLeave:b.dragLeave,topDragOver:b.dragOver,topDragStart:b.dragStart,topDrop:b.drop,topError:b.error,topFocus:b.focus,topInput:b.input,topKeyDown:b.keyDown,topKeyPress:b.keyPress,topKeyUp:b.keyUp,topLoad:b.load,topMouseDown:b.mouseDown,topMouseMove:b.mouseMove,topMouseOut:b.mouseOut,topMouseOver:b.mouseOver,topMouseUp:b.mouseUp,topPaste:b.paste,topReset:b.reset,topScroll:b.scroll,topSubmit:b.submit,topTouchCancel:b.touchCancel,topTouchEnd:b.touchEnd,topTouchMove:b.touchMove,topTouchStart:b.touchStart,topWheel:b.wheel};for(var E in w)w[E].dependencies=[E];var C={eventTypes:b,executeDispatch:function(e,t,n){var r=i.executeDispatch(e,t,n);r===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,n,r){var i=w[e];if(!i)return null;var v;switch(e){case y.topInput:case y.topLoad:case y.topError:case y.topReset:case y.topSubmit:v=a;break;case y.topKeyPress:if(0===g(r))return null;case y.topKeyDown:case y.topKeyUp:v=c;break;case y.topBlur:case y.topFocus:v=l;break;case y.topClick:if(2===r.button)return null;case y.topContextMenu:case y.topDoubleClick:case y.topMouseDown:case y.topMouseMove:case y.topMouseOut:case y.topMouseOver:case y.topMouseUp:v=u;break;case y.topDrag:case y.topDragEnd:case y.topDragEnter:case y.topDragExit:case y.topDragLeave:case y.topDragOver:case y.topDragStart:case y.topDrop:v=h;break;case y.topTouchCancel:case y.topTouchEnd:case y.topTouchMove:case y.topTouchStart:v=d;break;case y.topScroll:v=f;break;case y.topWheel:v=p;break;case y.topCopy:case y.topCut:case y.topPaste:v=s}m(v);var b=v.getPooled(i,n,r);return o.accumulateTwoPhaseDispatches(b),b}};t.exports=C},{"./EventConstants":406,"./EventPluginUtils":410,"./EventPropagators":411,"./SyntheticClipboardEvent":496,"./SyntheticDragEvent":498,"./SyntheticEvent":499,"./SyntheticFocusEvent":500,"./SyntheticKeyboardEvent":502,"./SyntheticMouseEvent":503,"./SyntheticTouchEvent":504,"./SyntheticUIEvent":505,"./SyntheticWheelEvent":506,"./getEventCharCode":528,"./invariant":541,"./keyOf":548,"./warning":562}],496:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e("./SyntheticEvent"),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),t.exports=r},{"./SyntheticEvent":499}],497:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e("./SyntheticEvent"),o={data:null};i.augmentClass(r,o),t.exports=r},{"./SyntheticEvent":499}],498:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e("./SyntheticMouseEvent"),o={dataTransfer:null};i.augmentClass(r,o),t.exports=r},{"./SyntheticMouseEvent":503}],499:[function(e,t,n){"use strict";function r(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var r=this.constructor.Interface;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o?this[i]=o(n):this[i]=n[i]}var a=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;a?this.isDefaultPrevented=s.thatReturnsTrue:this.isDefaultPrevented=s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse}var i=e("./PooledClass"),o=e("./Object.assign"),s=e("./emptyFunction"),a=e("./getEventTarget"),l={type:null,target:a,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=l,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);o(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.threeArgumentPooler)},i.addPoolingTo(r,i.threeArgumentPooler),t.exports=r},{"./Object.assign":419,"./PooledClass":420,"./emptyFunction":520,"./getEventTarget":531}],500:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e("./SyntheticUIEvent"),o={relatedTarget:null};i.augmentClass(r,o),t.exports=r},{"./SyntheticUIEvent":505}],501:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e("./SyntheticEvent"),o={data:null};i.augmentClass(r,o),t.exports=r},{"./SyntheticEvent":499}],502:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e("./SyntheticUIEvent"),o=e("./getEventCharCode"),s=e("./getEventKey"),a=e("./getEventModifierState"),l={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,l),t.exports=r},{"./SyntheticUIEvent":505,"./getEventCharCode":528,"./getEventKey":529,"./getEventModifierState":530}],503:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e("./SyntheticUIEvent"),o=e("./ViewportMetrics"),s=e("./getEventModifierState"),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,a),t.exports=r},{"./SyntheticUIEvent":505,"./ViewportMetrics":508,"./getEventModifierState":530}],504:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e("./SyntheticUIEvent"),o=e("./getEventModifierState"),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,s),t.exports=r},{"./SyntheticUIEvent":505,"./getEventModifierState":530}],505:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e("./SyntheticEvent"),o=e("./getEventTarget"),s={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,s),t.exports=r},{"./SyntheticEvent":499,"./getEventTarget":531}],506:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e("./SyntheticMouseEvent"),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),t.exports=r},{"./SyntheticMouseEvent":503}],507:[function(e,t,n){"use strict";var r=e("./invariant"),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,s,a,l){r(!this.isInTransaction());var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=e.call(t,n,i,o,s,a,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){r(this.isInTransaction());for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,s=t[n],a=this.wrapperInitData[n];try{i=!0,a!==o.OBSERVED_ERROR&&s.close&&s.close.call(this,a),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}},o={Mixin:i,OBSERVED_ERROR:{}};t.exports=o},{"./invariant":541}],508:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],509:[function(e,t,n){"use strict";function r(e,t){if(i(null!=t),null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var i=e("./invariant");t.exports=r},{"./invariant":541}],510:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0;r<e.length;r++)t=(t+e.charCodeAt(r))%i,n=(n+t)%i;return t|n<<16}var i=65521;t.exports=r},{}],511:[function(e,t,n){function r(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;t.exports=r},{}],512:[function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=e("./camelize"),o=/^-ms-/;t.exports=r},{"./camelize":511}],513:[function(e,t,n){"use strict";function r(e,t){var n=o.mergeProps(t,e.props);return!n.hasOwnProperty(a)&&e.props.hasOwnProperty(a)&&(n.children=e.props.children),i.createElement(e.type,n)}var i=e("./ReactElement"),o=e("./ReactPropTransferer"),s=e("./keyOf"),a=(e("./warning"),s({children:null}));t.exports=r},{"./ReactElement":453,"./ReactPropTransferer":473,"./keyOf":548,"./warning":562}],514:[function(e,t,n){function r(e,t){return e&&t?e===t?!0:i(e)?!1:i(t)?r(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var i=e("./isTextNode");t.exports=r},{"./isTextNode":545}],515:[function(e,t,n){function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return r(e)?Array.isArray(e)?e.slice():o(e):[e]}var o=e("./toArray");t.exports=i},{"./toArray":559}],516:[function(e,t,n){"use strict";function r(e){var t=o.createFactory(e),n=i.createClass({tagName:e.toUpperCase(),displayName:"ReactFullPageComponent"+e,componentWillUnmount:function(){s(!1)},render:function(){return t(this.props)}});return n}var i=e("./ReactClass"),o=e("./ReactElement"),s=e("./invariant");t.exports=r},{"./ReactClass":428,"./ReactElement":453,"./invariant":541}],517:[function(e,t,n){function r(e){var t=e.match(u);return t&&t[1].toLowerCase()}function i(e,t){var n=c;l(!!c);var i=r(e),o=i&&a(i);if(o){n.innerHTML=o[1]+e+o[2];for(var u=o[0];u--;)n=n.lastChild}else n.innerHTML=e;var h=n.getElementsByTagName("script");h.length&&(l(t),s(h).forEach(t));for(var d=s(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var o=e("./ExecutionEnvironment"),s=e("./createArrayFromMixed"),a=e("./getMarkupWrap"),l=e("./invariant"),c=o.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;t.exports=i},{"./ExecutionEnvironment":412,"./createArrayFromMixed":515,"./getMarkupWrap":533,"./invariant":541}],518:[function(e,t,n){"use strict";function r(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).join(" "):Array.prototype.join.call(arguments," ")}e("./warning");t.exports=r},{"./warning":562}],519:[function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=e("./CSSProperty"),o=i.isUnitlessNumber;t.exports=r},{"./CSSProperty":395}],520:[function(e,t,n){function r(e){return function(){return e}}function i(){}i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},t.exports=i},{}],521:[function(e,t,n){"use strict";var r={};t.exports=r},{}],522:[function(e,t,n){"use strict";function r(e){return o[e]}function i(e){return(""+e).replace(s,r)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},s=/[&><"']/g;t.exports=i},{}],523:[function(e,t,n){"use strict";function r(e){return null==e?null:a(e)?e:i.has(e)?o.getNodeFromInstance(e):(s(null==e.render||"function"!=typeof e.render),void s(!1))}var i=(e("./ReactCurrentOwner"),e("./ReactInstanceMap")),o=e("./ReactMount"),s=e("./invariant"),a=e("./isNode");e("./warning");t.exports=r},{"./ReactCurrentOwner":435,"./ReactInstanceMap":463,"./ReactMount":467,"./invariant":541,"./isNode":543,"./warning":562}],524:[function(e,t,n){"use strict";function r(e,t,n){var r=e,i=!r.hasOwnProperty(n);i&&null!=t&&(r[n]=t)}function i(e){if(null==e)return e;var t={};return o(e,r,t),t}var o=e("./traverseAllChildren");e("./warning");t.exports=i},{"./traverseAllChildren":560,"./warning":562}],525:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}t.exports=r},{}],526:[function(e,t,n){"use strict";var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=r},{}],527:[function(e,t,n){function r(){try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],528:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],529:[function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?s[e.keyCode]||"Unidentified":""}var i=e("./getEventCharCode"),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{"./getEventCharCode":528}],530:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=o[e];return r?!!n[r]:!1}function i(e){return r}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=i},{}],531:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=r},{}],532:[function(e,t,n){"use strict";function r(e){var t=e&&(i&&e[i]||e[o]);return"function"==typeof t?t:void 0}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";t.exports=r},{}],533:[function(e,t,n){function r(e){return o(!!s),d.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||("*"===e?s.innerHTML="<link />":s.innerHTML="<"+e+"></"+e+">",a[e]=!s.firstChild),a[e]?d[e]:null}var i=e("./ExecutionEnvironment"),o=e("./invariant"),s=i.canUseDOM?document.createElement("div"):null,a={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},l=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,"<svg>","</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:u,th:u,circle:h,clipPath:h,defs:h,ellipse:h,g:h,line:h,linearGradient:h,path:h,polygon:h,polyline:h,radialGradient:h,rect:h,stop:h,text:h};t.exports=r},{"./ExecutionEnvironment":412,"./invariant":541}],534:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var n=r(e),o=0,s=0;n;){if(3===n.nodeType){if(s=o+n.textContent.length,t>=o&&s>=t)return{node:n,offset:t-o};o=s}n=r(i(n))}}t.exports=o},{}],535:[function(e,t,n){"use strict";function r(e){return e?e.nodeType===i?e.documentElement:e.firstChild:null}var i=9;t.exports=r},{}],536:[function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=e("./ExecutionEnvironment"),o=null;t.exports=r},{"./ExecutionEnvironment":412}],537:[function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],538:[function(e,t,n){function r(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=r},{}],539:[function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=e("./hyphenate"),o=/^ms-/;t.exports=r},{"./hyphenate":538}],540:[function(e,t,n){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var n;if((null===e||e===!1)&&(e=s.emptyElement),"object"==typeof e){var i=e;n=t===i.type&&"string"==typeof i.type?a.createInternalComponent(i):r(i.type)?new i.type(i):new u}else"string"==typeof e||"number"==typeof e?n=a.createInstanceForText(e):c(!1);return n.construct(e),n._mountIndex=0,n._mountImage=null,n}var o=e("./ReactCompositeComponent"),s=e("./ReactEmptyComponent"),a=e("./ReactNativeComponent"),l=e("./Object.assign"),c=e("./invariant"),u=(e("./warning"),function(){});l(u.prototype,o.Mixin,{_instantiateReactComponent:i}),t.exports=i},{"./Object.assign":419,"./ReactCompositeComponent":433,"./ReactEmptyComponent":455,"./ReactNativeComponent":470,"./invariant":541,"./warning":562}],541:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};t.exports=r},{}],542:[function(e,t,n){"use strict";function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r="function"==typeof s[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=e("./ExecutionEnvironment");o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{"./ExecutionEnvironment":412}],543:[function(e,t,n){function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],544:[function(e,t,n){"use strict";function r(e){return e&&("INPUT"===e.nodeName&&i[e.type]||"TEXTAREA"===e.nodeName)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],545:[function(e,t,n){function r(e){return i(e)&&3==e.nodeType}var i=e("./isNode");t.exports=r},{"./isNode":543}],546:[function(e,t,n){"use strict";function r(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;n>r;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}t.exports=r},{}],547:[function(e,t,n){"use strict";var r=e("./invariant"),i=function(e){var t,n={};r(e instanceof Object&&!Array.isArray(e));for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=i},{"./invariant":541}],548:[function(e,t,n){var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],549:[function(e,t,n){"use strict";function r(e,t,n){if(!e)return null;var r={};for(var o in e)i.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}var i=Object.prototype.hasOwnProperty;t.exports=r},{}],550:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],551:[function(e,t,n){"use strict";function r(e){return o(i.isValidElement(e)),e}var i=e("./ReactElement"),o=e("./invariant");t.exports=r},{"./ReactElement":453,"./invariant":541}],552:[function(e,t,n){"use strict";var r,i=e("./ExecutionEnvironment");i.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),t.exports=r||{}},{"./ExecutionEnvironment":412}],553:[function(e,t,n){var r=e("./performance");r&&r.now||(r=Date);var i=r.now.bind(r);t.exports=i},{"./performance":552}],554:[function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=e("./escapeTextContentForBrowser");t.exports=r},{"./escapeTextContentForBrowser":522}],555:[function(e,t,n){"use strict";var r=e("./ExecutionEnvironment"),i=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(s=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(s=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),i.test(t)||"<"===t[0]&&o.test(t)){e.innerHTML="\ufeff"+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=s},{"./ExecutionEnvironment":412}],556:[function(e,t,n){"use strict";var r=e("./ExecutionEnvironment"),i=e("./escapeTextContentForBrowser"),o=e("./setInnerHTML"),s=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(s=function(e,t){o(e,i(t))})),t.exports=s},{"./ExecutionEnvironment":412,"./escapeTextContentForBrowser":522,"./setInnerHTML":555}],557:[function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}t.exports=r},{}],558:[function(e,t,n){"use strict";function r(e,t){if(null!=e&&null!=t){var n=typeof e,r=typeof t;if("string"===n||"number"===n)return"string"===r||"number"===r;if("object"===r&&e.type===t.type&&e.key===t.key){var i=e._owner===t._owner;return i}}return!1}e("./warning");t.exports=r},{"./warning":562}],559:[function(e,t,n){function r(e){var t=e.length;if(i(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e)),i("number"==typeof t),i(0===t||t-1 in e),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;t>r;r++)n[r]=e[r];return n}var i=e("./invariant");t.exports=r},{"./invariant":541}],560:[function(e,t,n){"use strict";function r(e){return m[e]}function i(e,t){return e&&null!=e.key?s(e.key):t.toString(36)}function o(e){return(""+e).replace(v,r)}function s(e){return"$"+o(e)}function a(e,t,n,r,o){var l=typeof e;if(("undefined"===l||"boolean"===l)&&(e=null),null===e||"string"===l||"number"===l||c.isValidElement(e))return r(o,e,""===t?p+i(e,0):t,n),1;var h,m,v,y=0;if(Array.isArray(e))for(var b=0;b<e.length;b++)h=e[b],m=(""!==t?t+g:p)+i(h,b),v=n+y,y+=a(h,m,v,r,o);else{var w=d(e);if(w){var E,C=w.call(e);if(w!==e.entries)for(var x=0;!(E=C.next()).done;)h=E.value,m=(""!==t?t+g:p)+i(h,x++),v=n+y,y+=a(h,m,v,r,o);else for(;!(E=C.next()).done;){var _=E.value;_&&(h=_[1],m=(""!==t?t+g:p)+s(_[0])+g+i(h,0),v=n+y,y+=a(h,m,v,r,o))}}else if("object"===l){f(1!==e.nodeType);var A=u.extract(e);for(var D in A)A.hasOwnProperty(D)&&(h=A[D],m=(""!==t?t+g:p)+s(D)+g+i(h,0),v=n+y,y+=a(h,m,v,r,o))}}return y}function l(e,t,n){return null==e?0:a(e,"",0,t,n)}var c=e("./ReactElement"),u=e("./ReactFragment"),h=e("./ReactInstanceHandles"),d=e("./getIteratorFn"),f=e("./invariant"),p=(e("./warning"),h.SEPARATOR),g=":",m={"=":"=0",".":"=1",":":"=2"},v=/[=.:]/g;t.exports=l},{"./ReactElement":453,"./ReactFragment":459,"./ReactInstanceHandles":462,"./getIteratorFn":532,"./invariant":541,"./warning":562}],561:[function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function i(e,t,n){l(Array.isArray(e));var r=t[n];l(Array.isArray(r))}function o(e,t){if(l("object"==typeof t),c.call(t,f))return l(1===Object.keys(t).length),t[f];var n=r(e);if(c.call(t,p)){var a=t[p];l(a&&"object"==typeof a),l(n&&"object"==typeof n),s(n,t[p])}c.call(t,u)&&(i(e,t,u),t[u].forEach(function(e){n.push(e)})),c.call(t,h)&&(i(e,t,h),t[h].forEach(function(e){n.unshift(e)})),c.call(t,d)&&(l(Array.isArray(e)),l(Array.isArray(t[d])),t[d].forEach(function(e){l(Array.isArray(e)),n.splice.apply(n,e)})),c.call(t,g)&&(l("function"==typeof t[g]),n=t[g](n));for(var m in t)v.hasOwnProperty(m)&&v[m]||(n[m]=o(e[m],t[m]));return n}var s=e("./Object.assign"),a=e("./keyOf"),l=e("./invariant"),c={}.hasOwnProperty,u=a({$push:null}),h=a({$unshift:null}),d=a({$splice:null}),f=a({$set:null}),p=a({$merge:null}),g=a({$apply:null}),m=[u,h,d,f,p,g],v={};m.forEach(function(e){v[e]=!0}),t.exports=o},{"./Object.assign":419,"./invariant":541,"./keyOf":548}],562:[function(e,t,n){"use strict";var r=e("./emptyFunction"),i=r;t.exports=i},{"./emptyFunction":520}],563:[function(e,t,n){t.exports=e("./lib/React")},{"./lib/React":421}],564:[function(e,t,n){t.exports=function(e,t){var n=e[2],r=e[3],i=t[2],o=t[3],s=n/r;return n>i&&(n=i,r=~~(n/s)),r>o&&(r=o,n=~~(r*s)),[t[0]+Math.max(0,Math.min(e[0],i-n)),t[1]+Math.max(0,Math.min(e[1],o-r)),n,r]}},{}],565:[function(e,t,n){function r(e,t){return t||(t=[.5,.5]),function(n,r){var i=n.width/n.height,o=r.width/r.height,s=Math.max(i,o),a=[i/s*r.width*e,o/s*r.height*e];return[r.width*t[0]-a[0]/2,r.height*t[1]-a[1]/2,a[0],a[1]]}}r.largest=r(1),t.exports=r},{}],566:[function(e,t,n){function r(e,t,n){return e*(1-n)+t*n}t.exports=function(e,t,n){for(var i=[],o=0;4>o;++o)i[o]=r(e[o],t[o],n);return i}},{}],567:[function(e,t,n){function r(e,t){var n=Error.call(this,e);this.name=n.name="UnsupportedDrawOperation",this.stack=n.stack,this.message=n.message,this.path=t}function i(e,t){return this instanceof i?(this.ctx=e,void this.setImgsCache(t)):new i(e,t)}var o=e("draw-image-normalized"),s=e("rect-crop"),a={background:"#000",size:[1e3,1e3],draws:[]};r.prototype=Object.create(Error.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),i.defaults=a,i.prototype={destroy:function(){this._item=null,this._imgs=null,this.ctx=null},setImgsCache:function(e){if(this._imgs={},e)for(var t in e)this._imgs[t]=e[t]},getSize:function(e){return e.size||a.size},getRectangle:function(e){var t=this.getSize(e),n=t[0],r=t[1];return s.largest({width:n,height:r},this.ctx.canvas)},render:function(e,t){this._item=e;var n=this.ctx,r=n.canvas,i=r.width,o=r.height,s=e.background||a.size,l=this.getSize(e),c=this.getRectangle(e),u=l[0],h=l[1];n.save(),n.fillStyle=s,n.fillRect(0,0,i,o),n.translate(Math.round(c[0]),Math.round(c[1])),n.scale(c[2]/u,c[3]/h),this._renderRec(e.draws||a.draws,[],t||function(){}),n.restore()},_renderRec:function(e,t,n){for(var r=this.ctx,i=e.length,o=0;i>o;++o){var s=e[o],a=t.concat([o]);if(s instanceof Array){var l=s[0];"object"==typeof l?(r.save(),this._renderRec(s,a,n),r.restore()):this._renderOp(l,s.slice(1),a)}else for(var c in s)r[c]=s[c];n(a,s)}},_renderOp:function(e,t,n){var i=this.ctx;if("string"!=typeof e)throw new r("must be a string operation: "+e,n);switch(e){case"drawImage":var s="string"==typeof t[0]?this._imageForUrl(t[0]):s;o.apply(null,[i,s].concat(t.slice(1)));break;case"fillText":case"strokeText":var a=t[0],l=a.split("\n"),c=l.length,u=t[1],h=t[2];if(1===c||t.length<4)i[e].call(i,a,u,h);else for(var d=t[3],f=0;c>f;++f)i[e].call(i,l[f],u,h+f*d);break;default:var p=i[e];if("function"!=typeof p)throw new r(e,n);p.apply(i,t)}},_imageForUrl:function(e){if(e in this._imgs)return this._imgs[e];var t=new window.Image;return t.crossOrigin=!0,t.src=e,this._imgs[e]=t,t.onload=function(){
this._item&&this.render(this._item)}.bind(this),t}},t.exports=i},{"draw-image-normalized":568,"rect-crop":565}],568:[function(e,t,n){t.exports=function(e,t,n,r,i,o,s,a,l,c){if(arguments.length<=6&&(s=n,a=r,l=i,c=o,n=0,r=0,i=t.width,o=t.height),arguments.length<=4&&(l=i,c=o),0>n&&(s-=n*l/i,l+=n*l/i,i+=n,n=0),0>r&&(a-=r*c/o,c+=r*c/o,o+=r,r=0),n+i>t.width){var u=n+i-t.width;l*=(i-u)/i,i=t.width}if(r+o>t.height){var h=r+o-t.height;c*=(o-h)/o,o=t.height}0>=i||0>=o||0>=l||0>=c||e.drawImage.apply(e,[t,n,r,i,o,s,a,l,c])}},{}],569:[function(e,t,n){"use strict";function r(e){return e in u?u[e]:u[e]=i(e)}function i(e){var t,n=e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}),r=l.length;if(void 0!==a[n])return n;for(n=o(e);r--;)if(t=l[r]+n,void 0!==a[t])return t;throw new Error("unable to prefix "+e)}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e){var t=r(e),n=/([A-Z])/g;return n.test(t)&&(t=(c.test(t)?"-":"")+t.replace(n,"-$1")),t.toLowerCase()}var a=document.createElement("p").style,l="O ms Moz webkit".split(" "),c=/^(o|ms|moz|webkit)/,u={};t.exports=r,t.exports.dash=s},{}],570:[function(e,t,n){t.exports={name:"diaporama-maker",version:"0.6.0",description:"An editor to make image slideshows performed with diaporama – including KenBurns effect and GLSL Transitions.",main:"nwjs.html",window:{title:"Diaporama Maker",icon:"static/assets/icon.png",toolbar:!1,frame:!0,width:1024,height:768,position:"center",min_width:800,min_height:600},bin:{diaporama:"./cmd.js"},browserify:{transform:[["babelify",{ignore:".*.json"}]]},scripts:{dev:"watchify client/index.js -d -o builds/app.bundle.js -v",build:"export NODE_ENV=production; npm run build-client && npm run build-bootstrap","build-client":"browserify client/index.js | derequire | uglifyjs -c -m --screw-ie8 > builds/app.bundle.js","build-bootstrap":"browserify bootstrap/index.js | derequire | uglifyjs -c -m --screw-ie8 > builds/diaporama.bundle.js"},repository:{type:"git",url:"git@github.com:gre/diaporama-maker.git"},author:"Gaëtan Renaudeau",license:"GPL",bugs:{url:"https://github.com/gre/diaporama-maker/issues"},homepage:"https://github.com/gre/diaporama-maker",keywords:["diaporama","slideshow"],dependencies:{archiver:"0.14.4","bezier-easing":"0.4.5","bezier-easing-editor":"0.4.3","bezier-easing-picker":"0.0.3","body-parser":"1.12.4",brace:"0.5.1",combokeys:"2.4.3","css-cursor":"1.0.0",diaporama:"1.6.1","diaporama-react":"1.8.0",etag:"1.6.0",express:"4.12.4",fresh:"0.3.0","glsl-transition-fade":"1.0.0","glsl-transition-validator":"0.4.0","glsl-transition-vignette":"0.4.1","glsl-transition-vignette-grid":"0.4.1","glsl-transitions":"2015.5.1","glsl-uniforms-editor":"0.1.1",gm:"1.18.1","json-beautify":"1.0.1","kenburns-editor":"0.1.1",lodash:"3.9.1",multer:"0.1.8",open:"0.0.5",parseurl:"1.3.0",portscanner:"1.0.0",q:"1.4.1",qajax:"1.3.0",raf:"2.0.4",react:"0.13.3","react-dnd":"0.9.8","rect-clamp":"0.0.0","rect-crop":"0.0.0","rect-mix":"0.0.0",request:"2.55.0","serve-static":"1.9.3",slide2d:"1.0.12","vendor-prefix":"0.1.0"},devDependencies:{babelify:"6.1.1",browserify:"10.2.1",derequire:"2.0.0","uglify-js":"2.4.23",watchify:"3.2.1"}}},{}],571:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=e("qajax"),o=r(i),s=e("url"),a=r(s),l=e("./models/Diaporama"),c=r(l),u=e("../common/isImage"),h=r(u),d=e("react/addons");window.React=d,window.Perf=d.addons.Perf;var f={fromImage:"/assets/images/1.jpg",toImage:"/assets/images/2.jpg",toProjectUrl:function(e,t){return"/preview/"+e+(t?"":"?format=thumbnail")},diaporamaZipUrl:function(e){return a.default.format({query:e,pathname:"/diaporama/generate/zip"})},diaporamaJsonUrl:function(){return"/diaporama.json"},bootstrapDiaporama:function(e){return o.default({method:"POST",url:"/diaporama/bootstrap",data:e}).then(o.default.filterSuccess).then(o.default.toJSON).then(c.default.fromBootstrap)},saveDiaporama:function(e){return o.default({method:"POST",url:"/diaporama.json",data:c.default.clean(e)}).then(o.default.filterSuccess).then(o.default.toJSON)},fetchDiaporama:function(){return o.default({method:"GET",url:"/diaporama.json"}).then(o.default.filterStatus(200)).then(o.default.toJSON).then(c.default.fromFetch).fail(function(e){if(e&&204===e.status)return null;throw e})},listItems:function(){return o.default({method:"GET",url:"/listfiles"}).then(o.default.filterSuccess).then(o.default.toJSON).then(function(e){return e.map(function(e){return h.default(e)?{id:e,image:e,title:e}:{id:e,file:e,title:e}})})},uploadFiles:function(e){var t=new window.FormData;return e.forEach(function(e){t.append("file",e)}),o.default({method:"POST",url:"/upload",data:t}).then(o.default.filterSuccess).then(o.default.toJSON)}};window.App=e("./ui/App"),window.DiaporamaMakerAPI=f},{"../common/isImage":54,"./models/Diaporama":13,"./ui/App":16,qajax:351,"react/addons":391,url:103}]},{},[571]);
